/*! For license information please see main.c319fc33.js.LICENSE.txt */
!function(){"use strict";var e={463:function(e,t,n){var r=n(791),i=n(296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,u={};function s(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(u[e]=t,e=0;e<t.length;e++)o.add(t[e])}var c=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function v(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function g(e){return e[1].toUpperCase()}function k(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(p,e)||!f.call(d,e)&&(h.test(e)?p[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),E=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),x=Symbol.for("react.profiler"),T=Symbol.for("react.provider"),C=Symbol.for("react.context"),I=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),L=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var O=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var R=Symbol.iterator;function P(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=R&&e[R]||e["@@iterator"])?e:null}var M,F=Object.assign;function V(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var U=!1;function j(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(l){var r=l}Reflect.construct(e,[],t)}else{try{t.call()}catch(l){r=l}e.call(t.prototype)}else{try{throw Error()}catch(l){r=l}e()}}catch(l){if(l&&r&&"string"===typeof l.stack){for(var i=l.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,u=a.length-1;1<=o&&0<=u&&i[o]!==a[u];)u--;for(;1<=o&&0<=u;o--,u--)if(i[o]!==a[u]){if(1!==o||1!==u)do{if(o--,0>--u||i[o]!==a[u]){var s="\n"+i[o].replace(" at new "," at ");return e.displayName&&s.includes("<anonymous>")&&(s=s.replace("<anonymous>",e.displayName)),s}}while(1<=o&&0<=u);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?V(e):""}function z(e){switch(e.tag){case 5:return V(e.type);case 16:return V("Lazy");case 13:return V("Suspense");case 19:return V("SuspenseList");case 0:case 2:case 15:return e=j(e.type,!1);case 11:return e=j(e.type.render,!1);case 1:return e=j(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case _:return"Fragment";case E:return"Portal";case x:return"Profiler";case S:return"StrictMode";case N:return"Suspense";case A:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case T:return(e._context.displayName||"Context")+".Provider";case I:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case D:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case L:t=e._payload,e=e._init;try{return B(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function H(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function K(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Q(e){e._valueTracker||(e._valueTracker=function(e){var t=K(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function W(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=K(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function G(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var n=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function $(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=H(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&k(e,"checked",t,!1)}function J(e,t){X(e,t);var n=H(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,H(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&G(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+H(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:H(n)}}function ae(e,t){var n=H(t.value),r=H(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ue(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function se(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ue(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var le,ce,fe=(ce=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((le=le||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=le.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ce(e,t)}))}:ce);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(de).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var ye=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ge(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function ke(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ee=null,_e=null,Se=null;function xe(e){if(e=ki(e)){if("function"!==typeof Ee)throw Error(a(280));var t=e.stateNode;t&&(t=wi(t),Ee(e.stateNode,e.type,t))}}function Te(e){_e?Se?Se.push(e):Se=[e]:_e=e}function Ce(){if(_e){var e=_e,t=Se;if(Se=_e=null,xe(e),t)for(e=0;e<t.length;e++)xe(t[e])}}function Ie(e,t){return e(t)}function Ne(){}var Ae=!1;function De(e,t,n){if(Ae)return e(t,n);Ae=!0;try{return Ie(e,t,n)}finally{Ae=!1,(null!==_e||null!==Se)&&(Ne(),Ce())}}function Le(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Oe=!1;if(c)try{var Re={};Object.defineProperty(Re,"passive",{get:function(){Oe=!0}}),window.addEventListener("test",Re,Re),window.removeEventListener("test",Re,Re)}catch(ce){Oe=!1}function Pe(e,t,n,r,i,a,o,u,s){var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(c){this.onError(c)}}var Me=!1,Fe=null,Ve=!1,Ue=null,je={onError:function(e){Me=!0,Fe=e}};function ze(e,t,n,r,i,a,o,u,s){Me=!1,Fe=null,Pe.apply(je,arguments)}function Be(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function He(e){if(Be(e)!==e)throw Error(a(188))}function Ke(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return He(i),e;if(o===r)return He(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var u=!1,s=i.child;s;){if(s===n){u=!0,n=i,r=o;break}if(s===r){u=!0,r=i,n=o;break}s=s.sibling}if(!u){for(s=o.child;s;){if(s===n){u=!0,n=o,r=i;break}if(s===r){u=!0,r=o,n=i;break}s=s.sibling}if(!u)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?Qe(e):null}function Qe(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Qe(e);if(null!==t)return t;e=e.sibling}return null}var We=i.unstable_scheduleCallback,Ge=i.unstable_cancelCallback,Ye=i.unstable_shouldYield,$e=i.unstable_requestPaint,Xe=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(ut(e)/st|0)|0},ut=Math.log,st=Math.LN2;var lt=64,ct=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var u=o&~i;0!==u?r=ft(u):0!==(a&=o)&&(r=ft(a))}else 0!==(o=n&~i)?r=ft(o):0!==a&&(r=ft(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=lt;return 0===(4194240&(lt<<=1))&&(lt=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function gt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var kt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,Et,_t,St,xt,Tt=!1,Ct=[],It=null,Nt=null,At=null,Dt=new Map,Lt=new Map,Ot=[],Rt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Pt(e,t){switch(e){case"focusin":case"focusout":It=null;break;case"dragenter":case"dragleave":Nt=null;break;case"mouseover":case"mouseout":At=null;break;case"pointerover":case"pointerout":Dt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Lt.delete(t.pointerId)}}function Mt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=ki(t))&&Et(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Ft(e){var t=gi(e.target);if(null!==t){var n=Be(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void xt(e.priority,(function(){_t(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Vt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ki(n))&&Et(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function Ut(e,t,n){Vt(e)&&n.delete(t)}function jt(){Tt=!1,null!==It&&Vt(It)&&(It=null),null!==Nt&&Vt(Nt)&&(Nt=null),null!==At&&Vt(At)&&(At=null),Dt.forEach(Ut),Lt.forEach(Ut)}function zt(e,t){e.blockedOn===t&&(e.blockedOn=null,Tt||(Tt=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,jt)))}function Bt(e){function t(t){return zt(t,e)}if(0<Ct.length){zt(Ct[0],e);for(var n=1;n<Ct.length;n++){var r=Ct[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==It&&zt(It,e),null!==Nt&&zt(Nt,e),null!==At&&zt(At,e),Dt.forEach(t),Lt.forEach(t),n=0;n<Ot.length;n++)(r=Ot[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Ot.length&&null===(n=Ot[0]).blockedOn;)Ft(n),null===n.blockedOn&&Ot.shift()}var qt=b.ReactCurrentBatchConfig,Ht=!0;function Kt(e,t,n,r){var i=kt,a=qt.transition;qt.transition=null;try{kt=1,Wt(e,t,n,r)}finally{kt=i,qt.transition=a}}function Qt(e,t,n,r){var i=kt,a=qt.transition;qt.transition=null;try{kt=4,Wt(e,t,n,r)}finally{kt=i,qt.transition=a}}function Wt(e,t,n,r){if(Ht){var i=Yt(e,t,n,r);if(null===i)Hr(e,t,r,Gt,n),Pt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return It=Mt(It,e,t,n,r,i),!0;case"dragenter":return Nt=Mt(Nt,e,t,n,r,i),!0;case"mouseover":return At=Mt(At,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Dt.set(a,Mt(Dt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Lt.set(a,Mt(Lt.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Pt(e,r),4&t&&-1<Rt.indexOf(e)){for(;null!==i;){var a=ki(i);if(null!==a&&wt(a),null===(a=Yt(e,t,n,r))&&Hr(e,t,r,Gt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Hr(e,t,r,null,n)}}var Gt=null;function Yt(e,t,n,r){if(Gt=null,null!==(e=gi(e=we(r))))if(null===(t=Be(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Gt=e,null}function $t(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Xt=null,Jt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Jt,r=n.length,i="value"in Xt?Xt.value:Xt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,un,sn,ln={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cn=an(ln),fn=F({},ln,{view:0,detail:0}),hn=an(fn),dn=F({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==sn&&(sn&&"mousemove"===e.type?(on=e.screenX-sn.screenX,un=e.screenY-sn.screenY):un=on=0,sn=e),on)},movementY:function(e){return"movementY"in e?e.movementY:un}}),pn=an(dn),vn=an(F({},dn,{dataTransfer:0})),mn=an(F({},fn,{relatedTarget:0})),yn=an(F({},ln,{animationName:0,elapsedTime:0,pseudoElement:0})),gn=F({},ln,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),kn=an(gn),bn=an(F({},ln,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},En={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_n={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=_n[e])&&!!t[e]}function xn(){return Sn}var Tn=F({},fn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?En[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Cn=an(Tn),In=an(F({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Nn=an(F({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xn})),An=an(F({},ln,{propertyName:0,elapsedTime:0,pseudoElement:0})),Dn=F({},dn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ln=an(Dn),On=[9,13,27,32],Rn=c&&"CompositionEvent"in window,Pn=null;c&&"documentMode"in document&&(Pn=document.documentMode);var Mn=c&&"TextEvent"in window&&!Pn,Fn=c&&(!Rn||Pn&&8<Pn&&11>=Pn),Vn=String.fromCharCode(32),Un=!1;function jn(e,t){switch(e){case"keyup":return-1!==On.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Bn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Kn(e,t,n,r){Te(r),0<(t=Qr(t,"onChange")).length&&(n=new cn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Qn=null,Wn=null;function Gn(e){Vr(e,0)}function Yn(e){if(W(bi(e)))return e}function $n(e,t){if("change"===e)return t}var Xn=!1;if(c){var Jn;if(c){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Jn=Zn}else Jn=!1;Xn=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){Qn&&(Qn.detachEvent("onpropertychange",nr),Wn=Qn=null)}function nr(e){if("value"===e.propertyName&&Yn(Wn)){var t=[];Kn(t,Wn,e,we(e)),De(Gn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Wn=n,(Qn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn(Wn)}function ar(e,t){if("click"===e)return Yn(t)}function or(e,t){if("input"===e||"change"===e)return Yn(t)}var ur="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function sr(e,t){if(ur(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f.call(t,i)||!ur(e[i],t[i]))return!1}return!0}function lr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cr(e,t){var n,r=lr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=lr(r)}}function fr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=G();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=G((e=t.contentWindow).document)}return t}function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fr(n.ownerDocument.documentElement,n)){if(null!==r&&dr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=cr(n,a);var o=cr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=c&&"documentMode"in document&&11>=document.documentMode,mr=null,yr=null,gr=null,kr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;kr||null==mr||mr!==G(r)||("selectionStart"in(r=mr)&&dr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},gr&&sr(gr,r)||(gr=r,0<(r=Qr(yr,"onSelect")).length&&(t=new cn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Er={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},_r={},Sr={};function xr(e){if(_r[e])return _r[e];if(!Er[e])return e;var t,n=Er[e];for(t in n)if(n.hasOwnProperty(t)&&t in Sr)return _r[e]=n[t];return e}c&&(Sr=document.createElement("div").style,"AnimationEvent"in window||(delete Er.animationend.animation,delete Er.animationiteration.animation,delete Er.animationstart.animation),"TransitionEvent"in window||delete Er.transitionend.transition);var Tr=xr("animationend"),Cr=xr("animationiteration"),Ir=xr("animationstart"),Nr=xr("transitionend"),Ar=new Map,Dr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Lr(e,t){Ar.set(e,t),s(t,[e])}for(var Or=0;Or<Dr.length;Or++){var Rr=Dr[Or];Lr(Rr.toLowerCase(),"on"+(Rr[0].toUpperCase()+Rr.slice(1)))}Lr(Tr,"onAnimationEnd"),Lr(Cr,"onAnimationIteration"),Lr(Ir,"onAnimationStart"),Lr("dblclick","onDoubleClick"),Lr("focusin","onFocus"),Lr("focusout","onBlur"),Lr(Nr,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Pr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Pr));function Fr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,u,s,l){if(ze.apply(this,arguments),Me){if(!Me)throw Error(a(198));var c=Fe;Me=!1,Fe=null,Ve||(Ve=!0,Ue=c)}}(r,t,void 0,e),e.currentTarget=null}function Vr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var u=r[o],s=u.instance,l=u.currentTarget;if(u=u.listener,s!==a&&i.isPropagationStopped())break e;Fr(i,u,l),a=s}else for(o=0;o<r.length;o++){if(s=(u=r[o]).instance,l=u.currentTarget,u=u.listener,s!==a&&i.isPropagationStopped())break e;Fr(i,u,l),a=s}}}if(Ve)throw e=Ue,Ve=!1,Ue=null,e}function Ur(e,t){var n=t[vi];void 0===n&&(n=t[vi]=new Set);var r=e+"__bubble";n.has(r)||(qr(t,e,2,!1),n.add(r))}function jr(e,t,n){var r=0;t&&(r|=4),qr(n,e,r,t)}var zr="_reactListening"+Math.random().toString(36).slice(2);function Br(e){if(!e[zr]){e[zr]=!0,o.forEach((function(t){"selectionchange"!==t&&(Mr.has(t)||jr(t,!1,e),jr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[zr]||(t[zr]=!0,jr("selectionchange",!1,t))}}function qr(e,t,n,r){switch($t(t)){case 1:var i=Kt;break;case 4:i=Qt;break;default:i=Wt}n=i.bind(null,t,n,e),i=void 0,!Oe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Hr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var u=r.stateNode.containerInfo;if(u===i||8===u.nodeType&&u.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var s=o.tag;if((3===s||4===s)&&((s=o.stateNode.containerInfo)===i||8===s.nodeType&&s.parentNode===i))return;o=o.return}for(;null!==u;){if(null===(o=gi(u)))return;if(5===(s=o.tag)||6===s){r=a=o;continue e}u=u.parentNode}}r=r.return}De((function(){var r=a,i=we(n),o=[];e:{var u=Ar.get(e);if(void 0!==u){var s=cn,l=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":s=Cn;break;case"focusin":l="focus",s=mn;break;case"focusout":l="blur",s=mn;break;case"beforeblur":case"afterblur":s=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=Nn;break;case Tr:case Cr:case Ir:s=yn;break;case Nr:s=An;break;case"scroll":s=hn;break;case"wheel":s=Ln;break;case"copy":case"cut":case"paste":s=kn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=In}var c=0!==(4&t),f=!c&&"scroll"===e,h=c?null!==u?u+"Capture":null:u;c=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=Le(p,h))&&c.push(Kr(p,v,d)))),f)break;p=p.return}0<c.length&&(u=new s(u,l,null,n,i),o.push({event:u,listeners:c}))}}if(0===(7&t)){if(s="mouseout"===e||"pointerout"===e,(!(u="mouseover"===e||"pointerover"===e)||n===be||!(l=n.relatedTarget||n.fromElement)||!gi(l)&&!l[pi])&&(s||u)&&(u=i.window===i?i:(u=i.ownerDocument)?u.defaultView||u.parentWindow:window,s?(s=r,null!==(l=(l=n.relatedTarget||n.toElement)?gi(l):null)&&(l!==(f=Be(l))||5!==l.tag&&6!==l.tag)&&(l=null)):(s=null,l=r),s!==l)){if(c=pn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(c=In,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==s?u:bi(s),d=null==l?u:bi(l),(u=new c(v,p+"leave",s,n,i)).target=f,u.relatedTarget=d,v=null,gi(i)===r&&((c=new c(h,p+"enter",l,n,i)).target=d,c.relatedTarget=f,v=c),f=v,s&&l)e:{for(h=l,p=0,d=c=s;d;d=Wr(d))p++;for(d=0,v=h;v;v=Wr(v))d++;for(;0<p-d;)c=Wr(c),p--;for(;0<d-p;)h=Wr(h),d--;for(;p--;){if(c===h||null!==h&&c===h.alternate)break e;c=Wr(c),h=Wr(h)}c=null}else c=null;null!==s&&Gr(o,u,s,c,!1),null!==l&&null!==f&&Gr(o,f,l,c,!0)}if("select"===(s=(u=r?bi(r):window).nodeName&&u.nodeName.toLowerCase())||"input"===s&&"file"===u.type)var m=$n;else if(Hn(u))if(Xn)m=or;else{m=ir;var y=rr}else(s=u.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===u.type||"radio"===u.type)&&(m=ar);switch(m&&(m=m(e,r))?Kn(o,m,n,i):(y&&y(e,u,r),"focusout"===e&&(y=u._wrapperState)&&y.controlled&&"number"===u.type&&ee(u,"number",u.value)),y=r?bi(r):window,e){case"focusin":(Hn(y)||"true"===y.contentEditable)&&(mr=y,yr=r,gr=null);break;case"focusout":gr=yr=mr=null;break;case"mousedown":kr=!0;break;case"contextmenu":case"mouseup":case"dragend":kr=!1,br(o,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":br(o,n,i)}var g;if(Rn)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Bn?jn(e,n)&&(k="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(k="onCompositionStart");k&&(Fn&&"ko"!==n.locale&&(Bn||"onCompositionStart"!==k?"onCompositionEnd"===k&&Bn&&(g=en()):(Jt="value"in(Xt=i)?Xt.value:Xt.textContent,Bn=!0)),0<(y=Qr(r,k)).length&&(k=new bn(k,e,null,n,i),o.push({event:k,listeners:y}),g?k.data=g:null!==(g=zn(n))&&(k.data=g))),(g=Mn?function(e,t){switch(e){case"compositionend":return zn(t);case"keypress":return 32!==t.which?null:(Un=!0,Vn);case"textInput":return(e=t.data)===Vn&&Un?null:e;default:return null}}(e,n):function(e,t){if(Bn)return"compositionend"===e||!Rn&&jn(e,t)?(e=en(),Zt=Jt=Xt=null,Bn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Qr(r,"onBeforeInput")).length&&(i=new bn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}Vr(o,t)}))}function Kr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Qr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Le(e,n))&&r.unshift(Kr(e,a,i)),null!=(a=Le(e,t))&&r.push(Kr(e,a,i))),e=e.return}return r}function Wr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Gr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var u=n,s=u.alternate,l=u.stateNode;if(null!==s&&s===r)break;5===u.tag&&null!==l&&(u=l,i?null!=(s=Le(n,a))&&o.unshift(Kr(n,s,u)):i||null!=(s=Le(n,a))&&o.push(Kr(n,s,u))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Yr=/\r\n?/g,$r=/\u0000|\uFFFD/g;function Xr(e){return("string"===typeof e?e:""+e).replace(Yr,"\n").replace($r,"")}function Jr(e,t,n){if(t=Xr(t),Xr(e)!==t&&n)throw Error(a(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(ui)}:ri;function ui(e){setTimeout((function(){throw e}))}function si(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Bt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Bt(t)}function li(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ci(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fi=Math.random().toString(36).slice(2),hi="__reactFiber$"+fi,di="__reactProps$"+fi,pi="__reactContainer$"+fi,vi="__reactEvents$"+fi,mi="__reactListeners$"+fi,yi="__reactHandles$"+fi;function gi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ci(e);null!==e;){if(n=e[hi])return n;e=ci(e)}return t}n=(e=n).parentNode}return null}function ki(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function bi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function wi(e){return e[di]||null}var Ei=[],_i=-1;function Si(e){return{current:e}}function xi(e){0>_i||(e.current=Ei[_i],Ei[_i]=null,_i--)}function Ti(e,t){_i++,Ei[_i]=e.current,e.current=t}var Ci={},Ii=Si(Ci),Ni=Si(!1),Ai=Ci;function Di(e,t){var n=e.type.contextTypes;if(!n)return Ci;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Li(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Oi(){xi(Ni),xi(Ii)}function Ri(e,t,n){if(Ii.current!==Ci)throw Error(a(168));Ti(Ii,t),Ti(Ni,n)}function Pi(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,q(e)||"Unknown",i));return F({},n,r)}function Mi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ci,Ai=Ii.current,Ti(Ii,e),Ti(Ni,Ni.current),!0}function Fi(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Pi(e,t,Ai),r.__reactInternalMemoizedMergedChildContext=e,xi(Ni),xi(Ii),Ti(Ii,e)):xi(Ni),Ti(Ni,n)}var Vi=null,Ui=!1,ji=!1;function zi(e){null===Vi?Vi=[e]:Vi.push(e)}function Bi(){if(!ji&&null!==Vi){ji=!0;var e=0,t=kt;try{var n=Vi;for(kt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Vi=null,Ui=!1}catch(i){throw null!==Vi&&(Vi=Vi.slice(e+1)),We(Ze,Bi),i}finally{kt=t,ji=!1}}return null}var qi=[],Hi=0,Ki=null,Qi=0,Wi=[],Gi=0,Yi=null,$i=1,Xi="";function Ji(e,t){qi[Hi++]=Qi,qi[Hi++]=Ki,Ki=e,Qi=t}function Zi(e,t,n){Wi[Gi++]=$i,Wi[Gi++]=Xi,Wi[Gi++]=Yi,Yi=e;var r=$i;e=Xi;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,$i=1<<32-ot(t)+i|n<<i|r,Xi=a+e}else $i=1<<a|n<<i|r,Xi=e}function ea(e){null!==e.return&&(Ji(e,1),Zi(e,1,0))}function ta(e){for(;e===Ki;)Ki=qi[--Hi],qi[Hi]=null,Qi=qi[--Hi],qi[Hi]=null;for(;e===Yi;)Yi=Wi[--Gi],Wi[Gi]=null,Xi=Wi[--Gi],Wi[Gi]=null,$i=Wi[--Gi],Wi[Gi]=null}var na=null,ra=null,ia=!1,aa=null;function oa(e,t){var n=Ll(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ua(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ra=li(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Yi?{id:$i,overflow:Xi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Ll(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ra=null,!0);default:return!1}}function sa(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function la(e){if(ia){var t=ra;if(t){var n=t;if(!ua(e,t)){if(sa(e))throw Error(a(418));t=li(n.nextSibling);var r=na;t&&ua(e,t)?oa(r,n):(e.flags=-4097&e.flags|2,ia=!1,na=e)}}else{if(sa(e))throw Error(a(418));e.flags=-4097&e.flags|2,ia=!1,na=e}}}function ca(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function fa(e){if(e!==na)return!1;if(!ia)return ca(e),ia=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ra)){if(sa(e))throw ha(),Error(a(418));for(;t;)oa(e,t),t=li(t.nextSibling)}if(ca(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ra=li(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ra=null}}else ra=na?li(e.stateNode.nextSibling):null;return!0}function ha(){for(var e=ra;e;)e=li(e.nextSibling)}function da(){ra=na=null,ia=!1}function pa(e){null===aa?aa=[e]:aa.push(e)}var va=b.ReactCurrentBatchConfig;function ma(e,t){if(e&&e.defaultProps){for(var n in t=F({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var ya=Si(null),ga=null,ka=null,ba=null;function wa(){ba=ka=ga=null}function Ea(e){var t=ya.current;xi(ya),e._currentValue=t}function _a(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Sa(e,t){ga=e,ba=ka=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bu=!0),e.firstContext=null)}function xa(e){var t=e._currentValue;if(ba!==e)if(e={context:e,memoizedValue:t,next:null},null===ka){if(null===ga)throw Error(a(308));ka=e,ga.dependencies={lanes:0,firstContext:e}}else ka=ka.next=e;return t}var Ta=null;function Ca(e){null===Ta?Ta=[e]:Ta.push(e)}function Ia(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ca(t)):(n.next=i.next,i.next=n),t.interleaved=n,Na(e,r)}function Na(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Aa=!1;function Da(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function La(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Oa(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ra(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Ns)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Na(e,n)}return null===(i=r.interleaved)?(t.next=t,Ca(r)):(t.next=i.next,i.next=t),r.interleaved=t,Na(e,n)}function Pa(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}function Ma(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Fa(e,t,n,r){var i=e.updateQueue;Aa=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,u=i.shared.pending;if(null!==u){i.shared.pending=null;var s=u,l=s.next;s.next=null,null===o?a=l:o.next=l,o=s;var c=e.alternate;null!==c&&((u=(c=c.updateQueue).lastBaseUpdate)!==o&&(null===u?c.firstBaseUpdate=l:u.next=l,c.lastBaseUpdate=s))}if(null!==a){var f=i.baseState;for(o=0,c=l=s=null,u=a;;){var h=u.lane,d=u.eventTime;if((r&h)===h){null!==c&&(c=c.next={eventTime:d,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var p=e,v=u;switch(h=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){f=p.call(d,f,h);break e}f=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=v.payload)?p.call(d,f,h):p)||void 0===h)break e;f=F({},f,h);break e;case 2:Aa=!0}}null!==u.callback&&0!==u.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[u]:h.push(u))}else d={eventTime:d,lane:h,tag:u.tag,payload:u.payload,callback:u.callback,next:null},null===c?(l=c=d,s=f):c=c.next=d,o|=h;if(null===(u=u.next)){if(null===(u=i.shared.pending))break;u=(h=u).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===c&&(s=f),i.baseState=s,i.firstBaseUpdate=l,i.lastBaseUpdate=c,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Fs|=o,e.lanes=o,e.memoizedState=f}}function Va(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var Ua=(new r.Component).refs;function ja(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:F({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var za={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tl(),i=nl(e),a=Oa(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Ra(e,a,i))&&(rl(t,e,i,r),Pa(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tl(),i=nl(e),a=Oa(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Ra(e,a,i))&&(rl(t,e,i,r),Pa(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tl(),r=nl(e),i=Oa(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Ra(e,i,r))&&(rl(t,e,r,n),Pa(t,e,r))}};function Ba(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!sr(n,r)||!sr(i,a))}function qa(e,t,n){var r=!1,i=Ci,a=t.contextType;return"object"===typeof a&&null!==a?a=xa(a):(i=Li(t)?Ai:Ii.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Di(e,i):Ci),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=za,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Ha(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&za.enqueueReplaceState(t,t.state,null)}function Ka(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Ua,Da(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=xa(a):(a=Li(t)?Ai:Ii.current,i.context=Di(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(ja(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&za.enqueueReplaceState(i,i.state,null),Fa(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Qa(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===Ua&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Wa(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ga(e){return(0,e._init)(e._payload)}function Ya(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Rl(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function u(t){return e&&null===t.alternate&&(t.flags|=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=Vl(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function l(e,t,n,r){var a=n.type;return a===_?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===L&&Ga(a)===t.type)?((r=i(t,n.props)).ref=Qa(e,t,n),r.return=e,r):((r=Pl(n.type,n.key,n.props,null,e.mode,r)).ref=Qa(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Ul(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Ml(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Vl(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Pl(t.type,t.key,t.props,null,e.mode,n)).ref=Qa(e,null,t),n.return=e,n;case E:return(t=Ul(t,e.mode,n)).return=e,t;case L:return h(e,(0,t._init)(t._payload),n)}if(te(t)||P(t))return(t=Ml(t,e.mode,n,null)).return=e,t;Wa(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:s(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?l(e,t,n,r):null;case E:return n.key===i?c(e,t,n,r):null;case L:return d(e,t,(i=n._init)(n._payload),r)}if(te(n)||P(n))return null!==i?null:f(e,t,n,r,null);Wa(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return s(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case E:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case L:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||P(r))return f(t,e=e.get(n)||null,r,i,null);Wa(t,r)}return null}function v(i,a,u,s){for(var l=null,c=null,f=a,v=a=0,m=null;null!==f&&v<u.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var y=d(i,f,u[v],s);if(null===y){null===f&&(f=m);break}e&&f&&null===y.alternate&&t(i,f),a=o(y,a,v),null===c?l=y:c.sibling=y,c=y,f=m}if(v===u.length)return n(i,f),ia&&Ji(i,v),l;if(null===f){for(;v<u.length;v++)null!==(f=h(i,u[v],s))&&(a=o(f,a,v),null===c?l=f:c.sibling=f,c=f);return ia&&Ji(i,v),l}for(f=r(i,f);v<u.length;v++)null!==(m=p(f,i,v,u[v],s))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),a=o(m,a,v),null===c?l=m:c.sibling=m,c=m);return e&&f.forEach((function(e){return t(i,e)})),ia&&Ji(i,v),l}function m(i,u,s,l){var c=P(s);if("function"!==typeof c)throw Error(a(150));if(null==(s=c.call(s)))throw Error(a(151));for(var f=c=null,v=u,m=u=0,y=null,g=s.next();null!==v&&!g.done;m++,g=s.next()){v.index>m?(y=v,v=null):y=v.sibling;var k=d(i,v,g.value,l);if(null===k){null===v&&(v=y);break}e&&v&&null===k.alternate&&t(i,v),u=o(k,u,m),null===f?c=k:f.sibling=k,f=k,v=y}if(g.done)return n(i,v),ia&&Ji(i,m),c;if(null===v){for(;!g.done;m++,g=s.next())null!==(g=h(i,g.value,l))&&(u=o(g,u,m),null===f?c=g:f.sibling=g,f=g);return ia&&Ji(i,m),c}for(v=r(i,v);!g.done;m++,g=s.next())null!==(g=p(v,i,m,g.value,l))&&(e&&null!==g.alternate&&v.delete(null===g.key?m:g.key),u=o(g,u,m),null===f?c=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(i,e)})),ia&&Ji(i,m),c}return function e(r,a,o,s){if("object"===typeof o&&null!==o&&o.type===_&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var l=o.key,c=a;null!==c;){if(c.key===l){if((l=o.type)===_){if(7===c.tag){n(r,c.sibling),(a=i(c,o.props.children)).return=r,r=a;break e}}else if(c.elementType===l||"object"===typeof l&&null!==l&&l.$$typeof===L&&Ga(l)===c.type){n(r,c.sibling),(a=i(c,o.props)).ref=Qa(r,c,o),a.return=r,r=a;break e}n(r,c);break}t(r,c),c=c.sibling}o.type===_?((a=Ml(o.props.children,r.mode,s,o.key)).return=r,r=a):((s=Pl(o.type,o.key,o.props,null,r.mode,s)).ref=Qa(r,a,o),s.return=r,r=s)}return u(r);case E:e:{for(c=o.key;null!==a;){if(a.key===c){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=Ul(o,r.mode,s)).return=r,r=a}return u(r);case L:return e(r,a,(c=o._init)(o._payload),s)}if(te(o))return v(r,a,o,s);if(P(o))return m(r,a,o,s);Wa(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=Vl(o,r.mode,s)).return=r,r=a),u(r)):n(r,a)}}var $a=Ya(!0),Xa=Ya(!1),Ja={},Za=Si(Ja),eo=Si(Ja),to=Si(Ja);function no(e){if(e===Ja)throw Error(a(174));return e}function ro(e,t){switch(Ti(to,t),Ti(eo,e),Ti(Za,Ja),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:se(null,"");break;default:t=se(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}xi(Za),Ti(Za,t)}function io(){xi(Za),xi(eo),xi(to)}function ao(e){no(to.current);var t=no(Za.current),n=se(t,e.type);t!==n&&(Ti(eo,e),Ti(Za,n))}function oo(e){eo.current===e&&(xi(Za),xi(eo))}var uo=Si(0);function so(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var lo=[];function co(){for(var e=0;e<lo.length;e++)lo[e]._workInProgressVersionPrimary=null;lo.length=0}var fo=b.ReactCurrentDispatcher,ho=b.ReactCurrentBatchConfig,po=0,vo=null,mo=null,yo=null,go=!1,ko=!1,bo=0,wo=0;function Eo(){throw Error(a(321))}function _o(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ur(e[n],t[n]))return!1;return!0}function So(e,t,n,r,i,o){if(po=o,vo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fo.current=null===e||null===e.memoizedState?uu:su,e=n(r,i),ko){o=0;do{if(ko=!1,bo=0,25<=o)throw Error(a(301));o+=1,yo=mo=null,t.updateQueue=null,fo.current=lu,e=n(r,i)}while(ko)}if(fo.current=ou,t=null!==mo&&null!==mo.next,po=0,yo=mo=vo=null,go=!1,t)throw Error(a(300));return e}function xo(){var e=0!==bo;return bo=0,e}function To(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===yo?vo.memoizedState=yo=e:yo=yo.next=e,yo}function Co(){if(null===mo){var e=vo.alternate;e=null!==e?e.memoizedState:null}else e=mo.next;var t=null===yo?vo.memoizedState:yo.next;if(null!==t)yo=t,mo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(mo=e).memoizedState,baseState:mo.baseState,baseQueue:mo.baseQueue,queue:mo.queue,next:null},null===yo?vo.memoizedState=yo=e:yo=yo.next=e}return yo}function Io(e,t){return"function"===typeof t?t(e):t}function No(e){var t=Co(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=mo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var u=i.next;i.next=o.next,o.next=u}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var s=u=null,l=null,c=o;do{var f=c.lane;if((po&f)===f)null!==l&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var h={lane:f,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===l?(s=l=h,u=r):l=l.next=h,vo.lanes|=f,Fs|=f}c=c.next}while(null!==c&&c!==o);null===l?u=r:l.next=s,ur(r,t.memoizedState)||(bu=!0),t.memoizedState=r,t.baseState=u,t.baseQueue=l,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,vo.lanes|=o,Fs|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ao(e){var t=Co(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var u=i=i.next;do{o=e(o,u.action),u=u.next}while(u!==i);ur(o,t.memoizedState)||(bu=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Do(){}function Lo(e,t){var n=vo,r=Co(),i=t(),o=!ur(r.memoizedState,i);if(o&&(r.memoizedState=i,bu=!0),r=r.queue,Ho(Po.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==yo&&1&yo.memoizedState.tag){if(n.flags|=2048,Uo(9,Ro.bind(null,n,r,i,t),void 0,null),null===As)throw Error(a(349));0!==(30&po)||Oo(n,t,i)}return i}function Oo(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ro(e,t,n,r){t.value=n,t.getSnapshot=r,Mo(t)&&Fo(e)}function Po(e,t,n){return n((function(){Mo(t)&&Fo(e)}))}function Mo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ur(e,n)}catch(r){return!0}}function Fo(e){var t=Na(e,1);null!==t&&rl(t,e,1,-1)}function Vo(e){var t=To();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Io,lastRenderedState:e},t.queue=e,e=e.dispatch=nu.bind(null,vo,e),[t.memoizedState,e]}function Uo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function jo(){return Co().memoizedState}function zo(e,t,n,r){var i=To();vo.flags|=e,i.memoizedState=Uo(1|t,n,void 0,void 0===r?null:r)}function Bo(e,t,n,r){var i=Co();r=void 0===r?null:r;var a=void 0;if(null!==mo){var o=mo.memoizedState;if(a=o.destroy,null!==r&&_o(r,o.deps))return void(i.memoizedState=Uo(t,n,a,r))}vo.flags|=e,i.memoizedState=Uo(1|t,n,a,r)}function qo(e,t){return zo(8390656,8,e,t)}function Ho(e,t){return Bo(2048,8,e,t)}function Ko(e,t){return Bo(4,2,e,t)}function Qo(e,t){return Bo(4,4,e,t)}function Wo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Go(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Bo(4,4,Wo.bind(null,t,e),n)}function Yo(){}function $o(e,t){var n=Co();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&_o(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Xo(e,t){var n=Co();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&_o(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Jo(e,t,n){return 0===(21&po)?(e.baseState&&(e.baseState=!1,bu=!0),e.memoizedState=n):(ur(n,t)||(n=vt(),vo.lanes|=n,Fs|=n,e.baseState=!0),t)}function Zo(e,t){var n=kt;kt=0!==n&&4>n?n:4,e(!0);var r=ho.transition;ho.transition={};try{e(!1),t()}finally{kt=n,ho.transition=r}}function eu(){return Co().memoizedState}function tu(e,t,n){var r=nl(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ru(e))iu(t,n);else if(null!==(n=Ia(e,t,n,r))){rl(n,e,r,tl()),au(n,t,r)}}function nu(e,t,n){var r=nl(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ru(e))iu(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,u=a(o,n);if(i.hasEagerState=!0,i.eagerState=u,ur(u,o)){var s=t.interleaved;return null===s?(i.next=i,Ca(t)):(i.next=s.next,s.next=i),void(t.interleaved=i)}}catch(l){}null!==(n=Ia(e,t,i,r))&&(rl(n,e,r,i=tl()),au(n,t,r))}}function ru(e){var t=e.alternate;return e===vo||null!==t&&t===vo}function iu(e,t){ko=go=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function au(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}var ou={readContext:xa,useCallback:Eo,useContext:Eo,useEffect:Eo,useImperativeHandle:Eo,useInsertionEffect:Eo,useLayoutEffect:Eo,useMemo:Eo,useReducer:Eo,useRef:Eo,useState:Eo,useDebugValue:Eo,useDeferredValue:Eo,useTransition:Eo,useMutableSource:Eo,useSyncExternalStore:Eo,useId:Eo,unstable_isNewReconciler:!1},uu={readContext:xa,useCallback:function(e,t){return To().memoizedState=[e,void 0===t?null:t],e},useContext:xa,useEffect:qo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,zo(4194308,4,Wo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return zo(4194308,4,e,t)},useInsertionEffect:function(e,t){return zo(4,2,e,t)},useMemo:function(e,t){var n=To();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=To();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=tu.bind(null,vo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},To().memoizedState=e},useState:Vo,useDebugValue:Yo,useDeferredValue:function(e){return To().memoizedState=e},useTransition:function(){var e=Vo(!1),t=e[0];return e=Zo.bind(null,e[1]),To().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=vo,i=To();if(ia){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===As)throw Error(a(349));0!==(30&po)||Oo(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,qo(Po.bind(null,r,o,e),[e]),r.flags|=2048,Uo(9,Ro.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=To(),t=As.identifierPrefix;if(ia){var n=Xi;t=":"+t+"R"+(n=($i&~(1<<32-ot($i)-1)).toString(32)+n),0<(n=bo++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=wo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},su={readContext:xa,useCallback:$o,useContext:xa,useEffect:Ho,useImperativeHandle:Go,useInsertionEffect:Ko,useLayoutEffect:Qo,useMemo:Xo,useReducer:No,useRef:jo,useState:function(){return No(Io)},useDebugValue:Yo,useDeferredValue:function(e){return Jo(Co(),mo.memoizedState,e)},useTransition:function(){return[No(Io)[0],Co().memoizedState]},useMutableSource:Do,useSyncExternalStore:Lo,useId:eu,unstable_isNewReconciler:!1},lu={readContext:xa,useCallback:$o,useContext:xa,useEffect:Ho,useImperativeHandle:Go,useInsertionEffect:Ko,useLayoutEffect:Qo,useMemo:Xo,useReducer:Ao,useRef:jo,useState:function(){return Ao(Io)},useDebugValue:Yo,useDeferredValue:function(e){var t=Co();return null===mo?t.memoizedState=e:Jo(t,mo.memoizedState,e)},useTransition:function(){return[Ao(Io)[0],Co().memoizedState]},useMutableSource:Do,useSyncExternalStore:Lo,useId:eu,unstable_isNewReconciler:!1};function cu(e,t){try{var n="",r=t;do{n+=z(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function fu(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function hu(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var du="function"===typeof WeakMap?WeakMap:Map;function pu(e,t,n){(n=Oa(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ks||(Ks=!0,Qs=r),hu(0,t)},n}function vu(e,t,n){(n=Oa(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){hu(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){hu(0,t),"function"!==typeof r&&(null===Ws?Ws=new Set([this]):Ws.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function mu(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new du;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Tl.bind(null,e,t,n),t.then(e,e))}function yu(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function gu(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Oa(-1,1)).tag=2,Ra(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var ku=b.ReactCurrentOwner,bu=!1;function wu(e,t,n,r){t.child=null===e?Xa(t,null,n,r):$a(t,e.child,n,r)}function Eu(e,t,n,r,i){n=n.render;var a=t.ref;return Sa(t,i),r=So(e,t,n,r,a,i),n=xo(),null===e||bu?(ia&&n&&ea(t),t.flags|=1,wu(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ku(e,t,i))}function _u(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Ol(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Pl(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Su(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:sr)(o,r)&&e.ref===t.ref)return Ku(e,t,i)}return t.flags|=1,(e=Rl(a,r)).ref=t.ref,e.return=t,t.child=e}function Su(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(sr(a,r)&&e.ref===t.ref){if(bu=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,Ku(e,t,i);0!==(131072&e.flags)&&(bu=!0)}}return Cu(e,t,n,r,i)}function xu(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ti(Rs,Os),Os|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ti(Rs,Os),Os|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Ti(Rs,Os),Os|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Ti(Rs,Os),Os|=r;return wu(e,t,i,n),t.child}function Tu(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Cu(e,t,n,r,i){var a=Li(n)?Ai:Ii.current;return a=Di(t,a),Sa(t,i),n=So(e,t,n,r,a,i),r=xo(),null===e||bu?(ia&&r&&ea(t),t.flags|=1,wu(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ku(e,t,i))}function Iu(e,t,n,r,i){if(Li(n)){var a=!0;Mi(t)}else a=!1;if(Sa(t,i),null===t.stateNode)Hu(e,t),qa(t,n,r),Ka(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,u=t.memoizedProps;o.props=u;var s=o.context,l=n.contextType;"object"===typeof l&&null!==l?l=xa(l):l=Di(t,l=Li(n)?Ai:Ii.current);var c=n.getDerivedStateFromProps,f="function"===typeof c||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==r||s!==l)&&Ha(t,o,r,l),Aa=!1;var h=t.memoizedState;o.state=h,Fa(t,r,o,i),s=t.memoizedState,u!==r||h!==s||Ni.current||Aa?("function"===typeof c&&(ja(t,n,c,r),s=t.memoizedState),(u=Aa||Ba(t,n,u,r,h,s,l))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=s),o.props=r,o.state=s,o.context=l,r=u):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,La(e,t),u=t.memoizedProps,l=t.type===t.elementType?u:ma(t.type,u),o.props=l,f=t.pendingProps,h=o.context,"object"===typeof(s=n.contextType)&&null!==s?s=xa(s):s=Di(t,s=Li(n)?Ai:Ii.current);var d=n.getDerivedStateFromProps;(c="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==f||h!==s)&&Ha(t,o,r,s),Aa=!1,h=t.memoizedState,o.state=h,Fa(t,r,o,i);var p=t.memoizedState;u!==f||h!==p||Ni.current||Aa?("function"===typeof d&&(ja(t,n,d,r),p=t.memoizedState),(l=Aa||Ba(t,n,l,r,h,p,s)||!1)?(c||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,s),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,s)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=s,r=l):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Nu(e,t,n,r,a,i)}function Nu(e,t,n,r,i,a){Tu(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Fi(t,n,!1),Ku(e,t,a);r=t.stateNode,ku.current=t;var u=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=$a(t,e.child,null,a),t.child=$a(t,null,u,a)):wu(e,t,u,a),t.memoizedState=r.state,i&&Fi(t,n,!0),t.child}function Au(e){var t=e.stateNode;t.pendingContext?Ri(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ri(0,t.context,!1),ro(e,t.containerInfo)}function Du(e,t,n,r,i){return da(),pa(i),t.flags|=256,wu(e,t,n,r),t.child}var Lu,Ou,Ru,Pu,Mu={dehydrated:null,treeContext:null,retryLane:0};function Fu(e){return{baseLanes:e,cachePool:null,transitions:null}}function Vu(e,t,n){var r,i=t.pendingProps,o=uo.current,u=!1,s=0!==(128&t.flags);if((r=s)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(u=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Ti(uo,1&o),null===e)return la(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(s=i.children,e=i.fallback,u?(i=t.mode,u=t.child,s={mode:"hidden",children:s},0===(1&i)&&null!==u?(u.childLanes=0,u.pendingProps=s):u=Fl(s,i,0,null),e=Ml(e,i,n,null),u.return=t,e.return=t,u.sibling=e,t.child=u,t.child.memoizedState=Fu(n),t.memoizedState=Mu,e):Uu(t,s));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,u){if(n)return 256&t.flags?(t.flags&=-257,ju(e,t,u,r=fu(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Fl({mode:"visible",children:r.children},i,0,null),(o=Ml(o,i,u,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&$a(t,e.child,null,u),t.child.memoizedState=Fu(u),t.memoizedState=Mu,o);if(0===(1&t.mode))return ju(e,t,u,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var s=r.dgst;return r=s,ju(e,t,u,r=fu(o=Error(a(419)),r,void 0))}if(s=0!==(u&e.childLanes),bu||s){if(null!==(r=As)){switch(u&-u){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|u))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Na(e,i),rl(r,e,i,-1))}return ml(),ju(e,t,u,r=fu(Error(a(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Il.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,ra=li(i.nextSibling),na=t,ia=!0,aa=null,null!==e&&(Wi[Gi++]=$i,Wi[Gi++]=Xi,Wi[Gi++]=Yi,$i=e.id,Xi=e.overflow,Yi=t),t=Uu(t,r.children),t.flags|=4096,t)}(e,t,s,i,r,o,n);if(u){u=i.fallback,s=t.mode,r=(o=e.child).sibling;var l={mode:"hidden",children:i.children};return 0===(1&s)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=l,t.deletions=null):(i=Rl(o,l)).subtreeFlags=14680064&o.subtreeFlags,null!==r?u=Rl(r,u):(u=Ml(u,s,n,null)).flags|=2,u.return=t,i.return=t,i.sibling=u,t.child=i,i=u,u=t.child,s=null===(s=e.child.memoizedState)?Fu(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},u.memoizedState=s,u.childLanes=e.childLanes&~n,t.memoizedState=Mu,i}return e=(u=e.child).sibling,i=Rl(u,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Uu(e,t){return(t=Fl({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function ju(e,t,n,r){return null!==r&&pa(r),$a(t,e.child,null,n),(e=Uu(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function zu(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),_a(e.return,t,n)}function Bu(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function qu(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(wu(e,t,r.children,n),0!==(2&(r=uo.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&zu(e,n,t);else if(19===e.tag)zu(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ti(uo,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===so(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Bu(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===so(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Bu(t,!0,n,null,a);break;case"together":Bu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Hu(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ku(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Fs|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Rl(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Rl(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Qu(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Wu(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Gu(e,t,n){var r=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wu(t),null;case 1:case 17:return Li(t.type)&&Oi(),Wu(t),null;case 3:return r=t.stateNode,io(),xi(Ni),xi(Ii),co(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fa(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(ul(aa),aa=null))),Ou(e,t),Wu(t),null;case 5:oo(t);var i=no(to.current);if(n=t.type,null!==e&&null!=t.stateNode)Ru(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Wu(t),null}if(e=no(Za.current),fa(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[hi]=t,r[di]=o,e=0!==(1&t.mode),n){case"dialog":Ur("cancel",r),Ur("close",r);break;case"iframe":case"object":case"embed":Ur("load",r);break;case"video":case"audio":for(i=0;i<Pr.length;i++)Ur(Pr[i],r);break;case"source":Ur("error",r);break;case"img":case"image":case"link":Ur("error",r),Ur("load",r);break;case"details":Ur("toggle",r);break;case"input":$(r,o),Ur("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Ur("invalid",r);break;case"textarea":ie(r,o),Ur("invalid",r)}for(var s in ge(n,o),i=null,o)if(o.hasOwnProperty(s)){var l=o[s];"children"===s?"string"===typeof l?r.textContent!==l&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,l,e),i=["children",l]):"number"===typeof l&&r.textContent!==""+l&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,l,e),i=["children",""+l]):u.hasOwnProperty(s)&&null!=l&&"onScroll"===s&&Ur("scroll",r)}switch(n){case"input":Q(r),Z(r,o,!0);break;case"textarea":Q(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{s=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ue(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=s.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),"select"===n&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[hi]=t,e[di]=r,Lu(e,t,!1,!1),t.stateNode=e;e:{switch(s=ke(n,r),n){case"dialog":Ur("cancel",e),Ur("close",e),i=r;break;case"iframe":case"object":case"embed":Ur("load",e),i=r;break;case"video":case"audio":for(i=0;i<Pr.length;i++)Ur(Pr[i],e);i=r;break;case"source":Ur("error",e),i=r;break;case"img":case"image":case"link":Ur("error",e),Ur("load",e),i=r;break;case"details":Ur("toggle",e),i=r;break;case"input":$(e,r),i=Y(e,r),Ur("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=F({},r,{value:void 0}),Ur("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Ur("invalid",e)}for(o in ge(n,i),l=i)if(l.hasOwnProperty(o)){var c=l[o];"style"===o?me(e,c):"dangerouslySetInnerHTML"===o?null!=(c=c?c.__html:void 0)&&fe(e,c):"children"===o?"string"===typeof c?("textarea"!==n||""!==c)&&he(e,c):"number"===typeof c&&he(e,""+c):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(u.hasOwnProperty(o)?null!=c&&"onScroll"===o&&Ur("scroll",e):null!=c&&k(e,o,c,s))}switch(n){case"input":Q(e),Z(e,r,!1);break;case"textarea":Q(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+H(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Wu(t),null;case 6:if(e&&null!=t.stateNode)Pu(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=no(to.current),no(Za.current),fa(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(o=r.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Wu(t),null;case 13:if(xi(uo),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ia&&null!==ra&&0!==(1&t.mode)&&0===(128&t.flags))ha(),da(),t.flags|=98560,o=!1;else if(o=fa(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[hi]=t}else da(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Wu(t),o=!1}else null!==aa&&(ul(aa),aa=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&uo.current)?0===Ps&&(Ps=3):ml())),null!==t.updateQueue&&(t.flags|=4),Wu(t),null);case 4:return io(),Ou(e,t),null===e&&Br(t.stateNode.containerInfo),Wu(t),null;case 10:return Ea(t.type._context),Wu(t),null;case 19:if(xi(uo),null===(o=t.memoizedState))return Wu(t),null;if(r=0!==(128&t.flags),null===(s=o.rendering))if(r)Qu(o,!1);else{if(0!==Ps||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(s=so(e))){for(t.flags|=128,Qu(o,!1),null!==(r=s.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(s=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ti(uo,1&uo.current|2),t.child}e=e.sibling}null!==o.tail&&Xe()>qs&&(t.flags|=128,r=!0,Qu(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=so(s))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Qu(o,!0),null===o.tail&&"hidden"===o.tailMode&&!s.alternate&&!ia)return Wu(t),null}else 2*Xe()-o.renderingStartTime>qs&&1073741824!==n&&(t.flags|=128,r=!0,Qu(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(null!==(n=o.last)?n.sibling=s:t.child=s,o.last=s)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Xe(),t.sibling=null,n=uo.current,Ti(uo,r?1&n|2:1&n),t):(Wu(t),null);case 22:case 23:return hl(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Os)&&(Wu(t),6&t.subtreeFlags&&(t.flags|=8192)):Wu(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Yu(e,t){switch(ta(t),t.tag){case 1:return Li(t.type)&&Oi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return io(),xi(Ni),xi(Ii),co(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(xi(uo),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));da()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return xi(uo),null;case 4:return io(),null;case 10:return Ea(t.type._context),null;case 22:case 23:return hl(),null;default:return null}}Lu=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ou=function(){},Ru=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,no(Za.current);var a,o=null;switch(n){case"input":i=Y(e,i),r=Y(e,r),o=[];break;case"select":i=F({},i,{value:void 0}),r=F({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(c in ge(n,r),n=null,i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&null!=i[c])if("style"===c){var s=i[c];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(u.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var l=r[c];if(s=null!=i?i[c]:void 0,r.hasOwnProperty(c)&&l!==s&&(null!=l||null!=s))if("style"===c)if(s){for(a in s)!s.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&s[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(o||(o=[]),o.push(c,n)),n=l;else"dangerouslySetInnerHTML"===c?(l=l?l.__html:void 0,s=s?s.__html:void 0,null!=l&&s!==l&&(o=o||[]).push(c,l)):"children"===c?"string"!==typeof l&&"number"!==typeof l||(o=o||[]).push(c,""+l):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(u.hasOwnProperty(c)?(null!=l&&"onScroll"===c&&Ur("scroll",e),o||s===l||(o=[])):(o=o||[]).push(c,l))}n&&(o=o||[]).push("style",n);var c=o;(t.updateQueue=c)&&(t.flags|=4)}},Pu=function(e,t,n,r){n!==r&&(t.flags|=4)};var $u=!1,Xu=!1,Ju="function"===typeof WeakSet?WeakSet:Set,Zu=null;function es(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){xl(e,t,r)}else n.current=null}function ts(e,t,n){try{n()}catch(r){xl(e,t,r)}}var ns=!1;function rs(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&ts(t,n,a)}i=i.next}while(i!==r)}}function is(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function as(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function os(e){var t=e.alternate;null!==t&&(e.alternate=null,os(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[di],delete t[vi],delete t[mi],delete t[yi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function us(e){return 5===e.tag||3===e.tag||4===e.tag}function ss(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||us(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ls(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(ls(e,t,n),e=e.sibling;null!==e;)ls(e,t,n),e=e.sibling}function cs(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cs(e,t,n),e=e.sibling;null!==e;)cs(e,t,n),e=e.sibling}var fs=null,hs=!1;function ds(e,t,n){for(n=n.child;null!==n;)ps(e,t,n),n=n.sibling}function ps(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(u){}switch(n.tag){case 5:Xu||es(n,t);case 6:var r=fs,i=hs;fs=null,ds(e,t,n),hs=i,null!==(fs=r)&&(hs?(e=fs,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):fs.removeChild(n.stateNode));break;case 18:null!==fs&&(hs?(e=fs,n=n.stateNode,8===e.nodeType?si(e.parentNode,n):1===e.nodeType&&si(e,n),Bt(e)):si(fs,n.stateNode));break;case 4:r=fs,i=hs,fs=n.stateNode.containerInfo,hs=!0,ds(e,t,n),fs=r,hs=i;break;case 0:case 11:case 14:case 15:if(!Xu&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&ts(n,t,o),i=i.next}while(i!==r)}ds(e,t,n);break;case 1:if(!Xu&&(es(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(u){xl(n,t,u)}ds(e,t,n);break;case 21:ds(e,t,n);break;case 22:1&n.mode?(Xu=(r=Xu)||null!==n.memoizedState,ds(e,t,n),Xu=r):ds(e,t,n);break;default:ds(e,t,n)}}function vs(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Ju),t.forEach((function(t){var r=Nl.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function ms(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,u=t,s=u;e:for(;null!==s;){switch(s.tag){case 5:fs=s.stateNode,hs=!1;break e;case 3:case 4:fs=s.stateNode.containerInfo,hs=!0;break e}s=s.return}if(null===fs)throw Error(a(160));ps(o,u,i),fs=null,hs=!1;var l=i.alternate;null!==l&&(l.return=null),i.return=null}catch(c){xl(i,t,c)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)ys(t,e),t=t.sibling}function ys(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ms(t,e),gs(e),4&r){try{rs(3,e,e.return),is(3,e)}catch(m){xl(e,e.return,m)}try{rs(5,e,e.return)}catch(m){xl(e,e.return,m)}}break;case 1:ms(t,e),gs(e),512&r&&null!==n&&es(n,n.return);break;case 5:if(ms(t,e),gs(e),512&r&&null!==n&&es(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(m){xl(e,e.return,m)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,u=null!==n?n.memoizedProps:o,s=e.type,l=e.updateQueue;if(e.updateQueue=null,null!==l)try{"input"===s&&"radio"===o.type&&null!=o.name&&X(i,o),ke(s,u);var c=ke(s,o);for(u=0;u<l.length;u+=2){var f=l[u],h=l[u+1];"style"===f?me(i,h):"dangerouslySetInnerHTML"===f?fe(i,h):"children"===f?he(i,h):k(i,f,h,c)}switch(s){case"input":J(i,o);break;case"textarea":ae(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):d!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[di]=o}catch(m){xl(e,e.return,m)}}break;case 6:if(ms(t,e),gs(e),4&r){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(m){xl(e,e.return,m)}}break;case 3:if(ms(t,e),gs(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Bt(t.containerInfo)}catch(m){xl(e,e.return,m)}break;case 4:default:ms(t,e),gs(e);break;case 13:ms(t,e),gs(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(Bs=Xe())),4&r&&vs(e);break;case 22:if(f=null!==n&&null!==n.memoizedState,1&e.mode?(Xu=(c=Xu)||f,ms(t,e),Xu=c):ms(t,e),gs(e),8192&r){if(c=null!==e.memoizedState,(e.stateNode.isHidden=c)&&!f&&0!==(1&e.mode))for(Zu=e,f=e.child;null!==f;){for(h=Zu=f;null!==Zu;){switch(p=(d=Zu).child,d.tag){case 0:case 11:case 14:case 15:rs(4,d,d.return);break;case 1:es(d,d.return);var v=d.stateNode;if("function"===typeof v.componentWillUnmount){r=d,n=d.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(m){xl(r,n,m)}}break;case 5:es(d,d.return);break;case 22:if(null!==d.memoizedState){Es(h);continue}}null!==p?(p.return=d,Zu=p):Es(h)}f=f.sibling}e:for(f=null,h=e;;){if(5===h.tag){if(null===f){f=h;try{i=h.stateNode,c?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(s=h.stateNode,u=void 0!==(l=h.memoizedProps.style)&&null!==l&&l.hasOwnProperty("display")?l.display:null,s.style.display=ve("display",u))}catch(m){xl(e,e.return,m)}}}else if(6===h.tag){if(null===f)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(m){xl(e,e.return,m)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ms(t,e),gs(e),4&r&&vs(e);case 21:}}function gs(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(us(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),cs(e,ss(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;ls(e,ss(e),o);break;default:throw Error(a(161))}}catch(u){xl(e,e.return,u)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function ks(e,t,n){Zu=e,bs(e,t,n)}function bs(e,t,n){for(var r=0!==(1&e.mode);null!==Zu;){var i=Zu,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||$u;if(!o){var u=i.alternate,s=null!==u&&null!==u.memoizedState||Xu;u=$u;var l=Xu;if($u=o,(Xu=s)&&!l)for(Zu=i;null!==Zu;)s=(o=Zu).child,22===o.tag&&null!==o.memoizedState?_s(i):null!==s?(s.return=o,Zu=s):_s(i);for(;null!==a;)Zu=a,bs(a,t,n),a=a.sibling;Zu=i,$u=u,Xu=l}ws(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,Zu=a):ws(e)}}function ws(e){for(;null!==Zu;){var t=Zu;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Xu||is(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Xu)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ma(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Va(t,o,r);break;case 3:var u=t.updateQueue;if(null!==u){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Va(t,u,n)}break;case 5:var s=t.stateNode;if(null===n&&4&t.flags){n=s;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var f=c.memoizedState;if(null!==f){var h=f.dehydrated;null!==h&&Bt(h)}}}break;default:throw Error(a(163))}Xu||512&t.flags&&as(t)}catch(d){xl(t,t.return,d)}}if(t===e){Zu=null;break}if(null!==(n=t.sibling)){n.return=t.return,Zu=n;break}Zu=t.return}}function Es(e){for(;null!==Zu;){var t=Zu;if(t===e){Zu=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Zu=n;break}Zu=t.return}}function _s(e){for(;null!==Zu;){var t=Zu;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{is(4,t)}catch(s){xl(t,n,s)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(s){xl(t,i,s)}}var a=t.return;try{as(t)}catch(s){xl(t,a,s)}break;case 5:var o=t.return;try{as(t)}catch(s){xl(t,o,s)}}}catch(s){xl(t,t.return,s)}if(t===e){Zu=null;break}var u=t.sibling;if(null!==u){u.return=t.return,Zu=u;break}Zu=t.return}}var Ss,xs=Math.ceil,Ts=b.ReactCurrentDispatcher,Cs=b.ReactCurrentOwner,Is=b.ReactCurrentBatchConfig,Ns=0,As=null,Ds=null,Ls=0,Os=0,Rs=Si(0),Ps=0,Ms=null,Fs=0,Vs=0,Us=0,js=null,zs=null,Bs=0,qs=1/0,Hs=null,Ks=!1,Qs=null,Ws=null,Gs=!1,Ys=null,$s=0,Xs=0,Js=null,Zs=-1,el=0;function tl(){return 0!==(6&Ns)?Xe():-1!==Zs?Zs:Zs=Xe()}function nl(e){return 0===(1&e.mode)?1:0!==(2&Ns)&&0!==Ls?Ls&-Ls:null!==va.transition?(0===el&&(el=vt()),el):0!==(e=kt)?e:e=void 0===(e=window.event)?16:$t(e.type)}function rl(e,t,n,r){if(50<Xs)throw Xs=0,Js=null,Error(a(185));yt(e,n,r),0!==(2&Ns)&&e===As||(e===As&&(0===(2&Ns)&&(Vs|=n),4===Ps&&sl(e,Ls)),il(e,r),1===n&&0===Ns&&0===(1&t.mode)&&(qs=Xe()+500,Ui&&Bi()))}function il(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),u=1<<o,s=i[o];-1===s?0!==(u&n)&&0===(u&r)||(i[o]=dt(u,t)):s<=t&&(e.expiredLanes|=u),a&=~u}}(e,t);var r=ht(e,e===As?Ls:0);if(0===r)null!==n&&Ge(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ge(n),1===t)0===e.tag?function(e){Ui=!0,zi(e)}(ll.bind(null,e)):zi(ll.bind(null,e)),oi((function(){0===(6&Ns)&&Bi()})),n=null;else{switch(bt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Al(n,al.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function al(e,t){if(Zs=-1,el=0,0!==(6&Ns))throw Error(a(327));var n=e.callbackNode;if(_l()&&e.callbackNode!==n)return null;var r=ht(e,e===As?Ls:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=yl(e,r);else{t=r;var i=Ns;Ns|=2;var o=vl();for(As===e&&Ls===t||(Hs=null,qs=Xe()+500,dl(e,t));;)try{kl();break}catch(s){pl(e,s)}wa(),Ts.current=o,Ns=i,null!==Ds?t=0:(As=null,Ls=0,t=Ps)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=ol(e,i))),1===t)throw n=Ms,dl(e,0),sl(e,r),il(e,Xe()),n;if(6===t)sl(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!ur(a(),i))return!1}catch(u){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=yl(e,r))&&(0!==(o=pt(e))&&(r=o,t=ol(e,o))),1===t))throw n=Ms,dl(e,0),sl(e,r),il(e,Xe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:El(e,zs,Hs);break;case 3:if(sl(e,r),(130023424&r)===r&&10<(t=Bs+500-Xe())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){tl(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(El.bind(null,e,zs,Hs),t);break}El(e,zs,Hs);break;case 4:if(sl(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var u=31-ot(r);o=1<<u,(u=t[u])>i&&(i=u),r&=~o}if(r=i,10<(r=(120>(r=Xe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*xs(r/1960))-r)){e.timeoutHandle=ri(El.bind(null,e,zs,Hs),r);break}El(e,zs,Hs);break;default:throw Error(a(329))}}}return il(e,Xe()),e.callbackNode===n?al.bind(null,e):null}function ol(e,t){var n=js;return e.current.memoizedState.isDehydrated&&(dl(e,t).flags|=256),2!==(e=yl(e,t))&&(t=zs,zs=n,null!==t&&ul(t)),e}function ul(e){null===zs?zs=e:zs.push.apply(zs,e)}function sl(e,t){for(t&=~Us,t&=~Vs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function ll(e){if(0!==(6&Ns))throw Error(a(327));_l();var t=ht(e,0);if(0===(1&t))return il(e,Xe()),null;var n=yl(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=ol(e,r))}if(1===n)throw n=Ms,dl(e,0),sl(e,t),il(e,Xe()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,El(e,zs,Hs),il(e,Xe()),null}function cl(e,t){var n=Ns;Ns|=1;try{return e(t)}finally{0===(Ns=n)&&(qs=Xe()+500,Ui&&Bi())}}function fl(e){null!==Ys&&0===Ys.tag&&0===(6&Ns)&&_l();var t=Ns;Ns|=1;var n=Is.transition,r=kt;try{if(Is.transition=null,kt=1,e)return e()}finally{kt=r,Is.transition=n,0===(6&(Ns=t))&&Bi()}}function hl(){Os=Rs.current,xi(Rs)}function dl(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Ds)for(n=Ds.return;null!==n;){var r=n;switch(ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Oi();break;case 3:io(),xi(Ni),xi(Ii),co();break;case 5:oo(r);break;case 4:io();break;case 13:case 19:xi(uo);break;case 10:Ea(r.type._context);break;case 22:case 23:hl()}n=n.return}if(As=e,Ds=e=Rl(e.current,null),Ls=Os=t,Ps=0,Ms=null,Us=Vs=Fs=0,zs=js=null,null!==Ta){for(t=0;t<Ta.length;t++)if(null!==(r=(n=Ta[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}Ta=null}return e}function pl(e,t){for(;;){var n=Ds;try{if(wa(),fo.current=ou,go){for(var r=vo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}go=!1}if(po=0,yo=mo=vo=null,ko=!1,bo=0,Cs.current=null,null===n||null===n.return){Ps=1,Ms=t,Ds=null;break}e:{var o=e,u=n.return,s=n,l=t;if(t=Ls,s.flags|=32768,null!==l&&"object"===typeof l&&"function"===typeof l.then){var c=l,f=s,h=f.tag;if(0===(1&f.mode)&&(0===h||11===h||15===h)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=yu(u);if(null!==p){p.flags&=-257,gu(p,u,s,0,t),1&p.mode&&mu(o,c,t),l=c;var v=(t=p).updateQueue;if(null===v){var m=new Set;m.add(l),t.updateQueue=m}else v.add(l);break e}if(0===(1&t)){mu(o,c,t),ml();break e}l=Error(a(426))}else if(ia&&1&s.mode){var y=yu(u);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),gu(y,u,s,0,t),pa(cu(l,s));break e}}o=l=cu(l,s),4!==Ps&&(Ps=2),null===js?js=[o]:js.push(o),o=u;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Ma(o,pu(0,l,t));break e;case 1:s=l;var g=o.type,k=o.stateNode;if(0===(128&o.flags)&&("function"===typeof g.getDerivedStateFromError||null!==k&&"function"===typeof k.componentDidCatch&&(null===Ws||!Ws.has(k)))){o.flags|=65536,t&=-t,o.lanes|=t,Ma(o,vu(o,s,t));break e}}o=o.return}while(null!==o)}wl(n)}catch(b){t=b,Ds===n&&null!==n&&(Ds=n=n.return);continue}break}}function vl(){var e=Ts.current;return Ts.current=ou,null===e?ou:e}function ml(){0!==Ps&&3!==Ps&&2!==Ps||(Ps=4),null===As||0===(268435455&Fs)&&0===(268435455&Vs)||sl(As,Ls)}function yl(e,t){var n=Ns;Ns|=2;var r=vl();for(As===e&&Ls===t||(Hs=null,dl(e,t));;)try{gl();break}catch(i){pl(e,i)}if(wa(),Ns=n,Ts.current=r,null!==Ds)throw Error(a(261));return As=null,Ls=0,Ps}function gl(){for(;null!==Ds;)bl(Ds)}function kl(){for(;null!==Ds&&!Ye();)bl(Ds)}function bl(e){var t=Ss(e.alternate,e,Os);e.memoizedProps=e.pendingProps,null===t?wl(e):Ds=t,Cs.current=null}function wl(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Gu(n,t,Os)))return void(Ds=n)}else{if(null!==(n=Yu(n,t)))return n.flags&=32767,void(Ds=n);if(null===e)return Ps=6,void(Ds=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Ds=t);Ds=t=e}while(null!==t);0===Ps&&(Ps=5)}function El(e,t,n){var r=kt,i=Is.transition;try{Is.transition=null,kt=1,function(e,t,n,r){do{_l()}while(null!==Ys);if(0!==(6&Ns))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===As&&(Ds=As=null,Ls=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Gs||(Gs=!0,Al(tt,(function(){return _l(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Is.transition,Is.transition=null;var u=kt;kt=1;var s=Ns;Ns|=4,Cs.current=null,function(e,t){if(ei=Ht,dr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(w){n=null;break e}var u=0,s=-1,l=-1,c=0,f=0,h=e,d=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(s=u+i),h!==o||0!==r&&3!==h.nodeType||(l=u+r),3===h.nodeType&&(u+=h.nodeValue.length),null!==(p=h.firstChild);)d=h,h=p;for(;;){if(h===e)break t;if(d===n&&++c===i&&(s=u),d===o&&++f===r&&(l=u),null!==(p=h.nextSibling))break;d=(h=d).parentNode}h=p}n=-1===s||-1===l?null:{start:s,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Ht=!1,Zu=t;null!==Zu;)if(e=(t=Zu).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Zu=e;else for(;null!==Zu;){t=Zu;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var m=v.memoizedProps,y=v.memoizedState,g=t.stateNode,k=g.getSnapshotBeforeUpdate(t.elementType===t.type?m:ma(t.type,m),y);g.__reactInternalSnapshotBeforeUpdate=k}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(a(163))}}catch(w){xl(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Zu=e;break}Zu=t.return}v=ns,ns=!1}(e,n),ys(n,e),pr(ti),Ht=!!ei,ti=ei=null,e.current=n,ks(n,e,i),$e(),Ns=s,kt=u,Is.transition=o}else e.current=n;if(Gs&&(Gs=!1,Ys=e,$s=i),o=e.pendingLanes,0===o&&(Ws=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),il(e,Xe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Ks)throw Ks=!1,e=Qs,Qs=null,e;0!==(1&$s)&&0!==e.tag&&_l(),o=e.pendingLanes,0!==(1&o)?e===Js?Xs++:(Xs=0,Js=e):Xs=0,Bi()}(e,t,n,r)}finally{Is.transition=i,kt=r}return null}function _l(){if(null!==Ys){var e=bt($s),t=Is.transition,n=kt;try{if(Is.transition=null,kt=16>e?16:e,null===Ys)var r=!1;else{if(e=Ys,Ys=null,$s=0,0!==(6&Ns))throw Error(a(331));var i=Ns;for(Ns|=4,Zu=e.current;null!==Zu;){var o=Zu,u=o.child;if(0!==(16&Zu.flags)){var s=o.deletions;if(null!==s){for(var l=0;l<s.length;l++){var c=s[l];for(Zu=c;null!==Zu;){var f=Zu;switch(f.tag){case 0:case 11:case 15:rs(8,f,o)}var h=f.child;if(null!==h)h.return=f,Zu=h;else for(;null!==Zu;){var d=(f=Zu).sibling,p=f.return;if(os(f),f===c){Zu=null;break}if(null!==d){d.return=p,Zu=d;break}Zu=p}}}var v=o.alternate;if(null!==v){var m=v.child;if(null!==m){v.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(null!==m)}}Zu=o}}if(0!==(2064&o.subtreeFlags)&&null!==u)u.return=o,Zu=u;else e:for(;null!==Zu;){if(0!==(2048&(o=Zu).flags))switch(o.tag){case 0:case 11:case 15:rs(9,o,o.return)}var g=o.sibling;if(null!==g){g.return=o.return,Zu=g;break e}Zu=o.return}}var k=e.current;for(Zu=k;null!==Zu;){var b=(u=Zu).child;if(0!==(2064&u.subtreeFlags)&&null!==b)b.return=u,Zu=b;else e:for(u=k;null!==Zu;){if(0!==(2048&(s=Zu).flags))try{switch(s.tag){case 0:case 11:case 15:is(9,s)}}catch(E){xl(s,s.return,E)}if(s===u){Zu=null;break e}var w=s.sibling;if(null!==w){w.return=s.return,Zu=w;break e}Zu=s.return}}if(Ns=i,Bi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(E){}r=!0}return r}finally{kt=n,Is.transition=t}}return!1}function Sl(e,t,n){e=Ra(e,t=pu(0,t=cu(n,t),1),1),t=tl(),null!==e&&(yt(e,1,t),il(e,t))}function xl(e,t,n){if(3===e.tag)Sl(e,e,n);else for(;null!==t;){if(3===t.tag){Sl(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Ws||!Ws.has(r))){t=Ra(t,e=vu(t,e=cu(n,e),1),1),e=tl(),null!==t&&(yt(t,1,e),il(t,e));break}}t=t.return}}function Tl(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=tl(),e.pingedLanes|=e.suspendedLanes&n,As===e&&(Ls&n)===n&&(4===Ps||3===Ps&&(130023424&Ls)===Ls&&500>Xe()-Bs?dl(e,0):Us|=n),il(e,t)}function Cl(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ct,0===(130023424&(ct<<=1))&&(ct=4194304)));var n=tl();null!==(e=Na(e,t))&&(yt(e,t,n),il(e,n))}function Il(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Cl(e,n)}function Nl(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Cl(e,n)}function Al(e,t){return We(e,t)}function Dl(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ll(e,t,n,r){return new Dl(e,t,n,r)}function Ol(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Rl(e,t){var n=e.alternate;return null===n?((n=Ll(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Pl(e,t,n,r,i,o){var u=2;if(r=e,"function"===typeof e)Ol(e)&&(u=1);else if("string"===typeof e)u=5;else e:switch(e){case _:return Ml(n.children,i,o,t);case S:u=8,i|=8;break;case x:return(e=Ll(12,n,t,2|i)).elementType=x,e.lanes=o,e;case N:return(e=Ll(13,n,t,i)).elementType=N,e.lanes=o,e;case A:return(e=Ll(19,n,t,i)).elementType=A,e.lanes=o,e;case O:return Fl(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case T:u=10;break e;case C:u=9;break e;case I:u=11;break e;case D:u=14;break e;case L:u=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Ll(u,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Ml(e,t,n,r){return(e=Ll(7,e,r,t)).lanes=n,e}function Fl(e,t,n,r){return(e=Ll(22,e,r,t)).elementType=O,e.lanes=n,e.stateNode={isHidden:!1},e}function Vl(e,t,n){return(e=Ll(6,e,null,t)).lanes=n,e}function Ul(e,t,n){return(t=Ll(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function jl(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function zl(e,t,n,r,i,a,o,u,s){return e=new jl(e,t,n,u,s),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Ll(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Da(a),e}function Bl(e){if(!e)return Ci;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Li(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Li(n))return Pi(e,n,t)}return t}function ql(e,t,n,r,i,a,o,u,s){return(e=zl(n,r,!0,e,0,a,0,u,s)).context=Bl(null),n=e.current,(a=Oa(r=tl(),i=nl(n))).callback=void 0!==t&&null!==t?t:null,Ra(n,a,i),e.current.lanes=i,yt(e,i,r),il(e,r),e}function Hl(e,t,n,r){var i=t.current,a=tl(),o=nl(i);return n=Bl(n),null===t.context?t.context=n:t.pendingContext=n,(t=Oa(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Ra(i,t,o))&&(rl(e,i,o,a),Pa(e,i,o)),o}function Kl(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Ql(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Wl(e,t){Ql(e,t),(e=e.alternate)&&Ql(e,t)}Ss=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ni.current)bu=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return bu=!1,function(e,t,n){switch(t.tag){case 3:Au(t),da();break;case 5:ao(t);break;case 1:Li(t.type)&&Mi(t);break;case 4:ro(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ti(ya,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ti(uo,1&uo.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Vu(e,t,n):(Ti(uo,1&uo.current),null!==(e=Ku(e,t,n))?e.sibling:null);Ti(uo,1&uo.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return qu(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ti(uo,uo.current),r)break;return null;case 22:case 23:return t.lanes=0,xu(e,t,n)}return Ku(e,t,n)}(e,t,n);bu=0!==(131072&e.flags)}else bu=!1,ia&&0!==(1048576&t.flags)&&Zi(t,Qi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Hu(e,t),e=t.pendingProps;var i=Di(t,Ii.current);Sa(t,n),i=So(null,t,r,e,i,n);var o=xo();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Li(r)?(o=!0,Mi(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Da(t),i.updater=za,t.stateNode=i,i._reactInternals=t,Ka(t,r,e,n),t=Nu(null,t,r,!0,o,n)):(t.tag=0,ia&&o&&ea(t),wu(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Hu(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Ol(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===I)return 11;if(e===D)return 14}return 2}(r),e=ma(r,e),i){case 0:t=Cu(null,t,r,e,n);break e;case 1:t=Iu(null,t,r,e,n);break e;case 11:t=Eu(null,t,r,e,n);break e;case 14:t=_u(null,t,r,ma(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Cu(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 1:return r=t.type,i=t.pendingProps,Iu(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 3:e:{if(Au(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,La(e,t),Fa(t,r,null,n);var u=t.memoizedState;if(r=u.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:u.cache,pendingSuspenseBoundaries:u.pendingSuspenseBoundaries,transitions:u.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Du(e,t,r,n,i=cu(Error(a(423)),t));break e}if(r!==i){t=Du(e,t,r,n,i=cu(Error(a(424)),t));break e}for(ra=li(t.stateNode.containerInfo.firstChild),na=t,ia=!0,aa=null,n=Xa(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(da(),r===i){t=Ku(e,t,n);break e}wu(e,t,r,n)}t=t.child}return t;case 5:return ao(t),null===e&&la(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,u=i.children,ni(r,i)?u=null:null!==o&&ni(r,o)&&(t.flags|=32),Tu(e,t),wu(e,t,u,n),t.child;case 6:return null===e&&la(t),null;case 13:return Vu(e,t,n);case 4:return ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=$a(t,null,r,n):wu(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Eu(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 7:return wu(e,t,t.pendingProps,n),t.child;case 8:case 12:return wu(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,u=i.value,Ti(ya,r._currentValue),r._currentValue=u,null!==o)if(ur(o.value,u)){if(o.children===i.children&&!Ni.current){t=Ku(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var s=o.dependencies;if(null!==s){u=o.child;for(var l=s.firstContext;null!==l;){if(l.context===r){if(1===o.tag){(l=Oa(-1,n&-n)).tag=2;var c=o.updateQueue;if(null!==c){var f=(c=c.shared).pending;null===f?l.next=l:(l.next=f.next,f.next=l),c.pending=l}}o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),_a(o.return,n,t),s.lanes|=n;break}l=l.next}}else if(10===o.tag)u=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(u=o.return))throw Error(a(341));u.lanes|=n,null!==(s=u.alternate)&&(s.lanes|=n),_a(u,n,t),u=o.sibling}else u=o.child;if(null!==u)u.return=o;else for(u=o;null!==u;){if(u===t){u=null;break}if(null!==(o=u.sibling)){o.return=u.return,u=o;break}u=u.return}o=u}wu(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Sa(t,n),r=r(i=xa(i)),t.flags|=1,wu(e,t,r,n),t.child;case 14:return i=ma(r=t.type,t.pendingProps),_u(e,t,r,i=ma(r.type,i),n);case 15:return Su(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ma(r,i),Hu(e,t),t.tag=1,Li(r)?(e=!0,Mi(t)):e=!1,Sa(t,n),qa(t,r,i),Ka(t,r,i,n),Nu(null,t,r,!0,e,n);case 19:return qu(e,t,n);case 22:return xu(e,t,n)}throw Error(a(156,t.tag))};var Gl="function"===typeof reportError?reportError:function(e){console.error(e)};function Yl(e){this._internalRoot=e}function $l(e){this._internalRoot=e}function Xl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Jl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zl(){}function ec(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var u=i;i=function(){var e=Kl(o);u.call(e)}}Hl(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Kl(o);a.call(e)}}var o=ql(t,r,e,0,null,!1,0,"",Zl);return e._reactRootContainer=o,e[pi]=o.current,Br(8===e.nodeType?e.parentNode:e),fl(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var u=r;r=function(){var e=Kl(s);u.call(e)}}var s=zl(e,0,!1,null,0,!1,0,"",Zl);return e._reactRootContainer=s,e[pi]=s.current,Br(8===e.nodeType?e.parentNode:e),fl((function(){Hl(t,s,n,r)})),s}(n,t,e,i,r);return Kl(o)}$l.prototype.render=Yl.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Hl(e,t,null,null)},$l.prototype.unmount=Yl.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;fl((function(){Hl(null,e,null,null)})),t[pi]=null}},$l.prototype.unstable_scheduleHydration=function(e){if(e){var t=St();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ot.length&&0!==t&&t<Ot[n].priority;n++);Ot.splice(n,0,e),0===n&&Ft(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(gt(t,1|n),il(t,Xe()),0===(6&Ns)&&(qs=Xe()+500,Bi()))}break;case 13:fl((function(){var t=Na(e,1);if(null!==t){var n=tl();rl(t,e,1,n)}})),Wl(e,1)}},Et=function(e){if(13===e.tag){var t=Na(e,134217728);if(null!==t)rl(t,e,134217728,tl());Wl(e,134217728)}},_t=function(e){if(13===e.tag){var t=nl(e),n=Na(e,t);if(null!==n)rl(n,e,t,tl());Wl(e,t)}},St=function(){return kt},xt=function(e,t){var n=kt;try{return kt=e,t()}finally{kt=n}},Ee=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(a(90));W(r),J(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ie=cl,Ne=fl;var tc={usingClientEntryPoint:!1,Events:[ki,bi,wi,Te,Ce,cl]},nc={findFiberByHostInstance:gi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rc={bundleType:nc.bundleType,version:nc.version,rendererPackageName:nc.rendererPackageName,rendererConfig:nc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ke(e))?null:e.stateNode},findFiberByHostInstance:nc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ic=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ic.isDisabled&&ic.supportsFiber)try{it=ic.inject(rc),at=ic}catch(ce){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tc,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xl(t))throw Error(a(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:E,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Xl(e))throw Error(a(299));var n=!1,r="",i=Gl;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=zl(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,Br(8===e.nodeType?e.parentNode:e),new Yl(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=Ke(t))?null:e.stateNode},t.flushSync=function(e){return fl(e)},t.hydrate=function(e,t,n){if(!Jl(t))throw Error(a(200));return ec(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Xl(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",u=Gl;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(u=n.onRecoverableError)),t=ql(t,null,e,1,null!=n?n:null,i,0,o,u),e[pi]=t.current,Br(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new $l(t)},t.render=function(e,t,n){if(!Jl(t))throw Error(a(200));return ec(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Jl(e))throw Error(a(40));return!!e._reactRootContainer&&(fl((function(){ec(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=cl,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Jl(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return ec(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},250:function(e,t,n){var r=n(164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},164:function(e,t,n){!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},321:function(e,t,n){var r=n(791),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,u=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function l(e,t,n){var r,a={},l=null,c=null;for(r in void 0!==n&&(l=""+n),void 0!==t.key&&(l=""+t.key),void 0!==t.ref&&(c=t.ref),t)o.call(t,r)&&!s.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:l,ref:c,props:a,_owner:u.current}}t.Fragment=a,t.jsx=l,t.jsxs=l},117:function(e,t){var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),s=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,m={};function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function g(){}function k(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=y.prototype;var b=k.prototype=new g;b.constructor=k,v(b,y.prototype),b.isPureReactComponent=!0;var w=Array.isArray,E=Object.prototype.hasOwnProperty,_={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function x(e,t,r){var i,a={},o=null,u=null;if(null!=t)for(i in void 0!==t.ref&&(u=t.ref),void 0!==t.key&&(o=""+t.key),t)E.call(t,i)&&!S.hasOwnProperty(i)&&(a[i]=t[i]);var s=arguments.length-2;if(1===s)a.children=r;else if(1<s){for(var l=Array(s),c=0;c<s;c++)l[c]=arguments[c+2];a.children=l}if(e&&e.defaultProps)for(i in s=e.defaultProps)void 0===a[i]&&(a[i]=s[i]);return{$$typeof:n,type:e,key:o,ref:u,props:a,_owner:_.current}}function T(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var C=/\/+/g;function I(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function N(e,t,i,a,o){var u=typeof e;"undefined"!==u&&"boolean"!==u||(e=null);var s=!1;if(null===e)s=!0;else switch(u){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case n:case r:s=!0}}if(s)return o=o(s=e),e=""===a?"."+I(s,0):a,w(o)?(i="",null!=e&&(i=e.replace(C,"$&/")+"/"),N(o,t,i,"",(function(e){return e}))):null!=o&&(T(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(C,"$&/")+"/")+e)),t.push(o)),1;if(s=0,a=""===a?".":a+":",w(e))for(var l=0;l<e.length;l++){var c=a+I(u=e[l],l);s+=N(u,t,i,c,o)}else if(c=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof c)for(e=c.call(e),l=0;!(u=e.next()).done;)s+=N(u=u.value,t,i,c=a+I(u,l++),o);else if("object"===u)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function A(e,t,n){if(null==e)return e;var r=[],i=0;return N(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function D(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var L={current:null},O={transition:null},R={ReactCurrentDispatcher:L,ReactCurrentBatchConfig:O,ReactCurrentOwner:_};t.Children={map:A,forEach:function(e,t,n){A(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return A(e,(function(){t++})),t},toArray:function(e){return A(e,(function(e){return e}))||[]},only:function(e){if(!T(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=o,t.PureComponent=k,t.StrictMode=a,t.Suspense=c,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=R,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),a=e.key,o=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,u=_.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(l in t)E.call(t,l)&&!S.hasOwnProperty(l)&&(i[l]=void 0===t[l]&&void 0!==s?s[l]:t[l])}var l=arguments.length-2;if(1===l)i.children=r;else if(1<l){s=Array(l);for(var c=0;c<l;c++)s[c]=arguments[c+2];i.children=s}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:u}},t.createContext=function(e){return(e={$$typeof:s,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:u,_context:e},e.Consumer=e},t.createElement=x,t.createFactory=function(e){var t=x.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:l,render:e}},t.isValidElement=T,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:D}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=O.transition;O.transition={};try{e()}finally{O.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return L.current.useCallback(e,t)},t.useContext=function(e){return L.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return L.current.useDeferredValue(e)},t.useEffect=function(e,t){return L.current.useEffect(e,t)},t.useId=function(){return L.current.useId()},t.useImperativeHandle=function(e,t,n){return L.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return L.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return L.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return L.current.useMemo(e,t)},t.useReducer=function(e,t,n){return L.current.useReducer(e,t,n)},t.useRef=function(e){return L.current.useRef(e)},t.useState=function(e){return L.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return L.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return L.current.useTransition()},t.version="18.2.0"},791:function(e,t,n){e.exports=n(117)},184:function(e,t,n){e.exports=n(321)},813:function(e,t){function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var u=2*(r+1)-1,s=e[u],l=u+1,c=e[l];if(0>a(s,n))l<i&&0>a(c,s)?(e[r]=c,e[l]=n,r=l):(e[r]=s,e[u]=n,r=u);else{if(!(l<i&&0>a(c,n)))break e;e[r]=c,e[l]=n,r=l}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,s=u.now();t.unstable_now=function(){return u.now()-s}}var l=[],c=[],f=1,h=null,d=3,p=!1,v=!1,m=!1,y="function"===typeof setTimeout?setTimeout:null,g="function"===typeof clearTimeout?clearTimeout:null,k="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(c);null!==t;){if(null===t.callback)i(c);else{if(!(t.startTime<=e))break;i(c),t.sortIndex=t.expirationTime,n(l,t)}t=r(c)}}function w(e){if(m=!1,b(e),!v)if(null!==r(l))v=!0,O(E);else{var t=r(c);null!==t&&R(w,t.startTime-e)}}function E(e,n){v=!1,m&&(m=!1,g(T),T=-1),p=!0;var a=d;try{for(b(n),h=r(l);null!==h&&(!(h.expirationTime>n)||e&&!N());){var o=h.callback;if("function"===typeof o){h.callback=null,d=h.priorityLevel;var u=o(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof u?h.callback=u:h===r(l)&&i(l),b(n)}else i(l);h=r(l)}if(null!==h)var s=!0;else{var f=r(c);null!==f&&R(w,f.startTime-n),s=!1}return s}finally{h=null,d=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var _,S=!1,x=null,T=-1,C=5,I=-1;function N(){return!(t.unstable_now()-I<C)}function A(){if(null!==x){var e=t.unstable_now();I=e;var n=!0;try{n=x(!0,e)}finally{n?_():(S=!1,x=null)}}else S=!1}if("function"===typeof k)_=function(){k(A)};else if("undefined"!==typeof MessageChannel){var D=new MessageChannel,L=D.port2;D.port1.onmessage=A,_=function(){L.postMessage(null)}}else _=function(){y(A,0)};function O(e){x=e,S||(S=!0,_())}function R(e,n){T=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,O(E))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:a,expirationTime:u=a+u,sortIndex:-1},a>o?(e.sortIndex=a,n(c,e),null===r(l)&&e===r(c)&&(m?(g(T),T=-1):m=!0,R(w,a-o))):(e.sortIndex=u,n(l,e),v||p||(v=!0,O(E))),e},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},296:function(e,t,n){e.exports=n(813)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),function(){var e=n(791),t=n(250);function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(){i=function(){return t};var e,t={},n=Object.prototype,a=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},u="function"==typeof Symbol?Symbol:{},s=u.iterator||"@@iterator",l=u.asyncIterator||"@@asyncIterator",c=u.toStringTag||"@@toStringTag";function f(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{f({},"")}catch(e){f=function(e,t,n){return e[t]=n}}function h(e,t,n,r){var i=t&&t.prototype instanceof k?t:k,a=Object.create(i.prototype),u=new L(r||[]);return o(a,"_invoke",{value:I(e,n,u)}),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=h;var p="suspendedStart",v="suspendedYield",m="executing",y="completed",g={};function k(){}function b(){}function w(){}var E={};f(E,s,(function(){return this}));var _=Object.getPrototypeOf,S=_&&_(_(O([])));S&&S!==n&&a.call(S,s)&&(E=S);var x=w.prototype=k.prototype=Object.create(E);function T(e){["next","throw","return"].forEach((function(t){f(e,t,(function(e){return this._invoke(t,e)}))}))}function C(e,t){function n(i,o,u,s){var l=d(e[i],e,o);if("throw"!==l.type){var c=l.arg,f=c.value;return f&&"object"==r(f)&&a.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,u,s)}),(function(e){n("throw",e,u,s)})):t.resolve(f).then((function(e){c.value=e,u(c)}),(function(e){return n("throw",e,u,s)}))}s(l.arg)}var i;o(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(a,a):a()}})}function I(t,n,r){var i=p;return function(a,o){if(i===m)throw new Error("Generator is already running");if(i===y){if("throw"===a)throw o;return{value:e,done:!0}}for(r.method=a,r.arg=o;;){var u=r.delegate;if(u){var s=N(u,r);if(s){if(s===g)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===p)throw i=y,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=m;var l=d(t,n,r);if("normal"===l.type){if(i=r.done?y:v,l.arg===g)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(i=y,r.method="throw",r.arg=l.arg)}}}function N(t,n){var r=n.method,i=t.iterator[r];if(i===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,N(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),g;var a=d(i,t.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,g;var o=a.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,g):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function A(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function D(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(A,this),this.reset(!0)}function O(t){if(t||""===t){var n=t[s];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,o=function n(){for(;++i<t.length;)if(a.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(r(t)+" is not iterable")}return b.prototype=w,o(x,"constructor",{value:w,configurable:!0}),o(w,"constructor",{value:b,configurable:!0}),b.displayName=f(w,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,w):(e.__proto__=w,f(e,c,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},T(C.prototype),f(C.prototype,l,(function(){return this})),t.AsyncIterator=C,t.async=function(e,n,r,i,a){void 0===a&&(a=Promise);var o=new C(h(e,n,r,i),a);return t.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},T(x),f(x,c,"Generator"),f(x,s,(function(){return this})),f(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=O,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(D),!t)for(var n in this)"t"===n.charAt(0)&&a.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function r(r,i){return u.type="throw",u.arg=t,n.next=r,i&&(n.method="next",n.arg=e),!!i}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],u=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=a.call(o,"catchLoc"),l=a.call(o,"finallyLoc");if(s&&l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&a.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,g):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),D(n),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;D(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:O(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),g}},t}function a(e){var t=function(e,t){if("object"!==r(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===r(t)?t:String(t)}function o(e,t,n){return(t=a(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n,r,i,a,o){try{var u=e[a](o),s=u.value}catch(l){return void n(l)}u.done?t(s):Promise.resolve(s).then(r,i)}function c(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){l(a,r,i,o,u,"next",e)}function u(e){l(a,r,i,o,u,"throw",e)}o(void 0)}))}}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function h(e,t){if(e){if("string"===typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?f(e,t):void 0}}function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,u=[],s=!0,l=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=a.call(n)).done)&&(u.push(r.value),u.length!==t);s=!0);}catch(e){l=!0,i=e}finally{try{if(!s&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw i}}return u}}(e,t)||h(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e){return function(e){if(Array.isArray(e))return f(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||h(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var v="Navbar_navbar__IygW8",m=n(184),y=function(){return(0,m.jsx)(m.Fragment,{children:(0,m.jsxs)("div",{className:v,children:[(0,m.jsx)("img",{src:"https://stalwart-wisp-382f3c.netlify.app/assets/logo.png",alt:"logo"}),(0,m.jsx)("h3",{children:"PhotoFolio"})]})})},g="Album_album__S0wjg",k="Album_albumImg__ZjVBH",b=function(e){var t=e.album;return(0,m.jsx)(m.Fragment,{children:(0,m.jsxs)("div",{className:g,children:[(0,m.jsx)("div",{className:k,children:(0,m.jsx)("img",{src:"https://cdn-icons-png.flaticon.com/128/3342/3342137.png",alt:"album_img"})}),(0,m.jsx)("span",{children:t.name})]})})},w="AlbumList_albumList__VDu6c",E="AlbumList_createAlbum__GBFgg",_="AlbumList_albumListTop__W2sEL",S="AlbumList_addAlbumBtn__YbboG",x="AlbumList_cancelAlbumBtn__qpUzY",T="AlbumList_albumListContainer__2+w97",C=function(t){var n=t.toggleIsImgList,r=t.addAlbum,i=t.albums,a=d((0,e.useState)(!1),2),o=a[0],u=a[1],s=(0,e.useRef)(),l=function(){s.current.value=""};return(0,m.jsx)(m.Fragment,{children:(0,m.jsxs)("div",{className:w,children:[o?(0,m.jsxs)("div",{className:E,children:[(0,m.jsx)("span",{children:"Create an Album"}),(0,m.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t=s.current.value;r(t),l()},children:[(0,m.jsx)("input",{type:"text",ref:s,placeholder:"Album Name",required:!0}),(0,m.jsx)("button",{children:"Create"}),(0,m.jsx)("button",{onClick:l,children:"Clear"})]})]}):null,(0,m.jsxs)("div",{className:_,children:[(0,m.jsx)("div",{children:(0,m.jsx)("h1",{children:"Your Albums"})}),(0,m.jsx)("div",{className:o?x:S,children:(0,m.jsx)("button",{onClick:function(){u(!o)},children:o?"Cancel":"Add Album"})})]}),(0,m.jsx)("div",{className:T,children:i.map((function(e){return(0,m.jsx)(m.Fragment,{children:(0,m.jsx)("div",{onClick:function(){return n(e)},children:(0,m.jsx)(b,{album:e},e.id)},e.id)})}))})]})})},I="Carousel_carousel__H905q",N="Carousel_slide_direction__4d2hP",A="Carousel_left__a3iv6",D="Carousel_right__9B0Pl",L="Carousel_indicator__nWnSY",O="Carousel_dot__dpveW",R="Carousel_active__wKPl-",P="Carousel_cancel__Lpnpq",M=function(t){var n=t.images,r=t.setIsCarousel,i=t.isCarousel,a=d((0,e.useState)(i.index),2),o=a[0],u=a[1];return(0,m.jsx)(m.Fragment,{children:(0,m.jsxs)("div",{className:I,children:[(0,m.jsx)("div",{className:P,onClick:function(){return r({carousel:!1,index:null})},children:(0,m.jsx)("img",{src:"https://cdn-icons-png.flaticon.com/128/1828/1828851.png",alt:"backToimages"})}),(0,m.jsx)("h2",{children:n[o].title}),(0,m.jsx)("img",{src:n[o].url,alt:"img"},o),(0,m.jsxs)("div",{className:N,children:[(0,m.jsx)("div",{className:A,onClick:function(){u((function(e){return e-1<0?n.length-1:e-1}))},children:(0,m.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",height:"20",viewBox:"0 96 960 960",width:"20",children:(0,m.jsx)("path",{d:"M400 976 0 576l400-400 56 57-343 343 343 343-56 57Z"})})}),(0,m.jsx)("div",{className:D,onClick:function(){u((function(e){return e+1===n.length?0:e+1}))},children:(0,m.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",height:"20",viewBox:"0 96 960 960",width:"20",children:(0,m.jsx)("path",{d:"m304 974-56-57 343-343-343-343 56-57 400 400-400 400Z"})})})]}),(0,m.jsx)("div",{className:L,children:n.map((function(e,t){return(0,m.jsx)("div",{className:"".concat(O,"   ").concat(o===t?R:""),onClick:function(){return function(e){u(e)}(t)}},t)}))})]})})},F="Image_imgComp__F9JXg",V="Image_image__8BGWO",U="Image_updateImg__0Jqvc",j="Image_deleteImg__6SXZY",z=function(e){var t=e.image,n=e.deleteImg,r=e.setUpdateImg,i=e.index,a=e.setIsCarousel;return(0,m.jsxs)("div",{className:F,children:[(0,m.jsx)("div",{className:V,onClick:function(){return a({carousel:!0,index:i})},children:(0,m.jsx)("img",{src:t.url,alt:"img"})}),(0,m.jsx)("span",{children:t.title}),(0,m.jsx)("div",{className:U,onClick:function(){return r(t)},children:(0,m.jsx)("img",{src:"https://cdn-icons-png.flaticon.com/128/10336/10336582.png",alt:"update"})}),(0,m.jsx)("div",{onClick:function(){return n(i)},className:j,children:(0,m.jsx)("img",{src:"https://t3.ftcdn.net/jpg/02/76/19/96/240_F_276199650_Hs5K3QnXm9ZMBLd3DT44YcdWUIf8GHxO.jpg",alt:"delete"})})]})},B="ImageList_imgList__xn-1C",q="ImageList_createImg__Xg-o-",H="ImageList_imgFormBtn__VG5tU",K="ImageList_imgListTop__18Dhd",Q="ImageList_addImgBtn__qyHZJ",W="ImageList_cancelImgBtn__6TRoO",G="ImageList_back__juFKS",Y="ImageList_imgListContainer__VDY7t";function $(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=h(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){u=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(u)throw a}}}}function X(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function J(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,a(r.key),r)}}function Z(e,t,n){return t&&J(e.prototype,t),n&&J(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function ee(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function te(e,t){return te=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},te(e,t)}function ne(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&te(e,t)}function re(e){return re=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},re(e)}function ie(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function ae(e){var t=ie();return function(){var n,i=re(e);if(t){var a=re(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===r(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ee(e)}(this,n)}}function oe(e,t,n){return oe=ie()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&te(i,n.prototype),i},oe.apply(null,arguments)}function ue(e){var t="function"===typeof Map?new Map:void 0;return ue=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return oe(e,arguments,re(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),te(r,e)},ue(e)}var se=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},le={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,u=o?e[i+1]:0,s=i+2<e.length,l=s?e[i+2]:0,c=a>>2,f=(3&a)<<4|u>>4,h=(15&u)<<2|l>>6,d=63&l;s||(d=64,o||(h=64)),r.push(n[c],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(se(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var u=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&u)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,u=++i<e.length?n[e.charAt(i)]:64,s=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==u||null==s)throw new ce;var l=a<<2|o>>4;if(r.push(l),64!==u){var c=o<<4&240|u>>2;if(r.push(c),64!==s){var f=u<<6&192|s;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},ce=function(e){ne(n,e);var t=ae(n);function n(){var e;return X(this,n),(e=t.apply(this,arguments)).name="DecodeBase64StringError",e}return Z(n)}(ue(Error)),fe=function(e){return function(e){var t=se(e);return le.encodeByteArray(t,!0)}(e).replace(/\./g,"")},he=function(e){try{return le.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};var de=function(){return function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__},pe=function(){try{return de()||function(){if("undefined"!==typeof process){var e={NODE_ENV:"production",PUBLIC_URL:"/photofolio",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0}}()||function(){if("undefined"!==typeof document){var e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}var t=e&&he(e[1]);return t&&JSON.parse(t)}}()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},ve=function(e){var t=function(e){var t,n;return null===(n=null===(t=pe())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]}(e);if(t){var n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));var r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]}},me=function(){var e;return null===(e=pe())||void 0===e?void 0:e.config},ye=function(){function e(){var t=this;X(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return Z(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function ge(){try{return"object"===typeof indexedDB}catch(e){return!1}}var ke=function(e){ne(n,e);var t=ae(n);function n(e,r,i){var a;return X(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(ee(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(ee(a),be.prototype.create),a}return Z(n)}(ue(Error)),be=function(){function e(t,n,r){X(this,e),this.service=t,this.serviceName=n,this.errors=r}return Z(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(we,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new ke(n,a,t)}}]),e}();var we=/\{\$([^}]+)}/g;function Ee(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var u=e[o],s=t[o];if(_e(u)&&_e(s)){if(!Ee(u,s))return!1}else if(u!==s)return!1}for(var l=0,c=r;l<c.length;l++){var f=c[l];if(!n.includes(f))return!1}return!0}function _e(e){return null!==e&&"object"===typeof e}function Se(e){return e&&e._delegate?e._delegate:e}var xe=function(){function e(t,n,r){X(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return Z(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),Te="[DEFAULT]",Ce=function(){function e(t,n){X(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return Z(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new ye;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Te})}catch(s){}var t,n=$(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=d(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch(s){}}}catch(l){n.e(l)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Te;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=c(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(p(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),p(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Te;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Te;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=$(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var u=d(i.value,2),s=u[0],l=u[1];r===this.normalizeInstanceIdentifier(s)&&l.resolve(a)}}catch(c){o.e(c)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=$(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(o){}}}catch(u){i.e(u)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===Te?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(o){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Te;return this.component?this.component.multipleInstances?e:Te:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var Ie,Ne,Ae=function(){function e(t){X(this,e),this.name=t,this.providers=new Map}return Z(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new Ce(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),De=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Ne||(Ne={}));var Le={debug:Ne.DEBUG,verbose:Ne.VERBOSE,info:Ne.INFO,warn:Ne.WARN,error:Ne.ERROR,silent:Ne.SILENT},Oe=Ne.INFO,Re=(o(Ie={},Ne.DEBUG,"log"),o(Ie,Ne.VERBOSE,"log"),o(Ie,Ne.INFO,"info"),o(Ie,Ne.WARN,"warn"),o(Ie,Ne.ERROR,"error"),Ie),Pe=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=Re[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),u=2;u<a;u++)o[u-2]=arguments[u];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},Me=function(){function e(t){X(this,e),this.name=t,this._logLevel=Oe,this._logHandler=Pe,this._userLogHandler=null,De.push(this)}return Z(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in Ne))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?Le[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Ne.DEBUG].concat(t)),this._logHandler.apply(this,[this,Ne.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Ne.VERBOSE].concat(t)),this._logHandler.apply(this,[this,Ne.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Ne.INFO].concat(t)),this._logHandler.apply(this,[this,Ne.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Ne.WARN].concat(t)),this._logHandler.apply(this,[this,Ne.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Ne.ERROR].concat(t)),this._logHandler.apply(this,[this,Ne.ERROR].concat(t))}}]),e}();var Fe,Ve,Ue=function(e,t){return t.some((function(t){return e instanceof t}))};var je=new WeakMap,ze=new WeakMap,Be=new WeakMap,qe=new WeakMap,He=new WeakMap;var Ke={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return ze.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Be.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ge(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function Qe(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Ve||(Ve=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(Ye(this),n),Ge(je.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Ge(e.apply(Ye(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[Ye(this),t].concat(r));return Be.set(a,t.sort?t.sort():[t]),Ge(a)}}function We(e){return"function"===typeof e?Qe(e):(e instanceof IDBTransaction&&function(e){if(!ze.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));ze.set(e,t)}}(e),Ue(e,Fe||(Fe=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,Ke):e)}function Ge(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(Ge(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&je.set(t,e)})).catch((function(){})),He.set(t,e),t}(e);if(qe.has(e))return qe.get(e);var t=We(e);return t!==e&&(qe.set(e,t),He.set(t,e)),t}var Ye=function(e){return He.get(e)};var $e,Xe,Je=["get","getKey","getAll","getAllKeys","count"],Ze=["put","add","delete","clear"],et=new Map;function tt(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(et.get(t))return et.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,a=Ze.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(a||Je.includes(n))){var o=function(){var e=c(i().mark((function e(t){var o,u,s,l,c,f,h=arguments;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(u=this.transaction(t,a?"readwrite":"readonly"),s=u.store,l=h.length,c=new Array(l>1?l-1:0),f=1;f<l;f++)c[f-1]=h[f];return r&&(s=s.index(c.shift())),e.next=6,Promise.all([(o=s)[n].apply(o,c),a&&u.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return et.set(t,o),o}}}Ke=function(e){return s(s({},e),{},{get:function(t,n,r){return tt(t,n)||e.get(t,n,r)},has:function(t,n){return!!tt(t,n)||e.has(t,n)}})}(Ke);var nt=function(){function e(t){X(this,e),this.container=t}return Z(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var rt="@firebase/app",it="0.9.17",at=new Me("@firebase/app"),ot="[DEFAULT]",ut=(o($e={},rt,"fire-core"),o($e,"@firebase/app-compat","fire-core-compat"),o($e,"@firebase/analytics","fire-analytics"),o($e,"@firebase/analytics-compat","fire-analytics-compat"),o($e,"@firebase/app-check","fire-app-check"),o($e,"@firebase/app-check-compat","fire-app-check-compat"),o($e,"@firebase/auth","fire-auth"),o($e,"@firebase/auth-compat","fire-auth-compat"),o($e,"@firebase/database","fire-rtdb"),o($e,"@firebase/database-compat","fire-rtdb-compat"),o($e,"@firebase/functions","fire-fn"),o($e,"@firebase/functions-compat","fire-fn-compat"),o($e,"@firebase/installations","fire-iid"),o($e,"@firebase/installations-compat","fire-iid-compat"),o($e,"@firebase/messaging","fire-fcm"),o($e,"@firebase/messaging-compat","fire-fcm-compat"),o($e,"@firebase/performance","fire-perf"),o($e,"@firebase/performance-compat","fire-perf-compat"),o($e,"@firebase/remote-config","fire-rc"),o($e,"@firebase/remote-config-compat","fire-rc-compat"),o($e,"@firebase/storage","fire-gcs"),o($e,"@firebase/storage-compat","fire-gcs-compat"),o($e,"@firebase/firestore","fire-fst"),o($e,"@firebase/firestore-compat","fire-fst-compat"),o($e,"fire-js","fire-js"),o($e,"firebase","fire-js-all"),$e),st=new Map,lt=new Map;function ct(e,t){try{e.container.addComponent(t)}catch(n){at.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function ft(e){var t=e.name;if(lt.has(t))return at.debug("There were multiple attempts to register component ".concat(t,".")),!1;lt.set(t,e);var n,r=$(st.values());try{for(r.s();!(n=r.n()).done;){ct(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function ht(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}var dt=(o(Xe={},"no-app","No Firebase App '{$appName}' has been created - call initializeApp() first"),o(Xe,"bad-app-name","Illegal App name: '{$appName}"),o(Xe,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),o(Xe,"app-deleted","Firebase App named '{$appName}' already deleted"),o(Xe,"no-options","Need to provide options, when not being deployed to hosting via source."),o(Xe,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),o(Xe,"invalid-log-argument","First argument to `onLog` must be null or a function."),o(Xe,"idb-open","Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}."),o(Xe,"idb-get","Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}."),o(Xe,"idb-set","Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}."),o(Xe,"idb-delete","Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."),Xe),pt=new be("app","Firebase",dt),vt=function(){function e(t,n,r){var i=this;X(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new xe("app",(function(){return i}),"PUBLIC"))}return Z(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw pt.create("app-deleted",{appName:this._name})}}]),e}();function mt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;"object"!==typeof t&&(t={name:t});var r=Object.assign({name:ot,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw pt.create("bad-app-name",{appName:String(i)});if(n||(n=me()),!n)throw pt.create("no-options");var a=st.get(i);if(a){if(Ee(n,a.options)&&Ee(r,a.config))return a;throw pt.create("duplicate-app",{appName:i})}var o,u=new Ae(i),s=$(lt.values());try{for(s.s();!(o=s.n()).done;){var l=o.value;u.addComponent(l)}}catch(f){s.e(f)}finally{s.f()}var c=new vt(n,r,u);return st.set(i,c),c}function yt(e,t,n){var r,i=null!==(r=ut[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var u=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&u.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&u.push("and"),o&&u.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void at.warn(u.join(" "))}ft(new xe("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}var gt="firebase-heartbeat-database",kt=1,bt="firebase-heartbeat-store",wt=null;function Et(){return wt||(wt=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,u=indexedDB.open(e,t),s=Ge(u);return i&&u.addEventListener("upgradeneeded",(function(e){i(Ge(u.result),e.oldVersion,e.newVersion,Ge(u.transaction),e)})),r&&u.addEventListener("blocked",(function(e){return r(e.oldVersion,e.newVersion,e)})),s.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(e){return a(e.oldVersion,e.newVersion,e)}))})).catch((function(){})),s}(gt,kt,{upgrade:function(e,t){if(0===t)e.createObjectStore(bt)}}).catch((function(e){throw pt.create("idb-open",{originalErrorMessage:e.message})}))),wt}function _t(e){return St.apply(this,arguments)}function St(){return St=c(i().mark((function e(t){var n,r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Et();case 3:return n=e.sent,e.next=6,n.transaction(bt).objectStore(bt).get(Ct(t));case 6:return r=e.sent,e.abrupt("return",r);case 10:e.prev=10,e.t0=e.catch(0),e.t0 instanceof ke?at.warn(e.t0.message):(a=pt.create("idb-get",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),at.warn(a.message));case 13:case"end":return e.stop()}}),e,null,[[0,10]])}))),St.apply(this,arguments)}function xt(e,t){return Tt.apply(this,arguments)}function Tt(){return Tt=c(i().mark((function e(t,n){var r,a,o,u;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Et();case 3:return r=e.sent,a=r.transaction(bt,"readwrite"),o=a.objectStore(bt),e.next=8,o.put(n,Ct(t));case 8:return e.next=10,a.done;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),e.t0 instanceof ke?at.warn(e.t0.message):(u=pt.create("idb-set",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),at.warn(u.message));case 15:case"end":return e.stop()}}),e,null,[[0,12]])}))),Tt.apply(this,arguments)}function Ct(e){return"".concat(e.name,"!").concat(e.options.appId)}var It=function(){function e(t){var n=this;X(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new Lt(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return Z(e,[{key:"triggerHeartbeat",value:function(){var e=c(i().mark((function e(){var t,n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=Nt(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=c(i().mark((function e(){var t,n,r,a,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=Nt(),n=At(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,a=n.unsentEntries,o=fe(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(a.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=a,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",o);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Nt(){return(new Date).toISOString().substring(0,10)}function At(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=$(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),Ot(r)>n)return a.dates.pop(),0}else if(r.push({agent:e.agent,dates:[e.date]}),Ot(r)>n)return r.pop(),0;i=i.slice(1)};for(a.s();!(t=a.n()).done&&0!==o(););}catch(u){a.e(u)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var Dt,Lt=function(){function e(t){X(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return Z(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=c(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ge()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(a){t(a)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=c(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,_t(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=c(i().mark((function e(t){var n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",xt(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=c(i().mark((function e(t){var n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",xt(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat(p(r.heartbeats),p(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function Ot(e){return fe(JSON.stringify({version:2,heartbeats:e})).length}Dt="",ft(new xe("platform-logger",(function(e){return new nt(e)}),"PRIVATE")),ft(new xe("heartbeat",(function(e){return new It(e)}),"PRIVATE")),yt(rt,it,Dt),yt(rt,it,"esm2017"),yt("fire-js","");function Rt(){return Rt="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=re(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},Rt.apply(this,arguments)}yt("firebase","10.3.0","app");var Pt,Mt="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Ft={},Vt=Vt||{},Ut=Mt||self;function jt(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function zt(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Bt="closure_uid_"+(1e9*Math.random()>>>0),qt=0;function Ht(e,t,n){return e.call.apply(e.bind,arguments)}function Kt(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Qt(e,t,n){return(Qt=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Ht:Kt).apply(null,arguments)}function Wt(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Gt(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function Yt(){this.s=this.s,this.o=this.o}Yt.prototype.s=!1,Yt.prototype.sa=function(){var e;!this.s&&(this.s=!0,this.N(),0)&&(e=this,Object.prototype.hasOwnProperty.call(e,Bt)&&e[Bt]||(e[Bt]=++qt))},Yt.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var $t=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function Xt(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function Jt(e,t){for(var n=1;n<arguments.length;n++){var r=arguments[n];if(jt(r)){var i=e.length||0,a=r.length||0;e.length=i+a;for(var o=0;o<a;o++)e[i+o]=r[o]}else e.push(r)}}function Zt(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}Zt.prototype.h=function(){this.defaultPrevented=!0};var en=function(){if(!Ut.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{Ut.addEventListener("test",(function(){}),t),Ut.removeEventListener("test",(function(){}),t)}catch(n){}return e}();function tn(e){return/^[\s\xa0]*$/.test(e)}function nn(){var e=Ut.navigator;return e&&(e=e.userAgent)?e:""}function rn(e){return-1!=nn().indexOf(e)}function an(e){return an[" "](e),e}an[" "]=function(){};var on,un,sn=rn("Opera"),ln=rn("Trident")||rn("MSIE"),cn=rn("Edge"),fn=cn||ln,hn=rn("Gecko")&&!(-1!=nn().toLowerCase().indexOf("webkit")&&!rn("Edge"))&&!(rn("Trident")||rn("MSIE"))&&!rn("Edge"),dn=-1!=nn().toLowerCase().indexOf("webkit")&&!rn("Edge");function pn(){var e=Ut.document;return e?e.documentMode:void 0}e:{var vn="",mn=function(){var e=nn();return hn?/rv:([^\);]+)(\)|;)/.exec(e):cn?/Edge\/([\d\.]+)/.exec(e):ln?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):dn?/WebKit\/(\S+)/.exec(e):sn?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(mn&&(vn=mn?mn[1]:""),ln){var yn=pn();if(null!=yn&&yn>parseFloat(vn)){on=String(yn);break e}}on=vn}if(Ut.document&&ln){var gn=pn();un=gn||(parseInt(on,10)||void 0)}else un=void 0;var kn=un;function bn(e,t){if(Zt.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(hn){e:{try{an(t.nodeName);var i=!0;break e}catch(Qp){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:wn[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&bn.$.h.call(this)}}Gt(bn,Zt);var wn={2:"touch",3:"pen",4:"mouse"};bn.prototype.h=function(){bn.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var En="closure_listenable_"+(1e6*Math.random()|0),_n=0;function Sn(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++_n,this.fa=this.ia=!1}function xn(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function Tn(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function Cn(e){var t={};for(var n in e)t[n]=e[n];return t}var In="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Nn(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<In.length;a++)n=In[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function An(e){this.src=e,this.g={},this.h=0}function Dn(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=$t(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(xn(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Ln(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.fa&&a.listener==t&&a.capture==!!n&&a.la==r)return i}return-1}An.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=Ln(e,t,r,i);return-1<o?(t=e[o],n||(t.ia=!1)):((t=new Sn(t,this.src,a,!!r,i)).ia=n,e.push(t)),t};var On="closure_lm_"+(1e6*Math.random()|0),Rn={};function Pn(e,t,n,r,i){if(r&&r.once)return Fn(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)Pn(e,t[a],n,r,i);return null}return n=Hn(n),e&&e[En]?e.O(t,n,zt(r)?!!r.capture:!!r,i):Mn(e,t,n,!1,r,i)}function Mn(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=zt(i)?!!i.capture:!!i,u=Bn(e);if(u||(e[On]=u=new An(e)),(n=u.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=zn;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)en||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(jn(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Fn(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)Fn(e,t[a],n,r,i);return null}return n=Hn(n),e&&e[En]?e.P(t,n,zt(r)?!!r.capture:!!r,i):Mn(e,t,n,!0,r,i)}function Vn(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)Vn(e,t[a],n,r,i);else r=zt(r)?!!r.capture:!!r,n=Hn(n),e&&e[En]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=Ln(a=e.g[t],n,r,i))&&(xn(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=Bn(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Ln(t,n,r,i)),(n=-1<e?t[e]:null)&&Un(n))}function Un(e){if("number"!==typeof e&&e&&!e.fa){var t=e.src;if(t&&t[En])Dn(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(jn(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Bn(t))?(Dn(n,e),0==n.h&&(n.src=null,t[On]=null)):xn(e)}}}function jn(e){return e in Rn?Rn[e]:Rn[e]="on"+e}function zn(e,t){if(e.fa)e=!0;else{t=new bn(t,this);var n=e.listener,r=e.la||e.src;e.ia&&Un(e),e=n.call(r,t)}return e}function Bn(e){return(e=e[On])instanceof An?e:null}var qn="__closure_events_fn_"+(1e9*Math.random()>>>0);function Hn(e){return"function"===typeof e?e:(e[qn]||(e[qn]=function(t){return e.handleEvent(t)}),e[qn])}function Kn(){Yt.call(this),this.i=new An(this),this.S=this,this.J=null}function Qn(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,"string"===typeof t)t=new Zt(t,e);else if(t instanceof Zt)t.target=t.target||e;else{var i=t;Nn(t=new Zt(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=Wn(o,r,!0,t)&&i}if(i=Wn(o=t.g=e,r,!0,t)&&i,i=Wn(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=Wn(o=t.g=n[a],r,!1,t)&&i}function Wn(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.fa&&o.capture==n){var u=o.listener,s=o.la||o.src;o.ia&&Dn(e.i,o),i=!1!==u.call(s,r)&&i}}return i&&!r.defaultPrevented}Gt(Kn,Yt),Kn.prototype[En]=!0,Kn.prototype.removeEventListener=function(e,t,n,r){Vn(this,e,t,n,r)},Kn.prototype.N=function(){if(Kn.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)xn(n[r]);delete t.g[e],t.h--}}this.J=null},Kn.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Kn.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Gn=Ut.JSON.stringify,Yn=function(){function e(t,n){X(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return Z(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}();function $n(){var e=ir,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Xn=function(){function e(){X(this,e),this.h=this.g=null}return Z(e,[{key:"add",value:function(e,t){var n=Jn.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),Jn=new Yn((function(){return new Zn}),(function(e){return e.reset()})),Zn=function(){function e(){X(this,e),this.next=this.g=this.h=null}return Z(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function er(e){var t=1;e=e.split(":");for(var n=[];0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function tr(e){Ut.setTimeout((function(){throw e}),0)}var nr,rr=!1,ir=new Xn,ar=function(){var e=Ut.Promise.resolve(void 0);nr=function(){e.then(or)}},or=function(){for(var e;e=$n();){try{e.h.call(e.g)}catch(n){tr(n)}var t=Jn;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}rr=!1};function ur(e,t){Kn.call(this),this.h=e||1,this.g=t||Ut,this.j=Qt(this.qb,this),this.l=Date.now()}function sr(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}function lr(e,t,n){if("function"===typeof e)n&&(e=Qt(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Qt(e.handleEvent,e)}return 2147483647<Number(t)?-1:Ut.setTimeout(e,t||0)}function cr(e){e.g=lr((function(){e.g=null,e.i&&(e.i=!1,cr(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}Gt(ur,Kn),(Pt=ur.prototype).ga=!1,Pt.T=null,Pt.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Qn(this,"tick"),this.ga&&(sr(this),this.start()))}},Pt.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Pt.N=function(){ur.$.N.call(this),sr(this),delete this.g};var fr=function(e){ne(n,e);var t=ae(n);function n(e,r){var i;return X(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return Z(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:cr(this)}},{key:"N",value:function(){Rt(re(n.prototype),"N",this).call(this),this.g&&(Ut.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(Yt);function hr(e){Yt.call(this),this.h=e,this.g={}}Gt(hr,Yt);var dr=[];function pr(e,t,n,r){Array.isArray(n)||(n&&(dr[0]=n.toString()),n=dr);for(var i=0;i<n.length;i++){var a=Pn(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function vr(e){Tn(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Un(e)}),e),e.g={}}function mr(){this.g=!0}function yr(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return Gn(n)}catch(u){return t}}(e,n)+(r?" "+r:"")}))}hr.prototype.N=function(){hr.$.N.call(this),vr(this)},hr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},mr.prototype.Ea=function(){this.g=!1},mr.prototype.info=function(){};var gr={},kr=null;function br(){return kr=kr||new Kn}function wr(e){Zt.call(this,gr.Ta,e)}function Er(e){var t=br();Qn(t,new wr(t))}function _r(e,t){Zt.call(this,gr.STAT_EVENT,e),this.stat=t}function Sr(e){var t=br();Qn(t,new _r(t,e))}function xr(e,t){Zt.call(this,gr.Ua,e),this.size=t}function Tr(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return Ut.setTimeout((function(){e()}),t)}gr.Ta="serverreachability",Gt(wr,Zt),gr.STAT_EVENT="statevent",Gt(_r,Zt),gr.Ua="timingevent",Gt(xr,Zt);var Cr={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Ir={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Nr(){}function Ar(e){return e.h||(e.h=e.i())}function Dr(){}Nr.prototype.h=null;var Lr,Or={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Rr(){Zt.call(this,"d")}function Pr(){Zt.call(this,"c")}function Mr(){}function Fr(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new hr(this),this.P=Ur,e=fn?125:void 0,this.V=new ur(e),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Vr}function Vr(){this.i=null,this.g="",this.h=!1}Gt(Rr,Zt),Gt(Pr,Zt),Gt(Mr,Nr),Mr.prototype.g=function(){return new XMLHttpRequest},Mr.prototype.i=function(){return{}},Lr=new Mr;var Ur=45e3,jr={},zr={};function Br(e,t,n){e.L=1,e.v=ui(ni(t)),e.s=n,e.S=!0,qr(e,null)}function qr(e,t){e.G=Date.now(),Wr(e),e.A=ni(e.v);var n=e.A,r=e.W;Array.isArray(r)||(r=[String(r)]),bi(n.i,"t",r),e.C=0,n=e.l.J,e.h=new Vr,e.g=wa(e.l,n?t:null,!e.s),0<e.O&&(e.M=new fr(Qt(e.Pa,e,e.g),e.O)),pr(e.U,e.g,"readystatechange",e.nb),t=e.I?Cn(e.I):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.A,e.u,e.s,t)):(e.u="GET",e.g.ha(e.A,e.u,null,t)),Er(),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",u=a.split("&"),s=0;s<u.length;s++){var l=u[s].split("=");if(1<l.length){var c=l[0];l=l[1];var f=c.split("_");o=2<=f.length&&"type"==f[1]?o+(c+"=")+l+"&":o+(c+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.W,e.s)}function Hr(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.l.Ha)}function Kr(e,t,n){for(var r,i=!0;!e.J&&e.C<n.length;){if((r=Qr(e,n))==zr){4==t&&(e.o=4,Sr(14),i=!1),yr(e.j,e.m,null,"[Incomplete Response]");break}if(r==jr){e.o=4,Sr(15),yr(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}yr(e.j,e.m,r,null),Jr(e,r)}Hr(e)&&r!=zr&&r!=jr&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,Sr(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.ba&&(e.ba=!0,(t=e.l).g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),da(t),t.M=!0,Sr(11))):(yr(e.j,e.m,n,"[Invalid Chunked Response]"),Xr(e),$r(e))}function Qr(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?zr:(n=Number(t.substring(n,r)),isNaN(n)?jr:(r+=1)+n>t.length?zr:(t=t.slice(r,r+n),e.C=r+n,t))}function Wr(e){e.Y=Date.now()+e.P,Gr(e,e.P)}function Gr(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Tr(Qt(e.lb,e),t)}function Yr(e){e.B&&(Ut.clearTimeout(e.B),e.B=null)}function $r(e){0==e.l.H||e.J||ma(e.l,e)}function Xr(e){Yr(e);var t=e.M;t&&"function"==typeof t.sa&&t.sa(),e.M=null,sr(e.V),vr(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function Jr(e,t){try{var n=e.l;if(0!=n.H&&(n.g==e||Ci(n.i,e)))if(!e.K&&Ci(n.i,e)&&3==n.H){try{var r=n.Ja.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<e.G))break e;va(n),aa(n)}ha(n),Sr(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=Tr(Qt(n.ib,n),6e3));if(1>=Ti(n.i)&&n.oa){try{n.oa()}catch(a){}n.oa=void 0}}else ga(n,11)}else if((e.K||n.g==e)&&va(n),!tn(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.V=a[0],a=a[1],2==n.H)if("c"==a[0]){n.K=a[1],n.pa=a[2];var o=a[3];null!=o&&(n.ra=o,n.l.info("VER="+n.ra));var u=a[4];null!=u&&(n.Ga=u,n.l.info("SVER="+n.Ga));var s=a[5];null!=s&&"number"===typeof s&&0<s&&(r=1.5*s,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;var l=e.g;if(l){var c=l.g?l.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(c){var f=r.i;f.g||-1==c.indexOf("spdy")&&-1==c.indexOf("quic")&&-1==c.indexOf("h2")||(f.j=f.l,f.g=new Set,f.h&&(Ii(f,f.h),f.h=null))}if(r.F){var h=l.g?l.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.Da=h,oi(r.I,r.F,h))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms"));var d=e;if((r=n).wa=ba(r,r.J?r.pa:null,r.Y),d.K){Ni(r.i,d);var p=d,v=r.L;v&&p.setTimeout(v),p.B&&(Yr(p),Wr(p)),r.g=d}else fa(r);0<n.j.length&&ua(n)}else"stop"!=a[0]&&"close"!=a[0]||ga(n,7);else 3==n.H&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?ga(n,7):ia(n):"noop"!=a[0]&&n.h&&n.h.Aa(a),n.A=0)}Er()}catch(a){}}function Zr(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(jt(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.ta&&"function"==typeof e.ta)return e.ta();if(!e.Z||"function"!=typeof e.Z){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(jt(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}}(e),r=function(e){if(e.Z&&"function"==typeof e.Z)return e.Z();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(jt(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}(Pt=Fr.prototype).setTimeout=function(e){this.P=e},Pt.nb=function(e){e=e.target;var t=this.M;t&&3==Ji(e)?t.l():this.Pa(e)},Pt.Pa=function(e){try{if(e==this.g)e:{var t=Ji(this.g),n=this.g.Ia();this.g.da();if(!(3>t)&&(3!=t||fn||this.g&&(this.h.h||this.g.ja()||Zi(this.g)))){this.J||4!=t||7==n||Er(),Yr(this);var r=this.g.da();this.ca=r;t:if(Hr(this)){var i=Zi(this.g);e="";var a=i.length,o=4==Ji(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Xr(this),$r(this);var u="";break t}this.h.i=new Ut.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,e+=this.h.i.decode(i[n],{stream:o&&n==a-1});i.splice(0,a),this.h.g+=e,this.C=0,u=this.h.g}else u=this.g.ja();if(this.i=200==r,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.W,t,r),this.i){if(this.aa&&!this.K){t:{if(this.g){var s,l=this.g;if((s=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!tn(s)){var c=s;break t}}c=null}if(!(r=c)){this.i=!1,this.o=3,Sr(12),Xr(this),$r(this);break e}yr(this.j,this.m,r,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Jr(this,r)}this.S?(Kr(this,t,u),fn&&this.i&&3==t&&(pr(this.U,this.V,"tick",this.mb),this.V.start())):(yr(this.j,this.m,u,null),Jr(this,u)),4==t&&Xr(this),this.i&&!this.J&&(4==t?ma(this.l,this):(this.i=!1,Wr(this)))}else(function(e){var t={};e=(e.g&&2<=Ji(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(var n=0;n<e.length;n++)if(!tn(e[n])){var r=er(e[n]),i=r[0];if("string"===typeof(r=r[1])){r=r.trim();var a=t[i]||[];t[i]=a,a.push(r)}}!function(e,t){for(var n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==r&&0<u.indexOf("Unknown SID")?(this.o=3,Sr(12)):(this.o=0,Sr(13)),Xr(this),$r(this)}}}catch(t){}},Pt.mb=function(){if(this.g){var e=Ji(this.g),t=this.g.ja();this.C<t.length&&(Yr(this),Kr(this,e,t),this.i&&4!=e&&Wr(this))}},Pt.cancel=function(){this.J=!0,Xr(this)},Pt.lb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.L&&(Er(),Sr(17)),Xr(this),this.o=2,$r(this)):Gr(this,this.Y-e)};var ei=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ti(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof ti){this.h=e.h,ri(this,e.j),this.s=e.s,this.g=e.g,ii(this,e.m),this.l=e.l;var t=e.i,n=new mi;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),ai(this,n),this.o=e.o}else e&&(t=String(e).match(ei))?(this.h=!1,ri(this,t[1]||"",!0),this.s=si(t[2]||""),this.g=si(t[3]||"",!0),ii(this,t[4]),this.l=si(t[5]||"",!0),ai(this,t[6]||"",!0),this.o=si(t[7]||"")):(this.h=!1,this.i=new mi(null,this.h))}function ni(e){return new ti(e)}function ri(e,t,n){e.j=n?si(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function ii(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function ai(e,t,n){t instanceof mi?(e.i=t,function(e,t){t&&!e.j&&(yi(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(gi(this,t),bi(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=li(t,pi)),e.i=new mi(t,e.h))}function oi(e,t,n){e.i.set(t,n)}function ui(e){return oi(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function si(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function li(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,ci),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function ci(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}ti.prototype.toString=function(){var e=[],t=this.j;t&&e.push(li(t,fi,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(li(t,fi,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(li(n,"/"==n.charAt(0)?di:hi,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",li(n,vi)),e.join("")};var fi=/[#\/\?@]/g,hi=/[#\?:]/g,di=/[#\?]/g,pi=/[#\?@]/g,vi=/#/g;function mi(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function yi(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function gi(e,t){yi(e),t=wi(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function ki(e,t){return yi(e),t=wi(e,t),e.g.has(t)}function bi(e,t,n){gi(e,t),0<n.length&&(e.i=null,e.g.set(wi(e,t),Xt(n)),e.h+=n.length)}function wi(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(Pt=mi.prototype).add=function(e,t){yi(this),this.i=null,e=wi(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},Pt.forEach=function(e,t){yi(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},Pt.ta=function(){yi(this);for(var e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},Pt.Z=function(e){yi(this);var t=[];if("string"===typeof e)ki(this,e)&&(t=t.concat(this.g.get(wi(this,e))));else{e=Array.from(this.g.values());for(var n=0;n<e.length;n++)t=t.concat(e[n])}return t},Pt.set=function(e,t){return yi(this),this.i=null,ki(this,e=wi(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},Pt.get=function(e,t){return e&&0<(e=this.Z(e)).length?String(e[0]):t},Pt.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=Array.from(this.g.keys()),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r)),a=this.Z(r);for(r=0;r<a.length;r++){var o=i;""!==a[r]&&(o+="="+encodeURIComponent(String(a[r]))),e.push(o)}}return this.i=e.join("&")};var Ei=Z((function e(t,n){X(this,e),this.g=t,this.map=n}));function _i(e){this.l=e||Si,Ut.PerformanceNavigationTiming?e=0<(e=Ut.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(Ut.g&&Ut.g.Ka&&Ut.g.Ka()&&Ut.g.Ka().ec),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Si=10;function xi(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Ti(e){return e.h?1:e.g?e.g.size:0}function Ci(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Ii(e,t){e.g?e.g.add(t):e.h=t}function Ni(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Ai(e){if(null!=e.h)return e.i.concat(e.h.F);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=$(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.F)}}catch(a){r.e(a)}finally{r.f()}return n}return Xt(e.i)}_i.prototype.cancel=function(){if(this.i=Ai(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=$(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}};var Di,Li=function(){function e(){X(this,e)}return Z(e,[{key:"stringify",value:function(e){return Ut.JSON.stringify(e,void 0)}},{key:"parse",value:function(e){return Ut.JSON.parse(e,void 0)}}]),e}();function Oi(){this.g=new Li}function Ri(e,t,n){var r=n||"";try{Zr(e,(function(e,n){var i=e;zt(e)&&(i=Gn(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function Pi(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(Qp){}}function Mi(e){this.l=e.fc||null,this.j=e.ob||!1}function Fi(e,t){Kn.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=Vi,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Gt(Mi,Nr),Mi.prototype.g=function(){return new Fi(this.l,this.j)},Mi.prototype.i=(Di={},function(){return Di}),Gt(Fi,Kn);var Vi=0;function Ui(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}function ji(e){e.readyState=4,e.l=null,e.j=null,e.A=null,zi(e)}function zi(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(Pt=Fi.prototype).open=function(e,t){if(this.readyState!=Vi)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,zi(this)},Pt.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||Ut).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},Pt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((function(){})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,ji(this)),this.readyState=Vi},Pt.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,zi(this)),this.g&&(this.readyState=3,zi(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if("undefined"!==typeof Ut.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Ui(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))},Pt.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?ji(this):zi(this),3==this.readyState&&Ui(this)}},Pt.Za=function(e){this.g&&(this.response=this.responseText=e,ji(this))},Pt.Ya=function(e){this.g&&(this.response=e,ji(this))},Pt.ka=function(){this.g&&ji(this)},Pt.setRequestHeader=function(e,t){this.v.append(e,t)},Pt.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},Pt.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Fi.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Bi=Ut.JSON.parse;function qi(e){Kn.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Hi,this.L=this.M=!1}Gt(qi,Kn);var Hi="",Ki=/^https?$/i,Qi=["POST","PUT"];function Wi(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Gi(e),$i(e)}function Gi(e){e.F||(e.F=!0,Qn(e,"complete"),Qn(e,"error"))}function Yi(e){if(e.h&&"undefined"!=typeof Vt&&(!e.C[1]||4!=Ji(e)||2!=e.da()))if(e.v&&4==Ji(e))lr(e.La,0,e);else if(Qn(e,"readystatechange"),4==Ji(e)){e.h=!1;try{var t,n=e.da();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.I).match(ei)[1]||null;!a&&Ut.self&&Ut.self.location&&(a=Ut.self.location.protocol.slice(0,-1)),i=!Ki.test(a?a.toLowerCase():"")}t=i}if(t)Qn(e,"complete"),Qn(e,"success");else{e.m=6;try{var o=2<Ji(e)?e.g.statusText:""}catch(u){o=""}e.j=o+" ["+e.da()+"]",Gi(e)}}finally{$i(e)}}}function $i(e,t){if(e.g){Xi(e);var n=e.g,r=e.C[0]?function(){}:null;e.g=null,e.C=null,t||Qn(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function Xi(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(Ut.clearTimeout(e.A),e.A=null)}function Ji(e){return e.g?e.g.readyState:0}function Zi(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case Hi:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(oo){return null}}function ea(e){var t="";return Tn(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function ta(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=ea(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):oi(e,t,n))}function na(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function ra(e){this.Ga=0,this.j=[],this.l=new mr,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=na("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=na("baseRetryDelayMs",5e3,e),this.hb=na("retryDelaySeedMs",1e4,e),this.eb=na("forwardChannelMaxRetries",2,e),this.xa=na("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.dc||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new _i(e&&e.concurrentRequestLimit),this.Ja=new Oi,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function ia(e){if(oa(e),3==e.H){var t=e.W++,n=ni(e.I);if(oi(n,"SID",e.K),oi(n,"RID",t),oi(n,"TYPE","terminate"),la(e,n),(t=new Fr(e,e.l,t)).L=2,t.v=ui(ni(n)),n=!1,Ut.navigator&&Ut.navigator.sendBeacon)try{n=Ut.navigator.sendBeacon(t.v.toString(),"")}catch(qp){}!n&&Ut.Image&&((new Image).src=t.v,n=!0),n||(t.g=wa(t.l,null),t.g.ha(t.v)),t.G=Date.now(),Wr(t)}ka(e)}function aa(e){e.g&&(da(e),e.g.cancel(),e.g=null)}function oa(e){aa(e),e.u&&(Ut.clearTimeout(e.u),e.u=null),va(e),e.i.cancel(),e.m&&("number"===typeof e.m&&Ut.clearTimeout(e.m),e.m=null)}function ua(e){if(!xi(e.i)&&!e.m){e.m=!0;var t=e.Na;nr||ar(),rr||(nr(),rr=!0),ir.add(t,e),e.C=0}}function sa(e,t){var n;n=t?t.m:e.W++;var r=ni(e.I);oi(r,"SID",e.K),oi(r,"RID",n),oi(r,"AID",e.V),la(e,r),e.o&&e.s&&ta(r,e.o,e.s),n=new Fr(e,e.l,n,e.C+1),null===e.o&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=ca(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),Ii(e.i,n),Br(n,r,t)}function la(e,t){e.na&&Tn(e.na,(function(e,n){oi(t,n,e)})),e.h&&Zr({},(function(e,n){oi(t,n,e)}))}function ca(e,t,n){n=Math.min(e.j.length,n);var r=e.h?Qt(e.h.Va,e.h,e):null;e:for(var i=e.j,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].g,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var u=!0,s=0;s<n;s++){var l=i[s].g,c=i[s].map;if(0>(l-=a))a=Math.max(0,i[s].g-100),u=!1;else try{Ri(c,o,"req"+l+"_")}catch(f){r&&r(c)}}if(u){r=o.join("&");break e}}return e=e.j.splice(0,n),t.F=e,r}function fa(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;nr||ar(),rr||(nr(),rr=!0),ir.add(t,e),e.A=0}}function ha(e){return!(e.g||e.u||3<=e.A)&&(e.ba++,e.u=Tr(Qt(e.Ma,e),ya(e,e.A)),e.A++,!0)}function da(e){null!=e.B&&(Ut.clearTimeout(e.B),e.B=null)}function pa(e){e.g=new Fr(e,e.l,"rpc",e.ba),null===e.o&&(e.g.I=e.s),e.g.O=0;var t=ni(e.wa);oi(t,"RID","rpc"),oi(t,"SID",e.K),oi(t,"AID",e.V),oi(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&oi(t,"TO",e.qa),oi(t,"TYPE","xmlhttp"),la(e,t),e.o&&e.s&&ta(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.v=ui(ni(t)),n.s=null,n.S=!0,qr(n,e)}function va(e){null!=e.v&&(Ut.clearTimeout(e.v),e.v=null)}function ma(e,t){var n=null;if(e.g==t){va(e),da(e),e.g=null;var r=2}else{if(!Ci(e.i,t))return;n=t.F,Ni(e.i,t),r=1}if(0!=e.H)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.G;var i=e.C;Qn(r=br(),new xr(r,n)),ua(e)}else fa(e);else if(3==(i=t.o)||0==i&&0<t.ca||!(1==r&&function(e,t){return!(Ti(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.j=t.F.concat(e.j),!0):!(1==e.H||2==e.H||e.C>=(e.cb?0:e.eb))&&(e.m=Tr(Qt(e.Na,e,t),ya(e,e.C)),e.C++,!0))}(e,t)||2==r&&ha(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:ga(e,5);break;case 4:ga(e,10);break;case 3:ga(e,6);break;default:ga(e,2)}}function ya(e,t){var n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function ga(e,t){if(e.l.info("Error code "+t),2==t){var n=null;e.h&&(n=null);var r=Qt(e.pb,e);n||(n=new ti("//www.google.com/images/cleardot.gif"),Ut.location&&"http"==Ut.location.protocol||ri(n,"https"),ui(n)),function(e,t){var n=new mr;if(Ut.Image){var r=new Image;r.onload=Wt(Pi,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Wt(Pi,n,r,"TestLoadImage: error",!1,t),r.onabort=Wt(Pi,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Wt(Pi,n,r,"TestLoadImage: timeout",!1,t),Ut.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else Sr(2);e.H=0,e.h&&e.h.za(t),ka(e),oa(e)}function ka(e){if(e.H=0,e.ma=[],e.h){var t=Ai(e.i);0==t.length&&0==e.j.length||(Jt(e.ma,t),Jt(e.ma,e.j),e.i.i.length=0,Xt(e.j),e.j.length=0),e.h.ya()}}function ba(e,t,n){var r=n instanceof ti?ni(n):new ti(n);if(""!=r.g)t&&(r.g=t+"."+r.g),ii(r,r.m);else{var i=Ut.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var a=new ti(null);r&&ri(a,r),t&&(a.g=t),i&&ii(a,i),n&&(a.l=n),r=a}return n=e.F,t=e.Da,n&&t&&oi(r,n,t),oi(r,"VER",e.ra),la(e,r),r}function wa(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ha&&!e.va?new qi(new Mi({ob:!0})):new qi(e.va)).Oa(e.J),t}function Ea(){}function _a(){if(ln&&!(10<=Number(kn)))throw Error("Environmental error: no available transport.")}function Sa(e,t){Kn.call(this),this.g=new ra(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!tn(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!tn(t)&&(this.g.F=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Ca(this)}function xa(e){Rr.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Ta(){Pr.call(this),this.status=1}function Ca(e){this.g=e}function Ia(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function Na(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var a=e.g[3],o=t+(a^n&(i^a))+r[0]+3614090360&4294967295;o=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=n+(o<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=t+(i^a&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=t+(n^i^a)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=t+(i^(n|~a))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~a))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~a))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((a=(t=n+((o=t+(i^(n|~a))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=a+((o=i+(t^(a|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+a&4294967295}function Aa(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var a=0|e[i];r&&a==t||(n[i]=a,r=!1)}this.g=n}(Pt=qi.prototype).Oa=function(e){this.M=e},Pt.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Lr.g(),this.C=this.u?Ar(this.u):Ar(Lr),this.g.onreadystatechange=Qt(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(u){return void Wi(this,u)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));var a,o=$(r.keys());try{for(o.s();!(a=o.n()).done;){var u=a.value;n.set(u,r.get(u))}}catch(p){o.e(p)}finally{o.f()}}r=Array.from(n.keys()).find((function(e){return"content-type"==e.toLowerCase()})),i=Ut.FormData&&e instanceof Ut.FormData,!(0<=$t(Qi,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");var s,l=$(n);try{for(l.s();!(s=l.n()).done;){var c=d(s.value,2),f=c[0],h=c[1];this.g.setRequestHeader(f,h)}}catch(p){l.e(p)}finally{l.f()}this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Xi(this),0<this.B&&((this.L=function(e){return ln&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Qt(this.ua,this)):this.A=lr(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(u){Wi(this,u)}},Pt.ua=function(){"undefined"!=typeof Vt&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Qn(this,"timeout"),this.abort(8))},Pt.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Qn(this,"complete"),Qn(this,"abort"),$i(this))},Pt.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),$i(this,!0)),qi.$.N.call(this)},Pt.La=function(){this.s||(this.G||this.v||this.l?Yi(this):this.kb())},Pt.kb=function(){Yi(this)},Pt.isActive=function(){return!!this.g},Pt.da=function(){try{return 2<Ji(this)?this.g.status:-1}catch(Di){return-1}},Pt.ja=function(){try{return this.g?this.g.responseText:""}catch(Di){return""}},Pt.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Bi(t)}},Pt.Ia=function(){return this.m},Pt.Sa=function(){return"string"===typeof this.j?this.j:String(this.j)},(Pt=ra.prototype).ra=8,Pt.H=1,Pt.Na=function(e){if(this.m)if(this.m=null,1==this.H){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;var t=new Fr(this,this.l,e),n=this.s;if(this.U&&(n?Nn(n=Cn(n),this.U):n=this.U),null!==this.o||this.O||(t.I=n,n=null),this.P)e:{for(var r=0,i=0;i<this.j.length;i++){var a=this.j[i];if(void 0===(a="__data__"in a.map&&"string"===typeof(a=a.map.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.j.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=ca(this,t,r),oi(i=ni(this.I),"RID",e),oi(i,"CVER",22),this.F&&oi(i,"X-HTTP-Session-Id",this.F),la(this,i),n&&(this.O?r="headers="+encodeURIComponent(String(ea(n)))+"&"+r:this.o&&ta(i,this.o,n)),Ii(this.i,t),this.bb&&oi(i,"TYPE","init"),this.P?(oi(i,"$req",r),oi(i,"SID","null"),t.aa=!0,Br(t,i,null)):Br(t,i,r),this.H=2}}else 3==this.H&&(e?sa(this,e):0==this.j.length||xi(this.i)||sa(this))},Pt.Ma=function(){if(this.u=null,pa(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=Tr(Qt(this.jb,this),e)}},Pt.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Sr(10),aa(this),pa(this))},Pt.ib=function(){null!=this.v&&(this.v=null,aa(this),ha(this),Sr(19))},Pt.pb=function(e){e?(this.l.info("Successfully pinged google.com"),Sr(2)):(this.l.info("Failed to ping google.com"),Sr(1))},Pt.isActive=function(){return!!this.h&&this.h.isActive(this)},(Pt=Ea.prototype).Ba=function(){},Pt.Aa=function(){},Pt.za=function(){},Pt.ya=function(){},Pt.isActive=function(){return!0},Pt.Va=function(){},_a.prototype.g=function(e,t){return new Sa(e,t)},Gt(Sa,Kn),Sa.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;Sr(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=ba(e,null,e.Y),ua(e)},Sa.prototype.close=function(){ia(this.g)},Sa.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=Gn(e),e=n);t.j.push(new Ei(t.fb++,e)),3==t.H&&ua(t)},Sa.prototype.N=function(){this.g.h=null,delete this.j,ia(this.g),delete this.g,Sa.$.N.call(this)},Gt(xa,Rr),Gt(Ta,Pr),Gt(Ca,Ea),Ca.prototype.Ba=function(){Qn(this.g,"a")},Ca.prototype.Aa=function(e){Qn(this.g,new xa(e))},Ca.prototype.za=function(e){Qn(this.g,new Ta)},Ca.prototype.ya=function(){Qn(this.g,"b")},Gt(Ia,(function(){this.blockSize=-1})),Ia.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Ia.prototype.j=function(e,t){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,a=0;a<t;){if(0==i)for(;a<=n;)Na(this,e,a),a+=this.blockSize;if("string"===typeof e){for(;a<t;)if(r[i++]=e.charCodeAt(a++),i==this.blockSize){Na(this,r),i=0;break}}else for(;a<t;)if(r[i++]=e[a++],i==this.blockSize){Na(this,r),i=0;break}}this.h=i,this.i+=t},Ia.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var Da={};function La(e){return-128<=e&&128>e?function(e,t){var n=Da;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new Aa([0|e],0>e?-1:0)})):new Aa([0|e],0>e?-1:0)}function Oa(e){if(isNaN(e)||!isFinite(e))return Pa;if(0>e)return ja(Oa(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=Ra;return new Aa(t,0)}var Ra=4294967296,Pa=La(0),Ma=La(1),Fa=La(16777216);function Va(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function Ua(e){return-1==e.h}function ja(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new Aa(n,~e.h).add(Ma)}function za(e,t){return e.add(ja(t))}function Ba(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function qa(e,t){this.g=e,this.h=t}function Ha(e,t){if(Va(t))throw Error("division by zero");if(Va(e))return new qa(Pa,Pa);if(Ua(e))return t=Ha(ja(e),t),new qa(ja(t.g),ja(t.h));if(Ua(t))return t=Ha(e,ja(t)),new qa(ja(t.g),t.h);if(30<e.g.length){if(Ua(e)||Ua(t))throw Error("slowDivide_ only works with positive integers.");for(var n=Ma,r=t;0>=r.X(e);)n=Ka(n),r=Ka(r);var i=Qa(n,1),a=Qa(r,1);for(r=Qa(r,2),n=Qa(n,2);!Va(r);){var o=a.add(r);0>=o.X(e)&&(i=i.add(n),a=o),r=Qa(r,1),n=Qa(n,1)}return t=za(e,i.R(t)),new qa(i,t)}for(i=Pa;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),o=(a=Oa(n)).R(t);Ua(o)||0<o.X(e);)o=(a=Oa(n-=r)).R(t);Va(a)&&(a=Ma),i=i.add(a),e=za(e,o)}return new qa(i,e)}function Ka(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new Aa(n,e.h)}function Qa(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],a=0;a<r;a++)i[a]=0<t?e.D(a+n)>>>t|e.D(a+n+1)<<32-t:e.D(a+n);return new Aa(i,e.h)}(Pt=Aa.prototype).ea=function(){if(Ua(this))return-ja(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:Ra+r)*t,t*=Ra}return e},Pt.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(Va(this))return"0";if(Ua(this))return"-"+ja(this).toString(e);for(var t=Oa(Math.pow(e,6)),n=this,r="";;){var i=Ha(n,t).g,a=((0<(n=za(n,i.R(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(Va(n=i))return a+r;for(;6>a.length;)a="0"+a;r=a+r}},Pt.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},Pt.X=function(e){return Ua(e=za(this,e))?-1:Va(e)?0:1},Pt.abs=function(){return Ua(this)?ja(this):this},Pt.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var a=r+(65535&this.D(i))+(65535&e.D(i)),o=(a>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=o>>>16,a&=65535,o&=65535,n[i]=o<<16|a}return new Aa(n,-2147483648&n[n.length-1]?-1:0)},Pt.R=function(e){if(Va(this)||Va(e))return Pa;if(Ua(this))return Ua(e)?ja(this).R(ja(e)):ja(ja(this).R(e));if(Ua(e))return ja(this.R(ja(e)));if(0>this.X(Fa)&&0>e.X(Fa))return Oa(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var a=this.D(r)>>>16,o=65535&this.D(r),u=e.D(i)>>>16,s=65535&e.D(i);n[2*r+2*i]+=o*s,Ba(n,2*r+2*i),n[2*r+2*i+1]+=a*s,Ba(n,2*r+2*i+1),n[2*r+2*i+1]+=o*u,Ba(n,2*r+2*i+1),n[2*r+2*i+2]+=a*u,Ba(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new Aa(n,0)},Pt.gb=function(e){return Ha(this,e).h},Pt.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new Aa(n,this.h&e.h)},Pt.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new Aa(n,this.h|e.h)},Pt.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new Aa(n,this.h^e.h)},_a.prototype.createWebChannel=_a.prototype.g,Sa.prototype.send=Sa.prototype.u,Sa.prototype.open=Sa.prototype.m,Sa.prototype.close=Sa.prototype.close,Cr.NO_ERROR=0,Cr.TIMEOUT=8,Cr.HTTP_ERROR=6,Ir.COMPLETE="complete",Dr.EventType=Or,Or.OPEN="a",Or.CLOSE="b",Or.ERROR="c",Or.MESSAGE="d",Kn.prototype.listen=Kn.prototype.O,qi.prototype.listenOnce=qi.prototype.P,qi.prototype.getLastError=qi.prototype.Sa,qi.prototype.getLastErrorCode=qi.prototype.Ia,qi.prototype.getStatus=qi.prototype.da,qi.prototype.getResponseJson=qi.prototype.Wa,qi.prototype.getResponseText=qi.prototype.ja,qi.prototype.send=qi.prototype.ha,qi.prototype.setWithCredentials=qi.prototype.Oa,Ia.prototype.digest=Ia.prototype.l,Ia.prototype.reset=Ia.prototype.reset,Ia.prototype.update=Ia.prototype.j,Aa.prototype.add=Aa.prototype.add,Aa.prototype.multiply=Aa.prototype.R,Aa.prototype.modulo=Aa.prototype.gb,Aa.prototype.compare=Aa.prototype.X,Aa.prototype.toNumber=Aa.prototype.ea,Aa.prototype.toString=Aa.prototype.toString,Aa.prototype.getBits=Aa.prototype.D,Aa.fromNumber=Oa,Aa.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return ja(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=Oa(Math.pow(n,8)),i=Pa,a=0;a<t.length;a+=8){var o=Math.min(8,t.length-a),u=parseInt(t.substring(a,a+o),n);8>o?(o=Oa(Math.pow(n,o)),i=i.R(o).add(Oa(u))):i=(i=i.R(r)).add(Oa(u))}return i};var Wa=Ft.createWebChannelTransport=function(){return new _a},Ga=Ft.getStatEventTarget=function(){return br()},Ya=Ft.ErrorCode=Cr,$a=Ft.EventType=Ir,Xa=Ft.Event=gr,Ja=Ft.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Za=(Ft.FetchXmlHttpFactory=Mi,Ft.WebChannel=Dr),eo=Ft.XhrIo=qi,to=Ft.Md5=Ia,no=Ft.Integer=Aa,ro="@firebase/firestore",io=function(){function e(t){X(this,e),this.uid=t}return Z(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();io.UNAUTHENTICATED=new io(null),io.GOOGLE_CREDENTIALS=new io("google-credentials-uid"),io.FIRST_PARTY=new io("first-party-uid"),io.MOCK_USER=new io("mock-user");var ao="10.3.0",oo=new Me("@firebase/firestore");function uo(){return oo.logLevel}function so(e){if(oo.logLevel<=Ne.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(fo);oo.debug.apply(oo,["Firestore (".concat(ao,"): ").concat(e)].concat(p(i)))}}function lo(e){if(oo.logLevel<=Ne.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(fo);oo.error.apply(oo,["Firestore (".concat(ao,"): ").concat(e)].concat(p(i)))}}function co(e){if(oo.logLevel<=Ne.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(fo);oo.warn.apply(oo,["Firestore (".concat(ao,"): ").concat(e)].concat(p(i)))}}function fo(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function ho(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(ao,") INTERNAL ASSERTION FAILED: ")+e;throw lo(t),new Error(t)}function po(e,t){e||ho()}function vo(e,t){return e}var mo={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},yo=function(e){ne(n,e);var t=ae(n);function n(e,r){var i;return X(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return Z(n)}(ke),go=Z((function e(){var t=this;X(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),ko=Z((function e(t,n){X(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),bo=function(){function e(){X(this,e)}return Z(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(io.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),wo=function(){function e(t){X(this,e),this.token=t,this.changeListener=null}return Z(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),Eo=function(){function e(t){X(this,e),this.t=t,this.currentUser=io.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return Z(e,[{key:"start",value:function(e,t){var n=this,r=this.i,a=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},o=new go;this.o=function(){n.i++,n.currentUser=n.u(),o.resolve(),o=new go,e.enqueueRetryable((function(){return a(n.currentUser)}))};var u=function(){var t=o;e.enqueueRetryable(c(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,a(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},s=function(e){so("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),u()};this.t.onInit((function(e){return s(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?s(e):(so("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new go)}}),0),u()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(so("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(po("string"==typeof n.accessToken),new ko(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return po(null===e||"string"==typeof e),new io(e)}}]),e}(),_o=function(){function e(t,n,r){X(this,e),this.l=t,this.h=n,this.P=r,this.type="FirstParty",this.user=io.FIRST_PARTY,this.I=new Map}return Z(e,[{key:"T",value:function(){return this.P?this.P():null}},{key:"headers",get:function(){this.I.set("X-Goog-AuthUser",this.l);var e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}]),e}(),So=function(){function e(t,n,r){X(this,e),this.l=t,this.h=n,this.P=r}return Z(e,[{key:"getToken",value:function(){return Promise.resolve(new _o(this.l,this.h,this.P))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(io.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),xo=Z((function e(t){X(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),To=function(){function e(t){X(this,e),this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}return Z(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&so("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.R;return n.R=e.token,so("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){so("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.A.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.A.getImmediate({optional:!0});e?i(e):so("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(po("string"==typeof t.token),e.R=t.token,new xo(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}();function Co(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var Io=function(){function e(){X(this,e)}return Z(e,null,[{key:"V",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62),n="";n.length<20;)for(var r=Co(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62));return n}}]),e}();function No(e,t){return e<t?-1:e>t?1:0}function Ao(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}var Do=function(){function e(t,n){if(X(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new yo(mo.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new yo(mo.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new yo(mo.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new yo(mo.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return Z(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?No(this.nanoseconds,e.nanoseconds):No(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),Lo=function(){function e(t){X(this,e),this.timestamp=t}return Z(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new Do(0,0))}},{key:"max",value:function(){return new e(new Do(253402300799,999999999))}}]),e}(),Oo=function(){function e(t,n,r){X(this,e),void 0===n?n=0:n>t.length&&ho(),void 0===r?r=t.length-n:r>t.length-n&&ho(),this.segments=t,this.offset=n,this.len=r}return Z(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),Ro=function(e){ne(n,e);var t=ae(n);function n(){return X(this,n),t.apply(this,arguments)}return Z(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var u=o[a];if(u.indexOf("//")>=0)throw new yo(mo.INVALID_ARGUMENT,"Invalid segment (".concat(u,"). Paths must not contain // in them."));e.push.apply(e,p(u.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Oo),Po=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Mo=function(e){ne(n,e);var t=ae(n);function n(){return X(this,n),t.apply(this,arguments)}return Z(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return Po.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new yo(mo.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var u=e[i];if("\\"===u){if(i+1===e.length)throw new yo(mo.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var s=e[i+1];if("\\"!==s&&"."!==s&&"`"!==s)throw new yo(mo.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=s,i+=2}else"`"===u?(o=!o,i++):"."!==u||o?(r+=u,i++):(a(),i++)}if(a(),o)throw new yo(mo.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Oo),Fo=function(){function e(t){X(this,e),this.path=t}return Z(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===Ro.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(Ro.fromString(t))}},{key:"fromName",value:function(t){return new e(Ro.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(Ro.emptyPath())}},{key:"comparator",value:function(e,t){return Ro.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new Ro(t.slice()))}}]),e}(),Vo=Z((function e(t,n,r,i){X(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));Vo.UNKNOWN_ID=-1;function Uo(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Lo.fromTimestamp(1e9===r?new Do(n+1,0):new Do(n,r));return new zo(i,Fo.empty(),t)}function jo(e){return new zo(e.readTime,e.key,-1)}var zo=function(){function e(t,n,r){X(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return Z(e,null,[{key:"min",value:function(){return new e(Lo.min(),Fo.empty(),-1)}},{key:"max",value:function(){return new e(Lo.max(),Fo.empty(),-1)}}]),e}();function Bo(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=Fo.comparator(e.documentKey,t.documentKey))?n:No(e.largestBatchId,t.largestBatchId)}var qo="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Ho=function(){function e(){X(this,e),this.onCommittedListeners=[]}return Z(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}();function Ko(e){return Qo.apply(this,arguments)}function Qo(){return(Qo=c(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===mo.FAILED_PRECONDITION&&t.message===qo){e.next=2;break}throw t;case 2:so("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Wo=function(){function e(t){var n=this;X(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return Z(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&ho(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=$(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}},{key:"mapArray",value:function(t,n){return new e((function(e,r){for(var i=t.length,a=new Array(i),o=0,u=function(){var u=s;n(t[u]).next((function(t){a[u]=t,++o===i&&e(a)}),(function(e){return r(e)}))},s=0;s<i;s++)u()}))}},{key:"doWhile",value:function(t,n){return new e((function(e,r){!function i(){!0===t()?n().next((function(){i()}),r):e()}()}))}}]),e}();function Go(e){return"IndexedDbTransactionError"===e.name}var Yo=function(){function e(t,n){var r=this;X(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.oe(e)},this._e=function(e){return n.writeSequenceNumber(e)})}return Z(e,[{key:"oe",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this._e&&this._e(e),e}}]),e}();function $o(e){return null==e}function Xo(e){return 0===e&&1/e==-1/0}function Jo(e){return"number"==typeof e&&Number.isInteger(e)&&!Xo(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}Yo.ae=-1;var Zo=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),eu=([].concat(p(Zo),["documentOverlays"]),["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"]),tu=eu;[].concat(tu,["indexConfiguration","indexState","indexEntries"]);function nu(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function ru(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function iu(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var au=function(){function e(t,n){X(this,e),this.comparator=t,this.root=n||uu.EMPTY}return Z(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,uu.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,uu.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new ou(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new ou(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new ou(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new ou(this.root,e,this.comparator,!0)}}]),e}(),ou=function(){function e(t,n,r,i){X(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return Z(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),uu=function(){function e(t,n,r,i,a){X(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return Z(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw ho();if(this.right.isRed())throw ho();var e=this.left.check();if(e!==this.right.check())throw ho();return e+(this.isRed()?0:1)}}]),e}();uu.EMPTY=null,uu.RED=!0,uu.BLACK=!1,uu.EMPTY=new(function(){function e(){X(this,e),this.size=0}return Z(e,[{key:"key",get:function(){throw ho()}},{key:"value",get:function(){throw ho()}},{key:"color",get:function(){throw ho()}},{key:"left",get:function(){throw ho()}},{key:"right",get:function(){throw ho()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new uu(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var su=function(){function e(t){X(this,e),this.comparator=t,this.data=new au(this.comparator)}return Z(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new lu(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new lu(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),lu=function(){function e(t){X(this,e),this.iter=t}return Z(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();var cu=function(){function e(t){X(this,e),this.fields=t,t.sort(Mo.comparator)}return Z(e,[{key:"unionWith",value:function(t){var n,r=new su(Mo.comparator),i=$(this.fields);try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r.add(a)}}catch(l){i.e(l)}finally{i.f()}var o,u=$(t);try{for(u.s();!(o=u.n()).done;){var s=o.value;r=r.add(s)}}catch(l){u.e(l)}finally{u.f()}return new e(r.toArray())}},{key:"covers",value:function(e){var t,n=$(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return Ao(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}],[{key:"empty",value:function(){return new e([])}}]),e}(),fu=function(e){ne(n,e);var t=ae(n);function n(){var e;return X(this,n),(e=t.apply(this,arguments)).name="Base64DecodeError",e}return Z(n)}(ue(Error));var hu=function(e){function t(e){X(this,t),this.binaryString=e}return Z(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return No(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){var n=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new fu("Invalid base64 string: "+e):e}}(e);return new t(n)}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();hu.EMPTY_BYTE_STRING=new hu("");var du=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function pu(e){if(po(!!e),"string"==typeof e){var t=0,n=du.exec(e);if(po(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:vu(e.seconds),nanos:vu(e.nanos)}}function vu(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function mu(e){return"string"==typeof e?hu.fromBase64String(e):hu.fromUint8Array(e)}function yu(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function gu(e){var t=e.mapValue.fields.__previous_value__;return yu(t)?gu(t):t}function ku(e){var t=pu(e.mapValue.fields.__local_write_time__.timestampValue);return new Do(t.seconds,t.nanos)}var bu=Z((function e(t,n,r,i,a,o,u,s,l){X(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.longPollingOptions=s,this.useFetchStreams=l})),wu=function(){function e(t,n){X(this,e),this.projectId=t,this.database=n||"(default)"}return Z(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}(),Eu={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function _u(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?yu(e)?4:Mu(e)?9007199254740991:10:ho()}function Su(e,t){if(e===t)return!0;var n=_u(e);if(n!==_u(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return ku(e).isEqual(ku(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=pu(e.timestampValue),r=pu(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return mu(e.bytesValue).isEqual(mu(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return vu(e.geoPointValue.latitude)===vu(t.geoPointValue.latitude)&&vu(e.geoPointValue.longitude)===vu(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return vu(e.integerValue)===vu(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=vu(e.doubleValue),r=vu(t.doubleValue);return n===r?Xo(n)===Xo(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Ao(e.arrayValue.values||[],t.arrayValue.values||[],Su);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(nu(n)!==nu(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Su(n[i],r[i])))return!1;return!0}(e,t);default:return ho()}}function xu(e,t){return void 0!==(e.values||[]).find((function(e){return Su(e,t)}))}function Tu(e,t){if(e===t)return 0;var n=_u(e),r=_u(t);if(n!==r)return No(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return No(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=vu(e.integerValue||e.doubleValue),r=vu(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Cu(e.timestampValue,t.timestampValue);case 4:return Cu(ku(e),ku(t));case 5:return No(e.stringValue,t.stringValue);case 6:return function(e,t){var n=mu(e),r=mu(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=No(n[i],r[i]);if(0!==a)return a}return No(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=No(vu(e.latitude),vu(t.latitude));return 0!==n?n:No(vu(e.longitude),vu(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=Tu(n[i],r[i]);if(a)return a}return No(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===Eu.mapValue&&t===Eu.mapValue)return 0;if(e===Eu.mapValue)return 1;if(t===Eu.mapValue)return-1;var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var u=No(r[o],a[o]);if(0!==u)return u;var s=Tu(n[r[o]],i[a[o]]);if(0!==s)return s}return No(r.length,a.length)}(e.mapValue,t.mapValue);default:throw ho()}}function Cu(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return No(e,t);var n=pu(e),r=pu(t),i=No(n.seconds,r.seconds);return 0!==i?i:No(n.nanos,r.nanos)}function Iu(e){return Nu(e)}function Nu(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=pu(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return mu(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return Fo.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return"geo(".concat(e.latitude,",").concat(e.longitude,")")}(e.geoPointValue):"arrayValue"in e?function(e){var t,n="[",r=!0,i=$(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=Nu(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=$(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(Nu(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):ho()}function Au(e){return!!e&&"integerValue"in e}function Du(e){return!!e&&"arrayValue"in e}function Lu(e){return!!e&&"nullValue"in e}function Ou(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Ru(e){return!!e&&"mapValue"in e}function Pu(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return ru(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=Pu(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Pu(e.arrayValue.values[r]);return n}return Object.assign({},e)}function Mu(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}var Fu=function(){function e(t){X(this,e),this.value=t}return Z(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!Ru(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Pu(t)}},{key:"setAll",value:function(e){var t=this,n=Mo.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=Pu(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());Ru(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return Su(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];Ru(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){ru(t,(function(t,n){return e[t]=n}));var r,i=$(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(Pu(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function Vu(e){var t=[];return ru(e.fields,(function(e,n){var r=new Mo([e]);if(Ru(n)){var i=Vu(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=$(i);try{for(o.s();!(a=o.n()).done;){var u=a.value;t.push(r.child(u))}}catch(s){o.e(s)}finally{o.f()}}}else t.push(r)})),new cu(t)}var Uu=function(){function e(t,n,r,i,a,o,u){X(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=o,this.documentState=u}return Z(e,[{key:"convertToFoundDocument",value:function(e,t){return!this.createTime.isEqual(Lo.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=Fu.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=Fu.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this.version=Lo.min(),this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,Lo.min(),Lo.min(),Lo.min(),Fu.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r,i){return new e(t,1,n,Lo.min(),r,i,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,Lo.min(),Lo.min(),Fu.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,Lo.min(),Lo.min(),Fu.empty(),2)}}]),e}(),ju=Z((function e(t,n){X(this,e),this.position=t,this.inclusive=n}));function zu(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?Fo.comparator(Fo.fromName(o.referenceValue),n.key):Tu(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function Bu(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!Su(e.position[n],t.position[n]))return!1;return!0}var qu=Z((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";X(this,e),this.field=t,this.dir=n}));function Hu(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}var Ku=Z((function e(){X(this,e)})),Qu=function(e){ne(n,e);var t=ae(n);function n(e,r,i){var a;return X(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return Z(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Tu(t,this.value)):null!==t&&_u(this.value)===_u(t)&&this.matchesComparison(Tu(t,this.value))}},{key:"matchesComparison",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return ho()}}},{key:"isInequality",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}},{key:"getFlattenedFilters",value:function(){return[this]}},{key:"getFilters",value:function(){return[this]}},{key:"getFirstInequalityField",value:function(){return this.isInequality()?this.field:null}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new es(e,t,r):"array-contains"===t?new is(e,r):"in"===t?new as(e,r):"not-in"===t?new os(e,r):"array-contains-any"===t?new us(e,r):new n(e,t,r)}},{key:"createKeyFieldInFilter",value:function(e,t,n){return"in"===t?new ts(e,n):new ns(e,n)}}]),n}(Ku),Wu=function(e){ne(n,e);var t=ae(n);function n(e,r){var i;return X(this,n),(i=t.call(this)).filters=e,i.op=r,i.ce=null,i}return Z(n,[{key:"matches",value:function(e){return Gu(this)?void 0===this.filters.find((function(t){return!t.matches(e)})):void 0!==this.filters.find((function(t){return t.matches(e)}))}},{key:"getFlattenedFilters",value:function(){return null!==this.ce||(this.ce=this.filters.reduce((function(e,t){return e.concat(t.getFlattenedFilters())}),[])),this.ce}},{key:"getFilters",value:function(){return Object.assign([],this.filters)}},{key:"getFirstInequalityField",value:function(){var e=this.le((function(e){return e.isInequality()}));return null!==e?e.field:null}},{key:"le",value:function(e){var t,n=$(this.getFlattenedFilters());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(e(r))return r}}catch(i){n.e(i)}finally{n.f()}return null}}],[{key:"create",value:function(e,t){return new n(e,t)}}]),n}(Ku);function Gu(e){return"and"===e.op}function Yu(e){return $u(e)&&Gu(e)}function $u(e){var t,n=$(e.filters);try{for(n.s();!(t=n.n()).done;){if(t.value instanceof Wu)return!1}}catch(r){n.e(r)}finally{n.f()}return!0}function Xu(e){if(e instanceof Qu)return e.field.canonicalString()+e.op.toString()+Iu(e.value);if(Yu(e))return e.filters.map((function(e){return Xu(e)})).join(",");var t=e.filters.map((function(e){return Xu(e)})).join(",");return"".concat(e.op,"(").concat(t,")")}function Ju(e,t){return e instanceof Qu?function(e,t){return t instanceof Qu&&e.op===t.op&&e.field.isEqual(t.field)&&Su(e.value,t.value)}(e,t):e instanceof Wu?function(e,t){return t instanceof Wu&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((function(e,n,r){return e&&Ju(n,t.filters[r])}),!0)}(e,t):void ho()}function Zu(e){return e instanceof Qu?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(Iu(e.value))}(e):e instanceof Wu?function(e){return e.op.toString()+" {"+e.getFilters().map(Zu).join(" ,")+"}"}(e):"Filter"}var es=function(e){ne(n,e);var t=ae(n);function n(e,r,i){var a;return X(this,n),(a=t.call(this,e,r,i)).key=Fo.fromName(i.referenceValue),a}return Z(n,[{key:"matches",value:function(e){var t=Fo.comparator(e.key,this.key);return this.matchesComparison(t)}}]),n}(Qu),ts=function(e){ne(n,e);var t=ae(n);function n(e,r){var i;return X(this,n),(i=t.call(this,e,"in",r)).keys=rs("in",r),i}return Z(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Qu),ns=function(e){ne(n,e);var t=ae(n);function n(e,r){var i;return X(this,n),(i=t.call(this,e,"not-in",r)).keys=rs("not-in",r),i}return Z(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Qu);function rs(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return Fo.fromName(e.referenceValue)}))}var is=function(e){ne(n,e);var t=ae(n);function n(e,r){return X(this,n),t.call(this,e,"array-contains",r)}return Z(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return Du(t)&&xu(t.arrayValue,this.value)}}]),n}(Qu),as=function(e){ne(n,e);var t=ae(n);function n(e,r){return X(this,n),t.call(this,e,"in",r)}return Z(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&xu(this.value.arrayValue,t)}}]),n}(Qu),os=function(e){ne(n,e);var t=ae(n);function n(e,r){return X(this,n),t.call(this,e,"not-in",r)}return Z(n,[{key:"matches",value:function(e){if(xu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!xu(this.value.arrayValue,t)}}]),n}(Qu),us=function(e){ne(n,e);var t=ae(n);function n(e,r){return X(this,n),t.call(this,e,"array-contains-any",r)}return Z(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!Du(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return xu(t.value.arrayValue,e)}))}}]),n}(Qu),ss=Z((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;X(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=u,this.he=null}));function ls(e){return new ss(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function cs(e){var t=vo(e);if(null===t.he){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return Xu(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),$o(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return Iu(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return Iu(e)})).join(",")),t.he=n}return t.he}function fs(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!Hu(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(!Ju(e.filters[r],t.filters[r]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Bu(e.startAt,t.startAt)&&Bu(e.endAt,t.endAt)}function hs(e){return Fo.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}var ds=Z((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;X(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=u,this.endAt=s,this.Pe=null,this.Ie=null,this.Te=null,this.startAt,this.endAt}));function ps(e,t,n,r,i,a,o,u){return new ds(e,t,n,r,i,a,o,u)}function vs(e){return new ds(e)}function ms(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function ys(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function gs(e){var t,n=$(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value.getFirstInequalityField();if(null!==r)return r}}catch(i){n.e(i)}finally{n.f()}return null}function ks(e){return null!==e.collectionGroup}function bs(e){var t=vo(e);if(null===t.Pe){t.Pe=[];var n=gs(t),r=ys(t);if(null!==n&&null===r)n.isKeyField()||t.Pe.push(new qu(n)),t.Pe.push(new qu(Mo.keyField(),"asc"));else{var i,a=!1,o=$(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var u=i.value;t.Pe.push(u),u.field.isKeyField()&&(a=!0)}}catch(l){o.e(l)}finally{o.f()}if(!a){var s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.Pe.push(new qu(Mo.keyField(),s))}}}return t.Pe}function ws(e){var t=vo(e);return t.Ie||(t.Ie=Es(t,bs(e))),t.Ie}function Es(e,t){if("F"===e.limitType)return ls(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);t=t.map((function(e){var t="desc"===e.dir?"asc":"desc";return new qu(e.field,t)}));var n=e.endAt?new ju(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new ju(e.startAt.position,e.startAt.inclusive):null;return ls(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}function _s(e,t,n){return new ds(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Ss(e,t){return fs(ws(e),ws(t))&&e.limitType===t.limitType}function xs(e){return"".concat(cs(ws(e)),"|lt:").concat(e.limitType)}function Ts(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return Zu(e)})).join(", "),"]")),$o(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return Iu(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return Iu(e)})).join(",")),"Target(".concat(t,")")}(ws(e)),"; limitType=").concat(e.limitType,")")}function Cs(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Fo.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=$(bs(e));try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=$(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=zu(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,bs(e),t))&&!(e.endAt&&!function(e,t,n){var r=zu(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,bs(e),t))}(e,t)}function Is(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Ns(e){return function(t,n){var r,i=!1,a=$(bs(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,u=As(o,t,n);if(0!==u)return u;i=i||o.field.isKeyField()}}catch(s){a.e(s)}finally{a.f()}return 0}}function As(e,t,n){var r=e.field.isKeyField()?Fo.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Tu(r,i):ho()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return ho()}}var Ds=function(){function e(t,n){X(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return Z(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=$(n);try{for(i.s();!(r=i.n()).done;){var a=d(r.value,2),o=a[0],u=a[1];if(this.equalsFn(o,e))return u}}catch(s){i.e(s)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){ru(this.inner,(function(t,n){var r,i=$(n);try{for(i.s();!(r=i.n()).done;){var a=d(r.value,2),o=a[0],u=a[1];e(o,u)}}catch(s){i.e(s)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return iu(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),Ls=new au(Fo.comparator);function Os(){return Ls}var Rs=new au(Fo.comparator);function Ps(){for(var e=Rs,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.insert(o.key,o)}return e}function Ms(e){var t=Rs;return e.forEach((function(e,n){return t=t.insert(e,n.overlayedDocument)})),t}function Fs(){return Us()}function Vs(){return Us()}function Us(){return new Ds((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var js=new au(Fo.comparator),zs=new su(Fo.comparator);function Bs(){for(var e=zs,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var qs=new su(No);function Hs(){return qs}function Ks(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Xo(t)?"-0":t}}function Qs(e){return{integerValue:""+e}}function Ws(e,t){return Jo(t)?Qs(t):Ks(e,t)}var Gs=Z((function e(){X(this,e),this._=void 0}));function Ys(e,t,n){return e instanceof Js?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&yu(t)&&(t=gu(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Zs?el(e,t):e instanceof tl?nl(e,t):function(e,t){var n=Xs(e,t),r=il(n)+il(e.Ee);return Au(n)&&Au(e.Ee)?Qs(r):Ks(e.serializer,r)}(e,t)}function $s(e,t,n){return e instanceof Zs?el(e,t):e instanceof tl?nl(e,t):n}function Xs(e,t){return e instanceof rl?function(e){return Au(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}var Js=function(e){ne(n,e);var t=ae(n);function n(){return X(this,n),t.apply(this,arguments)}return Z(n)}(Gs),Zs=function(e){ne(n,e);var t=ae(n);function n(e){var r;return X(this,n),(r=t.call(this)).elements=e,r}return Z(n)}(Gs);function el(e,t){var n,r=al(t),i=$(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return Su(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var tl=function(e){ne(n,e);var t=ae(n);function n(e){var r;return X(this,n),(r=t.call(this)).elements=e,r}return Z(n)}(Gs);function nl(e,t){var n,r=al(t),i=$(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!Su(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var rl=function(e){ne(n,e);var t=ae(n);function n(e,r){var i;return X(this,n),(i=t.call(this)).serializer=e,i.Ee=r,i}return Z(n)}(Gs);function il(e){return vu(e.integerValue||e.doubleValue)}function al(e){return Du(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var ol=Z((function e(t,n){X(this,e),this.version=t,this.transformResults=n})),ul=function(){function e(t,n){X(this,e),this.updateTime=t,this.exists=n}return Z(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function sl(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var ll=Z((function e(){X(this,e)}));function cl(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new El(e.key,ul.none()):new vl(e.key,e.data,ul.none());var n,r=e.data,i=Fu.empty(),a=new su(Mo.comparator),o=$(t.fields);try{for(o.s();!(n=o.n()).done;){var u=n.value;if(!a.has(u)){var s=r.field(u);null===s&&u.length>1&&(u=u.popLast(),s=r.field(u)),null===s?i.delete(u):i.set(u,s),a=a.add(u)}}}catch(l){o.e(l)}finally{o.f()}return new ml(e.key,i,new cu(a.toArray()),ul.none())}function fl(e,t,n){e instanceof vl?function(e,t,n){var r=e.value.clone(),i=gl(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof ml?function(e,t,n){if(sl(e.precondition,t)){var r=gl(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(yl(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function hl(e,t,n,r){return e instanceof vl?function(e,t,n,r){if(!sl(e.precondition,t))return n;var i=e.value.clone(),a=kl(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof ml?function(e,t,n,r){if(!sl(e.precondition,t))return n;var i=kl(e.fieldTransforms,r,t),a=t.data;return a.setAll(yl(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((function(e){return e.field})))}(e,t,n,r):function(e,t,n){return sl(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function dl(e,t){var n,r=null,i=$(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),u=Xs(a.transform,o||null);null!=u&&(null===r&&(r=Fu.empty()),r.set(a.field,u))}}catch(s){i.e(s)}finally{i.f()}return r||null}function pl(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Ao(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Zs&&t instanceof Zs||e instanceof tl&&t instanceof tl?Ao(e.elements,t.elements,Su):e instanceof rl&&t instanceof rl?Su(e.Ee,t.Ee):e instanceof Js&&t instanceof Js}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}var vl=function(e){ne(n,e);var t=ae(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return X(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return Z(n,[{key:"getFieldMask",value:function(){return null}}]),n}(ll),ml=function(e){ne(n,e);var t=ae(n);function n(e,r,i,a){var o,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return X(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=u,o.type=1,o}return Z(n,[{key:"getFieldMask",value:function(){return this.fieldMask}}]),n}(ll);function yl(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function gl(e,t,n){var r=new Map;po(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,u=t.data.field(a.field);r.set(a.field,$s(o,u,n[i]))}return r}function kl(e,t,n){var r,i=new Map,a=$(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,u=o.transform,s=n.data.field(o.field);i.set(o.field,Ys(u,s,t))}}catch(l){a.e(l)}finally{a.f()}return i}var bl,wl,El=function(e){ne(n,e);var t=ae(n);function n(e,r){var i;return X(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return Z(n,[{key:"getFieldMask",value:function(){return null}}]),n}(ll),_l=function(e){ne(n,e);var t=ae(n);function n(e,r){var i;return X(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return Z(n,[{key:"getFieldMask",value:function(){return null}}]),n}(ll),Sl=function(){function e(t,n,r,i){X(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return Z(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&fl(i,e,n[r])}}},{key:"applyToLocalView",value:function(e,t){var n,r=$(this.baseMutations);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.key.isEqual(e.key)&&(t=hl(i,e,t,this.localWriteTime))}}catch(s){r.e(s)}finally{r.f()}var a,o=$(this.mutations);try{for(o.s();!(a=o.n()).done;){var u=a.value;u.key.isEqual(e.key)&&(t=hl(u,e,t,this.localWriteTime))}}catch(s){o.e(s)}finally{o.f()}return t}},{key:"applyToLocalDocumentSet",value:function(e,t){var n=this,r=Vs();return this.mutations.forEach((function(i){var a=e.get(i.key),o=a.overlayedDocument,u=n.applyToLocalView(o,a.mutatedFields),s=cl(o,u=t.has(i.key)?null:u);null!==s&&r.set(i.key,s),o.isValidDocument()||o.convertToNoDocument(Lo.min())})),r}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),Bs())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&Ao(this.mutations,e.mutations,(function(e,t){return pl(e,t)}))&&Ao(this.baseMutations,e.baseMutations,(function(e,t){return pl(e,t)}))}}]),e}(),xl=function(){function e(t,n,r,i){X(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return Z(e,null,[{key:"from",value:function(t,n,r){po(t.mutations.length===r.length);for(var i=js,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),Tl=function(){function e(t,n){X(this,e),this.largestBatchId=t,this.mutation=n}return Z(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),Cl=Z((function e(t,n){X(this,e),this.count=t,this.unchangedNames=n}));function Il(e){switch(e){default:return ho();case mo.CANCELLED:case mo.UNKNOWN:case mo.DEADLINE_EXCEEDED:case mo.RESOURCE_EXHAUSTED:case mo.INTERNAL:case mo.UNAVAILABLE:case mo.UNAUTHENTICATED:return!1;case mo.INVALID_ARGUMENT:case mo.NOT_FOUND:case mo.ALREADY_EXISTS:case mo.PERMISSION_DENIED:case mo.FAILED_PRECONDITION:case mo.ABORTED:case mo.OUT_OF_RANGE:case mo.UNIMPLEMENTED:case mo.DATA_LOSS:return!0}}function Nl(e){if(void 0===e)return lo("GRPC error has no .code"),mo.UNKNOWN;switch(e){case bl.OK:return mo.OK;case bl.CANCELLED:return mo.CANCELLED;case bl.UNKNOWN:return mo.UNKNOWN;case bl.DEADLINE_EXCEEDED:return mo.DEADLINE_EXCEEDED;case bl.RESOURCE_EXHAUSTED:return mo.RESOURCE_EXHAUSTED;case bl.INTERNAL:return mo.INTERNAL;case bl.UNAVAILABLE:return mo.UNAVAILABLE;case bl.UNAUTHENTICATED:return mo.UNAUTHENTICATED;case bl.INVALID_ARGUMENT:return mo.INVALID_ARGUMENT;case bl.NOT_FOUND:return mo.NOT_FOUND;case bl.ALREADY_EXISTS:return mo.ALREADY_EXISTS;case bl.PERMISSION_DENIED:return mo.PERMISSION_DENIED;case bl.FAILED_PRECONDITION:return mo.FAILED_PRECONDITION;case bl.ABORTED:return mo.ABORTED;case bl.OUT_OF_RANGE:return mo.OUT_OF_RANGE;case bl.UNIMPLEMENTED:return mo.UNIMPLEMENTED;case bl.DATA_LOSS:return mo.DATA_LOSS;default:return ho()}}(wl=bl||(bl={}))[wl.OK=0]="OK",wl[wl.CANCELLED=1]="CANCELLED",wl[wl.UNKNOWN=2]="UNKNOWN",wl[wl.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",wl[wl.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",wl[wl.NOT_FOUND=5]="NOT_FOUND",wl[wl.ALREADY_EXISTS=6]="ALREADY_EXISTS",wl[wl.PERMISSION_DENIED=7]="PERMISSION_DENIED",wl[wl.UNAUTHENTICATED=16]="UNAUTHENTICATED",wl[wl.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",wl[wl.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",wl[wl.ABORTED=10]="ABORTED",wl[wl.OUT_OF_RANGE=11]="OUT_OF_RANGE",wl[wl.UNIMPLEMENTED=12]="UNIMPLEMENTED",wl[wl.INTERNAL=13]="INTERNAL",wl[wl.UNAVAILABLE=14]="UNAVAILABLE",wl[wl.DATA_LOSS=15]="DATA_LOSS";var Al=null;function Dl(){return new TextEncoder}var Ll=new no([4294967295,4294967295],0);function Ol(e){var t=Dl().encode(e),n=new to;return n.update(t),new Uint8Array(n.digest())}function Rl(e){var t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),a=t.getUint32(12,!0);return[new no([n,r],0),new no([i,a],0)]}var Pl=function(){function e(t,n,r){if(X(this,e),this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ml("Invalid padding: ".concat(n));if(r<0)throw new Ml("Invalid hash count: ".concat(r));if(t.length>0&&0===this.hashCount)throw new Ml("Invalid hash count: ".concat(r));if(0===t.length&&0!==n)throw new Ml("Invalid padding when bitmap length is 0: ".concat(n));this.Ae=8*t.length-n,this.Re=no.fromNumber(this.Ae)}return Z(e,[{key:"Ve",value:function(e,t,n){var r=e.add(t.multiply(no.fromNumber(n)));return 1===r.compare(Ll)&&(r=new no([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Re).toNumber()}},{key:"me",value:function(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}},{key:"mightContain",value:function(e){if(0===this.Ae)return!1;for(var t=d(Rl(Ol(e)),2),n=t[0],r=t[1],i=0;i<this.hashCount;i++){var a=this.Ve(n,r,i);if(!this.me(a))return!1}return!0}},{key:"insert",value:function(e){if(0!==this.Ae)for(var t=d(Rl(Ol(e)),2),n=t[0],r=t[1],i=0;i<this.hashCount;i++){var a=this.Ve(n,r,i);this.fe(a)}}},{key:"fe",value:function(e){var t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}],[{key:"create",value:function(t,n,r){var i=t%8==0?0:8-t%8,a=new e(new Uint8Array(Math.ceil(t/8)),i,n);return r.forEach((function(e){return a.insert(e)})),a}}]),e}(),Ml=function(e){ne(n,e);var t=ae(n);function n(){var e;return X(this,n),(e=t.apply(this,arguments)).name="BloomFilterError",e}return Z(n)}(ue(Error)),Fl=function(){function e(t,n,r,i,a){X(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return Z(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n,r){var i=new Map;return i.set(t,Vl.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new e(Lo.min(),i,new au(No),Os(),Bs())}}]),e}(),Vl=function(){function e(t,n,r,i,a){X(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return Z(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n,r){return new e(r,n,Bs(),Bs(),Bs())}}]),e}(),Ul=Z((function e(t,n,r,i){X(this,e),this.ge=t,this.removedTargetIds=n,this.key=r,this.pe=i})),jl=Z((function e(t,n){X(this,e),this.targetId=t,this.ye=n})),zl=Z((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:hu.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;X(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),Bl=function(){function e(){X(this,e),this.we=0,this.Se=Kl(),this.be=hu.EMPTY_BYTE_STRING,this.De=!1,this.ve=!0}return Z(e,[{key:"current",get:function(){return this.De}},{key:"resumeToken",get:function(){return this.be}},{key:"Ce",get:function(){return 0!==this.we}},{key:"Fe",get:function(){return this.ve}},{key:"Me",value:function(e){e.approximateByteSize()>0&&(this.ve=!0,this.be=e)}},{key:"xe",value:function(){var e=Bs(),t=Bs(),n=Bs();return this.Se.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:ho()}})),new Vl(this.be,this.De,e,t,n)}},{key:"Oe",value:function(){this.ve=!1,this.Se=Kl()}},{key:"Ne",value:function(e,t){this.ve=!0,this.Se=this.Se.insert(e,t)}},{key:"Be",value:function(e){this.ve=!0,this.Se=this.Se.remove(e)}},{key:"Le",value:function(){this.we+=1}},{key:"ke",value:function(){this.we-=1}},{key:"qe",value:function(){this.ve=!0,this.De=!0}}]),e}(),ql=function(){function e(t){X(this,e),this.Qe=t,this.Ke=new Map,this.$e=Os(),this.Ue=Hl(),this.We=new au(No)}return Z(e,[{key:"Ge",value:function(e){var t,n=$(e.ge);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.pe&&e.pe.isFoundDocument()?this.ze(r,e.pe):this.je(r,e.key,e.pe)}}catch(u){n.e(u)}finally{n.f()}var i,a=$(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.je(o,e.key,e.pe)}}catch(u){a.e(u)}finally{a.f()}}},{key:"He",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.Je(n);switch(e.state){case 0:t.Ye(n)&&r.Me(e.resumeToken);break;case 1:r.ke(),r.Ce||r.Oe(),r.Me(e.resumeToken);break;case 2:r.ke(),r.Ce||t.removeTarget(n);break;case 3:t.Ye(n)&&(r.qe(),r.Me(e.resumeToken));break;case 4:t.Ye(n)&&(t.Ze(n),r.Me(e.resumeToken));break;default:ho()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.Ke.forEach((function(e,r){n.Ye(r)&&t(r)}))}},{key:"Xe",value:function(e){var t=e.targetId,n=e.ye.count,r=this.et(t);if(r){var i=r.target;if(hs(i))if(0===n){var a=new Fo(i.path);this.je(t,a,Uu.newNoDocument(a,Lo.min()))}else po(1===n);else{var o=this.tt(t);if(o!==n){var u=this.nt(e),s=u?this.rt(u,e,o):1;if(0!==s){this.Ze(t);var l=2===s?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.We=this.We.insert(t,l)}null==Al||Al.it(function(e,t,n,r,i){var a,o,u,s,l,c,f={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},h=t.unchangedNames;return h&&(f.bloomFilter={applied:0===i,hashCount:null!==(a=null==h?void 0:h.hashCount)&&void 0!==a?a:0,bitmapLength:null!==(s=null===(u=null===(o=null==h?void 0:h.bits)||void 0===o?void 0:o.bitmap)||void 0===u?void 0:u.length)&&void 0!==s?s:0,padding:null!==(c=null===(l=null==h?void 0:h.bits)||void 0===l?void 0:l.padding)&&void 0!==c?c:0,mightContain:function(e){var t;return null!==(t=null==r?void 0:r.mightContain(e))&&void 0!==t&&t}}),f}(o,e.ye,this.Qe.st(),u,s))}}}}},{key:"nt",value:function(e){var t=e.ye.unchangedNames;if(!t||!t.bits)return null;var n,r,i=t.bits,a=i.bitmap,o=void 0===a?"":a,u=i.padding,s=void 0===u?0:u,l=t.hashCount,c=void 0===l?0:l;try{n=mu(o).toUint8Array()}catch(e){if(e instanceof fu)return co("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{r=new Pl(n,s,c)}catch(e){return co(e instanceof Ml?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===r.Ae?null:r}},{key:"rt",value:function(e,t,n){return t.ye.count===n-this.ot(e,t.targetId)?0:2}},{key:"ot",value:function(e,t){var n=this,r=this.Qe.getRemoteKeysForTarget(t),i=0;return r.forEach((function(r){var a=n.Qe.st(),o="projects/".concat(a.projectId,"/databases/").concat(a.database,"/documents/").concat(r.path.canonicalString());e.mightContain(o)||(n.je(t,r,null),i++)})),i}},{key:"_t",value:function(e){var t=this,n=new Map;this.Ke.forEach((function(r,i){var a=t.et(i);if(a){if(r.current&&hs(a.target)){var o=new Fo(a.target.path);null!==t.$e.get(o)||t.ut(i,o)||t.je(i,o,Uu.newNoDocument(o,e))}r.Fe&&(n.set(i,r.xe()),r.Oe())}}));var r=Bs();this.Ue.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.et(e);return!n||"TargetPurposeLimboResolution"===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.$e.forEach((function(t,n){return n.setReadTime(e)}));var i=new Fl(e,n,this.We,this.$e,r);return this.$e=Os(),this.Ue=Hl(),this.We=new au(No),i}},{key:"ze",value:function(e,t){if(this.Ye(e)){var n=this.ut(e,t.key)?2:0;this.Je(e).Ne(t.key,n),this.$e=this.$e.insert(t.key,t),this.Ue=this.Ue.insert(t.key,this.ct(t.key).add(e))}}},{key:"je",value:function(e,t,n){if(this.Ye(e)){var r=this.Je(e);this.ut(e,t)?r.Ne(t,1):r.Be(t),this.Ue=this.Ue.insert(t,this.ct(t).delete(e)),n&&(this.$e=this.$e.insert(t,n))}}},{key:"removeTarget",value:function(e){this.Ke.delete(e)}},{key:"tt",value:function(e){var t=this.Je(e).xe();return this.Qe.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Le",value:function(e){this.Je(e).Le()}},{key:"Je",value:function(e){var t=this.Ke.get(e);return t||(t=new Bl,this.Ke.set(e,t)),t}},{key:"ct",value:function(e){var t=this.Ue.get(e);return t||(t=new su(No),this.Ue=this.Ue.insert(e,t)),t}},{key:"Ye",value:function(e){var t=null!==this.et(e);return t||so("WatchChangeAggregator","Detected inactive target",e),t}},{key:"et",value:function(e){var t=this.Ke.get(e);return t&&t.Ce?null:this.Qe.lt(e)}},{key:"Ze",value:function(e){var t=this;this.Ke.set(e,new Bl),this.Qe.getRemoteKeysForTarget(e).forEach((function(n){t.je(e,n,null)}))}},{key:"ut",value:function(e,t){return this.Qe.getRemoteKeysForTarget(e).has(t)}}]),e}();function Hl(){return new au(Fo.comparator)}function Kl(){return new au(Fo.comparator)}var Ql={asc:"ASCENDING",desc:"DESCENDING"},Wl={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Gl={and:"AND",or:"OR"},Yl=Z((function e(t,n){X(this,e),this.databaseId=t,this.useProto3Json=n}));function $l(e,t){return e.useProto3Json||$o(t)?t:{value:t}}function Xl(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function Jl(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function Zl(e,t){return Xl(e,t.toTimestamp())}function ec(e){return po(!!e),Lo.fromTimestamp(function(e){var t=pu(e);return new Do(t.seconds,t.nanos)}(e))}function tc(e,t){return function(e){return new Ro(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function nc(e){var t=Ro.fromString(e);return po(Ec(t)),t}function rc(e,t){return tc(e.databaseId,t.path)}function ic(e,t){var n=nc(t);if(n.get(1)!==e.databaseId.projectId)throw new yo(mo.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new yo(mo.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Fo(sc(n))}function ac(e,t){return tc(e.databaseId,t)}function oc(e){var t=nc(e);return 4===t.length?Ro.emptyPath():sc(t)}function uc(e){return new Ro(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function sc(e){return po(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function lc(e,t,n){return{name:rc(e,t),fields:n.value.mapValue.fields}}function cc(e,t){var n;if(t instanceof vl)n={update:lc(e,t.key,t.value)};else if(t instanceof El)n={delete:rc(e,t.key)};else if(t instanceof ml)n={update:lc(e,t.key,t.data),updateMask:wc(t.fieldMask)};else{if(!(t instanceof _l))return ho();n={verify:rc(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof Js)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Zs)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof tl)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof rl)return{fieldPath:t.field.canonicalString(),increment:n.Ee};throw ho()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Zl(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:ho()}(e,t.precondition)),n}function fc(e,t){return{documents:[ac(e,t.path)]}}function hc(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=ac(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=ac(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length)return bc(Wu.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:gc(e.field),direction:vc(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o=$l(e,t.limit);return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function dc(e){var t=oc(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){po(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=function(e){var t=pc(e);return t instanceof Wu&&Yu(t)?t.getFilters():[t]}(n.where));var u=[];n.orderBy&&(u=function(e){return e.map((function(e){return function(e){return new qu(kc(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)}))}(n.orderBy));var s=null;n.limit&&(s=function(e){var t;return $o(t="object"==typeof e?e.value:e)?null:t}(n.limit));var l=null;n.startAt&&(l=function(e){var t=!!e.before,n=e.values||[];return new ju(n,t)}(n.startAt));var c=null;return n.endAt&&(c=function(e){var t=!e.before,n=e.values||[];return new ju(n,t)}(n.endAt)),ps(t,i,u,o,s,"F",l,c)}function pc(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":var t=kc(e.unaryFilter.field);return Qu.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=kc(e.unaryFilter.field);return Qu.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=kc(e.unaryFilter.field);return Qu.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=kc(e.unaryFilter.field);return Qu.create(i,"!=",{nullValue:"NULL_VALUE"});default:return ho()}}(e):void 0!==e.fieldFilter?function(e){return Qu.create(kc(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ho()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return Wu.create(e.compositeFilter.filters.map((function(e){return pc(e)})),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return ho()}}(e.compositeFilter.op))}(e):ho()}function vc(e){return Ql[e]}function mc(e){return Wl[e]}function yc(e){return Gl[e]}function gc(e){return{fieldPath:e.canonicalString()}}function kc(e){return Mo.fromServerFormat(e.fieldPath)}function bc(e){return e instanceof Qu?function(e){if("=="===e.op){if(Ou(e.value))return{unaryFilter:{field:gc(e.field),op:"IS_NAN"}};if(Lu(e.value))return{unaryFilter:{field:gc(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Ou(e.value))return{unaryFilter:{field:gc(e.field),op:"IS_NOT_NAN"}};if(Lu(e.value))return{unaryFilter:{field:gc(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:gc(e.field),op:mc(e.op),value:e.value}}}(e):e instanceof Wu?function(e){var t=e.getFilters().map((function(e){return bc(e)}));return 1===t.length?t[0]:{compositeFilter:{op:yc(e.op),filters:t}}}(e):ho()}function wc(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function Ec(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}var _c=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Lo.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Lo.min(),u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:hu.EMPTY_BYTE_STRING,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;X(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u,this.expectedCount=s}return Z(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}},{key:"withExpectedCount",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}]),e}(),Sc=Z((function e(t){X(this,e),this.ht=t}));function xc(e){var t=dc({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?_s(t,t.limit,"L"):t}var Tc=function(){function e(){X(this,e)}return Z(e,[{key:"Tt",value:function(e,t){this.Et(e,t),t.dt()}},{key:"Et",value:function(e,t){if("nullValue"in e)this.At(t,5);else if("booleanValue"in e)this.At(t,10),t.Rt(e.booleanValue?1:0);else if("integerValue"in e)this.At(t,15),t.Rt(vu(e.integerValue));else if("doubleValue"in e){var n=vu(e.doubleValue);isNaN(n)?this.At(t,13):(this.At(t,15),Xo(n)?t.Rt(0):t.Rt(n))}else if("timestampValue"in e){var r=e.timestampValue;this.At(t,20),"string"==typeof r?t.Vt(r):(t.Vt("".concat(r.seconds||"")),t.Rt(r.nanos||0))}else if("stringValue"in e)this.ft(e.stringValue,t),this.gt(t);else if("bytesValue"in e)this.At(t,30),t.yt(mu(e.bytesValue)),this.gt(t);else if("referenceValue"in e)this.wt(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.At(t,45),t.Rt(i.latitude||0),t.Rt(i.longitude||0)}else"mapValue"in e?Mu(e)?this.At(t,Number.MAX_SAFE_INTEGER):(this.St(e.mapValue,t),this.gt(t)):"arrayValue"in e?(this.bt(e.arrayValue,t),this.gt(t)):ho()}},{key:"ft",value:function(e,t){this.At(t,25),this.Dt(e,t)}},{key:"Dt",value:function(e,t){t.Vt(e)}},{key:"St",value:function(e,t){var n=e.fields||{};this.At(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this.ft(a,t),this.Et(n[a],t)}}},{key:"bt",value:function(e,t){var n=e.values||[];this.At(t,50);var r,i=$(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.Et(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"wt",value:function(e,t){var n=this;this.At(t,37),Fo.fromName(e).path.forEach((function(e){n.At(t,60),n.Dt(e,t)}))}},{key:"At",value:function(e,t){e.Rt(t)}},{key:"gt",value:function(e){e.Rt(2)}}]),e}();Tc.vt=new Tc;var Cc=function(){function e(){X(this,e),this._n=new Ic}return Z(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this._n.add(t),Wo.resolve()}},{key:"getCollectionParents",value:function(e,t){return Wo.resolve(this._n.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return Wo.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return Wo.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return Wo.resolve(null)}},{key:"getIndexType",value:function(e,t){return Wo.resolve(0)}},{key:"getFieldIndexes",value:function(e,t){return Wo.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return Wo.resolve(null)}},{key:"getMinOffset",value:function(e,t){return Wo.resolve(zo.min())}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return Wo.resolve(zo.min())}},{key:"updateCollectionGroup",value:function(e,t,n){return Wo.resolve()}},{key:"updateIndexEntries",value:function(e,t){return Wo.resolve()}}]),e}(),Ic=function(){function e(){X(this,e),this.index={}}return Z(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new su(Ro.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new su(Ro.comparator)).toArray()}}]),e}();new Uint8Array(0);var Nc=function(){function e(t,n,r){X(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return Z(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();Nc.DEFAULT_COLLECTION_PERCENTILE=10,Nc.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Nc.DEFAULT=new Nc(41943040,Nc.DEFAULT_COLLECTION_PERCENTILE,Nc.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Nc.DISABLED=new Nc(-1,0,0);var Ac=function(){function e(t){X(this,e),this.On=t}return Z(e,[{key:"next",value:function(){return this.On+=2,this.On}}],[{key:"Nn",value:function(){return new e(0)}},{key:"Bn",value:function(){return new e(-1)}}]),e}();var Dc=function(){function e(){X(this,e),this.changes=new Ds((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return Z(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,Uu.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?Wo.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}();var Lc=Z((function e(t,n){X(this,e),this.overlayedDocument=t,this.mutatedFields=n})),Oc=function(){function e(t,n,r,i){X(this,e),this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}return Z(e,[{key:"getDocument",value:function(e,t){var n=this,r=null;return this.documentOverlayCache.getOverlay(e,t).next((function(i){return r=i,n.remoteDocumentCache.getEntry(e,t)})).next((function(e){return null!==r&&hl(r.mutation,e,cu.empty(),Do.now()),e}))}},{key:"getDocuments",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.getLocalViewOfDocuments(e,t,Bs()).next((function(){return t}))}))}},{key:"getLocalViewOfDocuments",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Bs(),i=Fs();return this.populateOverlays(e,i,t).next((function(){return n.computeViews(e,t,i,r).next((function(e){var t=Ps();return e.forEach((function(e,n){t=t.insert(e,n.overlayedDocument)})),t}))}))}},{key:"getOverlayedDocuments",value:function(e,t){var n=this,r=Fs();return this.populateOverlays(e,r,t).next((function(){return n.computeViews(e,t,r,Bs())}))}},{key:"populateOverlays",value:function(e,t,n){var r=[];return n.forEach((function(e){t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((function(e){e.forEach((function(e,n){t.set(e,n)}))}))}},{key:"computeViews",value:function(e,t,n,r){var i=Os(),a=Us(),o=Us();return t.forEach((function(e,t){var o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof ml)?i=i.insert(t.key,t):void 0!==o?(a.set(t.key,o.mutation.getFieldMask()),hl(o.mutation,t,o.mutation.getFieldMask(),Do.now())):a.set(t.key,cu.empty())})),this.recalculateAndSaveOverlays(e,i).next((function(e){return e.forEach((function(e,t){return a.set(e,t)})),t.forEach((function(e,t){var n;return o.set(e,new Lc(t,null!==(n=a.get(e))&&void 0!==n?n:null))})),o}))}},{key:"recalculateAndSaveOverlays",value:function(e,t){var n=this,r=Us(),i=new au((function(e,t){return e-t})),a=Bs();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){var n,a=$(e);try{var o=function(){var e=n.value;e.keys().forEach((function(n){var a=t.get(n);if(null!==a){var o=r.get(n)||cu.empty();o=e.applyToLocalView(a,o),r.set(n,o);var u=(i.get(e.batchId)||Bs()).add(n);i=i.insert(e.batchId,u)}}))};for(a.s();!(n=a.n()).done;)o()}catch(u){a.e(u)}finally{a.f()}})).next((function(){for(var o=[],u=i.getReverseIterator(),s=function(){var i=u.getNext(),s=i.key,l=i.value,c=Vs();l.forEach((function(e){if(!a.has(e)){var n=cl(t.get(e),r.get(e));null!==n&&c.set(e,n),a=a.add(e)}})),o.push(n.documentOverlayCache.saveOverlays(e,s,c))};u.hasNext();)s();return Wo.waitFor(o)})).next((function(){return r}))}},{key:"recalculateAndSaveOverlaysForDocumentKeys",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.recalculateAndSaveOverlays(e,t)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){return function(e){return Fo.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):ks(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}},{key:"getNextDocuments",value:function(e,t,n,r){var i=this;return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((function(a){var o=r-a.size>0?i.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-a.size):Wo.resolve(Fs()),u=-1,s=a;return o.next((function(t){return Wo.forEach(t,(function(t,n){return u<n.largestBatchId&&(u=n.largestBatchId),a.get(t)?Wo.resolve():i.remoteDocumentCache.getEntry(e,t).next((function(e){s=s.insert(t,e)}))})).next((function(){return i.populateOverlays(e,t,a)})).next((function(){return i.computeViews(e,s,t,Bs())})).next((function(e){return{batchId:u,changes:Ms(e)}}))}))}))}},{key:"getDocumentsMatchingDocumentQuery",value:function(e,t){return this.getDocument(e,new Fo(t)).next((function(e){var t=Ps();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"getDocumentsMatchingCollectionGroupQuery",value:function(e,t,n){var r=this,i=t.collectionGroup,a=Ps();return this.indexManager.getCollectionParents(e,i).next((function(o){return Wo.forEach(o,(function(o){var u=function(e,t){return new ds(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.getDocumentsMatchingCollectionQuery(e,u,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"getDocumentsMatchingCollectionQuery",value:function(e,t,n){var r,i=this;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((function(a){return r=a,i.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,r)})).next((function(e){r.forEach((function(t,n){var r=n.getKey();null===e.get(r)&&(e=e.insert(r,Uu.newInvalidDocument(r)))}));var n=Ps();return e.forEach((function(e,i){var a=r.get(e);void 0!==a&&hl(a.mutation,i,cu.empty(),Do.now()),Cs(t,i)&&(n=n.insert(e,i))})),n}))}}]),e}(),Rc=function(){function e(t){X(this,e),this.serializer=t,this.cr=new Map,this.lr=new Map}return Z(e,[{key:"getBundleMetadata",value:function(e,t){return Wo.resolve(this.cr.get(t))}},{key:"saveBundleMetadata",value:function(e,t){return this.cr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:ec(e.createTime)}}(t)),Wo.resolve()}},{key:"getNamedQuery",value:function(e,t){return Wo.resolve(this.lr.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.lr.set(t.name,function(e){return{name:e.name,query:xc(e.bundledQuery),readTime:ec(e.readTime)}}(t)),Wo.resolve()}}]),e}(),Pc=function(){function e(){X(this,e),this.overlays=new au(Fo.comparator),this.hr=new Map}return Z(e,[{key:"getOverlay",value:function(e,t){return Wo.resolve(this.overlays.get(t))}},{key:"getOverlays",value:function(e,t){var n=this,r=Fs();return Wo.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.It(e,t,i)})),Wo.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.hr.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.hr.delete(n)),Wo.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=Fs(),i=t.length+1,a=new Fo(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var u=o.getNext().value,s=u.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&u.largestBatchId>n&&r.set(u.getKey(),u)}return Wo.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new au((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var u=i.get(o.largestBatchId);null===u&&(u=Fs(),i=i.insert(o.largestBatchId,u)),u.set(o.getKey(),o)}}for(var s=Fs(),l=i.getIterator();l.hasNext()&&(l.getNext().value.forEach((function(e,t){return s.set(e,t)})),!(s.size()>=r)););return Wo.resolve(s)}},{key:"It",value:function(e,t,n){var r=this.overlays.get(n.key);if(null!==r){var i=this.hr.get(r.largestBatchId).delete(n.key);this.hr.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new Tl(t,n));var a=this.hr.get(t);void 0===a&&(a=Bs(),this.hr.set(t,a)),this.hr.set(t,a.add(n.key))}}]),e}(),Mc=function(){function e(){X(this,e),this.Pr=new su(Fc.Ir),this.Tr=new su(Fc.Er)}return Z(e,[{key:"isEmpty",value:function(){return this.Pr.isEmpty()}},{key:"addReference",value:function(e,t){var n=new Fc(e,t);this.Pr=this.Pr.add(n),this.Tr=this.Tr.add(n)}},{key:"dr",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.Ar(new Fc(e,t))}},{key:"Rr",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"Vr",value:function(e){var t=this,n=new Fo(new Ro([])),r=new Fc(n,e),i=new Fc(n,e+1),a=[];return this.Tr.forEachInRange([r,i],(function(e){t.Ar(e),a.push(e.key)})),a}},{key:"mr",value:function(){var e=this;this.Pr.forEach((function(t){return e.Ar(t)}))}},{key:"Ar",value:function(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}},{key:"gr",value:function(e){var t=new Fo(new Ro([])),n=new Fc(t,e),r=new Fc(t,e+1),i=Bs();return this.Tr.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new Fc(e,0),n=this.Pr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),Fc=function(){function e(t,n){X(this,e),this.key=t,this.pr=n}return Z(e,null,[{key:"Ir",value:function(e,t){return Fo.comparator(e.key,t.key)||No(e.pr,t.pr)}},{key:"Er",value:function(e,t){return No(e.pr,t.pr)||Fo.comparator(e.key,t.key)}}]),e}(),Vc=function(){function e(t,n){X(this,e),this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new su(Fc.Ir)}return Z(e,[{key:"checkEmpty",value:function(e){return Wo.resolve(0===this.mutationQueue.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];var a=new Sl(i,t,n,r);this.mutationQueue.push(a);var o,u=$(r);try{for(u.s();!(o=u.n()).done;){var s=o.value;this.wr=this.wr.add(new Fc(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast())}}catch(l){u.e(l)}finally{u.f()}return Wo.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return Wo.resolve(this.Sr(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.br(n),i=r<0?0:r;return Wo.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return Wo.resolve(0===this.mutationQueue.length?-1:this.yr-1)}},{key:"getAllMutationBatches",value:function(e){return Wo.resolve(this.mutationQueue.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new Fc(t,0),i=new Fc(t,Number.POSITIVE_INFINITY),a=[];return this.wr.forEachInRange([r,i],(function(e){var t=n.Sr(e.pr);a.push(t)})),Wo.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new su(No);return t.forEach((function(e){var t=new Fc(e,0),i=new Fc(e,Number.POSITIVE_INFINITY);n.wr.forEachInRange([t,i],(function(e){r=r.add(e.pr)}))})),Wo.resolve(this.Dr(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;Fo.isDocumentKey(i)||(i=i.child(""));var a=new Fc(new Fo(i),0),o=new su(No);return this.wr.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.pr)),!0)}),a),Wo.resolve(this.Dr(o))}},{key:"Dr",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.Sr(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;po(0===this.vr(t.batchId,"removed")),this.mutationQueue.shift();var r=this.wr;return Wo.forEach(t.mutations,(function(i){var a=new Fc(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.wr=r}))}},{key:"Mn",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new Fc(t,0),r=this.wr.firstAfterOrEqual(n);return Wo.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.mutationQueue.length,Wo.resolve()}},{key:"vr",value:function(e,t){return this.br(e)}},{key:"br",value:function(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}},{key:"Sr",value:function(e){var t=this.br(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}]),e}(),Uc=function(){function e(t){X(this,e),this.Cr=t,this.docs=new au(Fo.comparator),this.size=0}return Z(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.Cr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return Wo.resolve(n?n.document.mutableCopy():Uu.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=Os();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():Uu.newInvalidDocument(e))})),Wo.resolve(r)}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){for(var i=Os(),a=t.path,o=new Fo(a.child("")),u=this.docs.getIteratorFrom(o);u.hasNext();){var s=u.getNext(),l=s.key,c=s.value.document;if(!a.isPrefixOf(l.path))break;l.path.length>a.length+1||Bo(jo(c),n)<=0||(r.has(c.key)||Cs(t,c))&&(i=i.insert(c.key,c.mutableCopy()))}return Wo.resolve(i)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){ho()}},{key:"Fr",value:function(e,t){return Wo.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new jc(this)}},{key:"getSize",value:function(e){return Wo.resolve(this.size)}}]),e}(),jc=function(e){ne(n,e);var t=ae(n);function n(e){var r;return X(this,n),(r=t.call(this)).ar=e,r}return Z(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.ar.addEntry(e,i)):t.ar.removeEntry(r)})),Wo.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.ar.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.ar.getEntries(e,t)}}]),n}(Dc),zc=function(){function e(t){X(this,e),this.persistence=t,this.Mr=new Ds((function(e){return cs(e)}),fs),this.lastRemoteSnapshotVersion=Lo.min(),this.highestTargetId=0,this.Or=0,this.Nr=new Mc,this.targetCount=0,this.Br=Ac.Nn()}return Z(e,[{key:"forEachTarget",value:function(e,t){return this.Mr.forEach((function(e,n){return t(n)})),Wo.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return Wo.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return Wo.resolve(this.Or)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.Br.next(),Wo.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Or&&(this.Or=t),Wo.resolve()}},{key:"qn",value:function(e){this.Mr.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.Br=new Ac(t),this.highestTargetId=t),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.qn(t),this.targetCount+=1,Wo.resolve()}},{key:"updateTargetData",value:function(e,t){return this.qn(t),Wo.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Mr.delete(t.target),this.Nr.Vr(t.targetId),this.targetCount-=1,Wo.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Mr.forEach((function(o,u){u.sequenceNumber<=t&&null===n.get(u.targetId)&&(r.Mr.delete(o),a.push(r.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),Wo.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return Wo.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Mr.get(t)||null;return Wo.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.Nr.dr(t,n),Wo.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.Nr.Rr(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),Wo.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.Nr.Vr(t),Wo.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.Nr.gr(t);return Wo.resolve(n)}},{key:"containsKey",value:function(e,t){return Wo.resolve(this.Nr.containsKey(t))}}]),e}(),Bc=function(){function e(t,n){var r=this;X(this,e),this.Lr={},this.overlays={},this.kr=new Yo(0),this.qr=!1,this.qr=!0,this.referenceDelegate=t(this),this.Qr=new zc(this),this.indexManager=new Cc,this.remoteDocumentCache=function(e){return new Uc(e)}((function(e){return r.referenceDelegate.Kr(e)})),this.serializer=new Sc(n),this.$r=new Rc(this.serializer)}return Z(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.qr=!1,Promise.resolve()}},{key:"started",get:function(){return this.qr}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new Pc,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.Lr[e.toKey()];return n||(n=new Vc(t,this.referenceDelegate),this.Lr[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.Qr}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getBundleCache",value:function(){return this.$r}},{key:"runTransaction",value:function(e,t,n){var r=this;so("MemoryPersistence","Starting transaction:",e);var i=new qc(this.kr.next());return this.referenceDelegate.Ur(),n(i).next((function(e){return r.referenceDelegate.Wr(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Gr",value:function(e,t){return Wo.or(Object.values(this.Lr).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),qc=function(e){ne(n,e);var t=ae(n);function n(e){var r;return X(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return Z(n)}(Ho),Hc=function(){function e(t){X(this,e),this.persistence=t,this.zr=new Mc,this.jr=null}return Z(e,[{key:"Jr",get:function(){if(this.jr)return this.jr;throw ho()}},{key:"addReference",value:function(e,t,n){return this.zr.addReference(n,t),this.Jr.delete(n.toString()),Wo.resolve()}},{key:"removeReference",value:function(e,t,n){return this.zr.removeReference(n,t),this.Jr.add(n.toString()),Wo.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.Jr.add(t.toString()),Wo.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.zr.Vr(t.targetId).forEach((function(e){return n.Jr.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.Jr.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"Ur",value:function(){this.jr=new Set}},{key:"Wr",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Wo.forEach(this.Jr,(function(r){var i=Fo.fromPath(r);return t.Yr(e,i).next((function(e){e||n.removeEntry(i,Lo.min())}))})).next((function(){return t.jr=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.Yr(e,t).next((function(e){e?n.Jr.delete(t.toString()):n.Jr.add(t.toString())}))}},{key:"Kr",value:function(e){return 0}},{key:"Yr",value:function(e,t){var n=this;return Wo.or([function(){return Wo.resolve(n.zr.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Gr(e,t)}])}}],[{key:"Hr",value:function(t){return new e(t)}}]),e}();var Kc=function(){function e(t,n,r,i){X(this,e),this.targetId=t,this.fromCache=n,this.qi=r,this.Qi=i}return Z(e,null,[{key:"Ki",value:function(t,n){var r,i=Bs(),a=Bs(),o=$(n.docChanges);try{for(o.s();!(r=o.n()).done;){var u=r.value;switch(u.type){case 0:i=i.add(u.doc.key);break;case 1:a=a.add(u.doc.key)}}}catch(s){o.e(s)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),Qc=function(){function e(){X(this,e),this.$i=!1}return Z(e,[{key:"initialize",value:function(e,t){this.Ui=e,this.indexManager=t,this.$i=!0}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this;return this.Wi(e,t).next((function(a){return a||i.Gi(e,t,r,n)})).next((function(n){return n||i.zi(e,t)}))}},{key:"Wi",value:function(e,t){var n=this;if(ms(t))return Wo.resolve(null);var r=ws(t);return this.indexManager.getIndexType(e,r).next((function(i){return 0===i?null:(null!==t.limit&&1===i&&(t=_s(t,null,"F"),r=ws(t)),n.indexManager.getDocumentsMatchingTarget(e,r).next((function(i){var a=Bs.apply(void 0,p(i));return n.Ui.getDocuments(e,a).next((function(i){return n.indexManager.getMinOffset(e,r).next((function(r){var o=n.ji(t,i);return n.Hi(t,o,a,r.readTime)?n.Wi(e,_s(t,null,"F")):n.Ji(e,o,t,r)}))}))})))}))}},{key:"Gi",value:function(e,t,n,r){var i=this;return ms(t)||r.isEqual(Lo.min())?this.zi(e,t):this.Ui.getDocuments(e,n).next((function(a){var o=i.ji(t,a);return i.Hi(t,o,n,r)?i.zi(e,t):(uo()<=Ne.DEBUG&&so("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Ts(t)),i.Ji(e,o,t,Uo(r,-1)))}))}},{key:"ji",value:function(e,t){var n=new su(Ns(e));return t.forEach((function(t,r){Cs(e,r)&&(n=n.add(r))})),n}},{key:"Hi",value:function(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;var i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"zi",value:function(e,t){return uo()<=Ne.DEBUG&&so("QueryEngine","Using full collection scan to execute query:",Ts(t)),this.Ui.getDocumentsMatchingQuery(e,t,zo.min())}},{key:"Ji",value:function(e,t,n,r){return this.Ui.getDocumentsMatchingQuery(e,n,r).next((function(e){return t.forEach((function(t){e=e.insert(t.key,t)})),e}))}}]),e}(),Wc=function(){function e(t,n,r,i){X(this,e),this.persistence=t,this.Yi=n,this.serializer=i,this.Zi=new au(No),this.Xi=new Ds((function(e){return cs(e)}),fs),this.es=new Map,this.ts=t.getRemoteDocumentCache(),this.Qr=t.getTargetCache(),this.$r=t.getBundleCache(),this.ns(r)}return Z(e,[{key:"ns",value:function(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Oc(this.ts,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ts.setIndexManager(this.indexManager),this.Yi.initialize(this.localDocuments,this.indexManager)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.Zi)}))}}]),e}();function Gc(e,t,n,r){return new Wc(e,t,n,r)}function Yc(e,t){return $c.apply(this,arguments)}function $c(){return $c=c(i().mark((function e(t,n){var r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=vo(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.mutationQueue.getAllMutationBatches(e).next((function(i){return t=i,r.ns(n),r.mutationQueue.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],u=Bs(),s=$(t);try{for(s.s();!(i=s.n()).done;){var l=i.value;a.push(l.batchId);var c,f=$(l.mutations);try{for(f.s();!(c=f.n()).done;){var h=c.value;u=u.add(h.key)}}catch(k){f.e(k)}finally{f.f()}}}catch(k){s.e(k)}finally{s.f()}var d,p=$(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var m,y=$(v.mutations);try{for(y.s();!(m=y.n()).done;){var g=m.value;u=u.add(g.key)}}catch(k){y.e(k)}finally{y.f()}}}catch(k){p.e(k)}finally{p.f()}return r.localDocuments.getDocuments(e,u).next((function(e){return{rs:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),$c.apply(this,arguments)}function Xc(e,t){var n=vo(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.ts.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=Wo.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);po(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.mutationQueue.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){for(var t=Bs(),n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}function Jc(e){var t=vo(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.Qr.getLastRemoteSnapshotVersion(e)}))}function Zc(e,t){var n=vo(e),r=t.snapshotVersion,i=n.Zi;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.ts.newChangeBuffer({trackRemovals:!0});i=n.Zi;var o=[];t.targetChanges.forEach((function(a,u){var s=i.get(u);if(s){o.push(n.Qr.removeMatchingKeys(e,a.removedDocuments,u).next((function(){return n.Qr.addMatchingKeys(e,a.addedDocuments,u)})));var l=s.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(u)?l=l.withResumeToken(hu.EMPTY_BYTE_STRING,Lo.min()).withLastLimboFreeSnapshotVersion(Lo.min()):a.resumeToken.approximateByteSize()>0&&(l=l.withResumeToken(a.resumeToken,r)),i=i.insert(u,l),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(s,l,a)&&o.push(n.Qr.updateTargetData(e,l))}}));var u=Os(),s=Bs();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(ef(e,a,t.documentUpdates).next((function(e){u=e.ss,s=e.os}))),!r.isEqual(Lo.min())){var l=n.Qr.getLastRemoteSnapshotVersion(e).next((function(t){return n.Qr.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(l)}return Wo.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.localDocuments.getLocalViewOfDocuments(e,u,s)})).next((function(){return u}))})).then((function(e){return n.Zi=i,e}))}function ef(e,t,n){var r=Bs(),i=Bs();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=Os();return n.forEach((function(n,a){var o=e.get(n);a.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(Lo.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!o.isValidDocument()||a.version.compareTo(o.version)>0||0===a.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):so("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",a.version)})),{ss:r,os:i}}))}function tf(e,t){var n=vo(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)}))}function nf(e,t){var n=vo(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.Qr.getTargetData(e,t).next((function(i){return i?(r=i,Wo.resolve(r)):n.Qr.allocateTargetId(e).next((function(i){return r=new _c(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Qr.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.Zi.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Zi=n.Zi.insert(e.targetId,e),n.Xi.set(t,e.targetId)),e}))}function rf(e,t,n){return af.apply(this,arguments)}function af(){return af=c(i().mark((function e(t,n,r){var a,o,u;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=vo(t),o=a.Zi.get(n),u=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,a.persistence.runTransaction("Release target",u,(function(e){return a.persistence.referenceDelegate.removeTarget(e,o)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),Go(e.t1)){e.next=12;break}throw e.t1;case 12:so("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:a.Zi=a.Zi.remove(n),a.Xi.delete(o.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),af.apply(this,arguments)}function of(e,t,n){var r=vo(e),i=Lo.min(),a=Bs();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=vo(e),i=r.Xi.get(n);return void 0!==i?Wo.resolve(r.Zi.get(i)):r.Qr.getTargetData(t,n)}(r,e,ws(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.Yi.getDocumentsMatchingQuery(e,t,n?i:Lo.min(),n?a:Bs())})).next((function(e){return uf(r,Is(t),e),{documents:e,_s:a}}))}))}function uf(e,t,n){var r=e.es.get(t)||Lo.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.es.set(t,r)}var sf=function(){function e(){X(this,e),this.activeTargetIds=Hs()}return Z(e,[{key:"Is",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"Ts",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"Ps",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),lf=function(){function e(){X(this,e),this.Ys=new sf,this.Zs={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return Z(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.Ys.Is(e),this.Zs[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.Zs[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.Ys.Ts(e)}},{key:"isLocalQueryTarget",value:function(e){return this.Ys.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.Zs[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.Ys.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.Ys.activeTargetIds.has(e)}},{key:"start",value:function(){return this.Ys=new sf,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),cf=function(){function e(){X(this,e)}return Z(e,[{key:"Xs",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),ff=function(){function e(){var t=this;X(this,e),this.eo=function(){return t.no()},this.ro=function(){return t.io()},this.so=[],this.oo()}return Z(e,[{key:"Xs",value:function(e){this.so.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.eo),window.removeEventListener("offline",this.ro)}},{key:"oo",value:function(){window.addEventListener("online",this.eo),window.addEventListener("offline",this.ro)}},{key:"no",value:function(){so("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=$(this.so);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"io",value:function(){so("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=$(this.so);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"v",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),hf=null;function df(){return null===hf?hf=268435456+Math.round(2147483648*Math.random()):hf++,"0x"+hf.toString(16)}var pf={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},vf=function(){function e(t){X(this,e),this._o=t._o,this.ao=t.ao}return Z(e,[{key:"uo",value:function(e){this.co=e}},{key:"lo",value:function(e){this.ho=e}},{key:"onMessage",value:function(e){this.Po=e}},{key:"close",value:function(){this.ao()}},{key:"send",value:function(e){this._o(e)}},{key:"Io",value:function(){this.co()}},{key:"To",value:function(e){this.ho(e)}},{key:"Eo",value:function(e){this.Po(e)}}]),e}(),mf="WebChannelConnection",yf=function(e){ne(n,e);var t=ae(n);function n(e){var r;return X(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r.longPollingOptions=e.longPollingOptions,r}return Z(n,[{key:"wo",value:function(e,t,n,r){var i=df();return new Promise((function(a,o){var u=new eo;u.setWithCredentials(!0),u.listenOnce($a.COMPLETE,(function(){try{switch(u.getLastErrorCode()){case Ya.NO_ERROR:var t=u.getResponseJson();so(mf,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(t)),a(t);break;case Ya.TIMEOUT:so(mf,"RPC '".concat(e,"' ").concat(i," timed out")),o(new yo(mo.DEADLINE_EXCEEDED,"Request time out"));break;case Ya.HTTP_ERROR:var n=u.getStatus();if(so(mf,"RPC '".concat(e,"' ").concat(i," failed with status:"),n,"response text:",u.getResponseText()),n>0){var r=u.getResponseJson();Array.isArray(r)&&(r=r[0]);var s=null==r?void 0:r.error;if(s&&s.status&&s.message){var l=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(mo).indexOf(t)>=0?t:mo.UNKNOWN}(s.status);o(new yo(l,s.message))}else o(new yo(mo.UNKNOWN,"Server responded with status "+u.getStatus()))}else o(new yo(mo.UNAVAILABLE,"Connection failed."));break;default:ho()}}finally{so(mf,"RPC '".concat(e,"' ").concat(i," completed."))}}));var s=JSON.stringify(r);so(mf,"RPC '".concat(e,"' ").concat(i," sending request:"),r),u.send(t,"POST",s,n,15)}))}},{key:"bo",value:function(e,t,n){var r=df(),i=[this.Ao,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=Wa(),o=Ga(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},s=this.longPollingOptions.timeoutSeconds;void 0!==s&&(u.longPollingTimeout=Math.round(1e3*s)),this.useFetchStreams&&(u.useFetchStreams=!0),this.yo(u.initMessageHeaders,t,n),u.encodeInitMessageHeaders=!0;var l=i.join("");so(mf,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(l),u);var c=a.createWebChannel(l,u),f=!1,h=!1,d=new vf({_o:function(t){h?so(mf,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(f||(so(mf,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),c.open(),f=!0),so(mf,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),c.send(t))},ao:function(){return c.close()}}),p=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return p(c,Za.EventType.OPEN,(function(){h||so(mf,"RPC '".concat(e,"' stream ").concat(r," transport opened."))})),p(c,Za.EventType.CLOSE,(function(){h||(h=!0,so(mf,"RPC '".concat(e,"' stream ").concat(r," transport closed")),d.To())})),p(c,Za.EventType.ERROR,(function(t){h||(h=!0,co(mf,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),t),d.To(new yo(mo.UNAVAILABLE,"The operation could not be completed")))})),p(c,Za.EventType.MESSAGE,(function(t){var n;if(!h){var i=t.data[0];po(!!i);var a=i,o=a.error||(null===(n=a[0])||void 0===n?void 0:n.error);if(o){so(mf,"RPC '".concat(e,"' stream ").concat(r," received error:"),o);var u=o.status,s=function(e){var t=bl[e];if(void 0!==t)return Nl(t)}(u),l=o.message;void 0===s&&(s=mo.INTERNAL,l="Unknown error status: "+u+" with message "+o.message),h=!0,d.To(new yo(s,l)),c.close()}else so(mf,"RPC '".concat(e,"' stream ").concat(r," received:"),i),d.Eo(i)}})),p(o,Xa.STAT_EVENT,(function(t){t.stat===Ja.PROXY?so(mf,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===Ja.NOPROXY&&so(mf,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))})),setTimeout((function(){d.Io()}),0),d}}]),n}(function(){function e(t){X(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Ao=n+"://"+t.host,this.Ro="projects/".concat(r,"/databases/").concat(i),this.Vo="(default)"===this.databaseId.database?"project_id=".concat(r):"project_id=".concat(r,"&database_id=").concat(i)}return Z(e,[{key:"mo",get:function(){return!1}},{key:"fo",value:function(e,t,n,r,i){var a=df(),o=this.po(e,t);so("RestConnection","Sending RPC '".concat(e,"' ").concat(a,":"),o,n);var u={"google-cloud-resource-prefix":this.Ro,"x-goog-request-params":this.Vo};return this.yo(u,r,i),this.wo(e,o,u,n).then((function(t){return so("RestConnection","Received RPC '".concat(e,"' ").concat(a,": "),t),t}),(function(t){throw co("RestConnection","RPC '".concat(e,"' ").concat(a," failed with error: "),t,"url: ",o,"request:",n),t}))}},{key:"So",value:function(e,t,n,r,i,a){return this.fo(e,t,n,r,i)}},{key:"yo",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+ao,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"po",value:function(e,t){var n=pf[e];return"".concat(this.Ao,"/v1/").concat(t,":").concat(n)}}]),e}());function gf(){return"undefined"!=typeof document?document:null}function kf(e){return new Yl(e,!0)}var bf=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;X(this,e),this.oi=t,this.timerId=n,this.Do=r,this.vo=i,this.Co=a,this.Fo=0,this.Mo=null,this.xo=Date.now(),this.reset()}return Z(e,[{key:"reset",value:function(){this.Fo=0}},{key:"Oo",value:function(){this.Fo=this.Co}},{key:"No",value:function(e){var t=this;this.cancel();var n=Math.floor(this.Fo+this.Bo()),r=Math.max(0,Date.now()-this.xo),i=Math.max(0,n-r);i>0&&so("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.Fo," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.Mo=this.oi.enqueueAfterDelay(this.timerId,i,(function(){return t.xo=Date.now(),e()})),this.Fo*=this.vo,this.Fo<this.Do&&(this.Fo=this.Do),this.Fo>this.Co&&(this.Fo=this.Co)}},{key:"Lo",value:function(){null!==this.Mo&&(this.Mo.skipDelay(),this.Mo=null)}},{key:"cancel",value:function(){null!==this.Mo&&(this.Mo.cancel(),this.Mo=null)}},{key:"Bo",value:function(){return(Math.random()-.5)*this.Fo}}]),e}(),wf=function(){function e(t,n,r,i,a,o,u,s){X(this,e),this.oi=t,this.ko=r,this.qo=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=u,this.listener=s,this.state=0,this.Qo=0,this.Ko=null,this.$o=null,this.stream=null,this.Uo=new bf(t,n)}return Z(e,[{key:"Wo",value:function(){return 1===this.state||5===this.state||this.Go()}},{key:"Go",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.zo()}},{key:"stop",value:function(){var e=c(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.Wo(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"jo",value:function(){this.state=0,this.Uo.reset()}},{key:"Ho",value:function(){var e=this;this.Go()&&null===this.Ko&&(this.Ko=this.oi.enqueueAfterDelay(this.ko,6e4,(function(){return e.Jo()})))}},{key:"Yo",value:function(e){this.Zo(),this.stream.send(e)}},{key:"Jo",value:function(){var e=c(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.Go()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Zo",value:function(){this.Ko&&(this.Ko.cancel(),this.Ko=null)}},{key:"Xo",value:function(){this.$o&&(this.$o.cancel(),this.$o=null)}},{key:"close",value:function(){var e=c(i().mark((function e(t,n){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Zo(),this.Xo(),this.Uo.cancel(),this.Qo++,4!==t?this.Uo.reset():n&&n.code===mo.RESOURCE_EXHAUSTED?(lo(n.toString()),lo("Using maximum backoff delay to prevent overloading the backend."),this.Uo.Oo()):n&&n.code===mo.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.e_(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.lo(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"e_",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.t_(this.Qo),n=this.Qo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=d(t,2),i=r[0],a=r[1];e.Qo===n&&e.n_(i,a)}),(function(n){t((function(){var t=new yo(mo.UNKNOWN,"Fetching auth token failed: "+n.message);return e.r_(t)}))}))}},{key:"n_",value:function(e,t){var n=this,r=this.t_(this.Qo);this.stream=this.i_(e,t),this.stream.uo((function(){r((function(){return n.state=2,n.$o=n.oi.enqueueAfterDelay(n.qo,1e4,(function(){return n.Go()&&(n.state=3),Promise.resolve()})),n.listener.uo()}))})),this.stream.lo((function(e){r((function(){return n.r_(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"zo",value:function(){var e=this;this.state=5,this.Uo.No(c(i().mark((function t(){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"r_",value:function(e){return so("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"t_",value:function(e){var t=this;return function(n){t.oi.enqueueAndForget((function(){return t.Qo===e?n():(so("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),Ef=function(e){ne(n,e);var t=ae(n);function n(e,r,i,a,o,u){var s;return X(this,n),(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,u)).serializer=o,s}return Z(n,[{key:"i_",value:function(e,t){return this.connection.bo("Listen",e,t)}},{key:"onMessage",value:function(e){this.Uo.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:ho()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.useProto3Json?(po(void 0===t||"string"==typeof t),hu.fromBase64String(t||"")):(po(void 0===t||t instanceof Uint8Array),hu.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,u=o&&function(e){var t=void 0===e.code?mo.UNKNOWN:Nl(e.code);return new yo(t,e.message||"")}(o);n=new zl(r,i,a,u||null)}else if("documentChange"in t){t.documentChange;var s=t.documentChange;s.document,s.document.name,s.document.updateTime;var l=ic(e,s.document.name),c=ec(s.document.updateTime),f=s.document.createTime?ec(s.document.createTime):Lo.min(),h=new Fu({mapValue:{fields:s.document.fields}}),d=Uu.newFoundDocument(l,c,f,h),p=s.targetIds||[],v=s.removedTargetIds||[];n=new Ul(p,v,d.key,d)}else if("documentDelete"in t){t.documentDelete;var m=t.documentDelete;m.document;var y=ic(e,m.document),g=m.readTime?ec(m.readTime):Lo.min(),k=Uu.newNoDocument(y,g),b=m.removedTargetIds||[];n=new Ul([],b,k.key,k)}else if("documentRemove"in t){t.documentRemove;var w=t.documentRemove;w.document;var E=ic(e,w.document),_=w.removedTargetIds||[];n=new Ul([],_,E,null)}else{if(!("filter"in t))return ho();t.filter;var S=t.filter;S.targetId;var x=S.count,T=void 0===x?0:x,C=S.unchangedNames,I=new Cl(T,C),N=S.targetId;n=new jl(N,I)}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return Lo.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?Lo.min():t.readTime?ec(t.readTime):Lo.min()}(e);return this.listener.s_(t,n)}},{key:"o_",value:function(e){var t={};t.database=uc(this.serializer),t.addTarget=function(e,t){var n,r=t.target;if((n=hs(r)?{documents:fc(e,r)}:{query:hc(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=Jl(e,t.resumeToken);var i=$l(e,t.expectedCount);null!==i&&(n.expectedCount=i)}else if(t.snapshotVersion.compareTo(Lo.min())>0){n.readTime=Xl(e,t.snapshotVersion.toTimestamp());var a=$l(e,t.expectedCount);null!==a&&(n.expectedCount=a)}return n}(this.serializer,e);var n=function(e,t){var n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ho()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.Yo(t)}},{key:"__",value:function(e){var t={};t.database=uc(this.serializer),t.removeTarget=e,this.Yo(t)}}]),n}(wf),_f=function(e){ne(n,e);var t=ae(n);function n(e,r,i,a,o,u){var s;return X(this,n),(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,u)).serializer=o,s.a_=!1,s}return Z(n,[{key:"u_",get:function(){return this.a_}},{key:"start",value:function(){this.a_=!1,this.lastStreamToken=void 0,Rt(re(n.prototype),"start",this).call(this)}},{key:"e_",value:function(){this.a_&&this.c_([])}},{key:"i_",value:function(e,t){return this.connection.bo("Write",e,t)}},{key:"onMessage",value:function(e){if(po(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_){this.Uo.reset();var t=function(e,t){return e&&e.length>0?(po(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?ec(e.updateTime):ec(t);return n.isEqual(Lo.min())&&(n=ec(t)),new ol(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=ec(e.commitTime);return this.listener.l_(n,t)}return po(!e.writeResults||0===e.writeResults.length),this.a_=!0,this.listener.h_()}},{key:"P_",value:function(){var e={};e.database=uc(this.serializer),this.Yo(e)}},{key:"c_",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return cc(t.serializer,e)}))};this.Yo(n)}}]),n}(wf),Sf=function(e){ne(n,e);var t=ae(n);function n(e,r,i,a){var o;return X(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.connection=i,o.serializer=a,o.I_=!1,o}return Z(n,[{key:"T_",value:function(){if(this.I_)throw new yo(mo.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"fo",value:function(e,t,n){var r=this;return this.T_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=d(i,2),o=a[0],u=a[1];return r.connection.fo(e,t,n,o,u)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===mo.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new yo(mo.UNKNOWN,e.toString())}))}},{key:"So",value:function(e,t,n,r){var i=this;return this.T_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(a){var o=d(a,2),u=o[0],s=o[1];return i.connection.So(e,t,n,u,s,r)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===mo.UNAUTHENTICATED&&(i.authCredentials.invalidateToken(),i.appCheckCredentials.invalidateToken()),e):new yo(mo.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.I_=!0}}]),n}(Z((function e(){X(this,e)})));var xf=function(){function e(t,n){X(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.d_=0,this.A_=null,this.R_=!0}return Z(e,[{key:"V_",value:function(){var e=this;0===this.d_&&(this.m_("Unknown"),this.A_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.A_=null,e.f_("Backend didn't respond within 10 seconds."),e.m_("Offline"),Promise.resolve()})))}},{key:"g_",value:function(e){"Online"===this.state?this.m_("Unknown"):(this.d_++,this.d_>=1&&(this.p_(),this.f_("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.m_("Offline")))}},{key:"set",value:function(e){this.p_(),this.d_=0,"Online"===e&&(this.R_=!1),this.m_(e)}},{key:"m_",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"f_",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.R_?(lo(t),this.R_=!1):so("OnlineStateTracker",t)}},{key:"p_",value:function(){null!==this.A_&&(this.A_.cancel(),this.A_=null)}}]),e}(),Tf=Z((function e(t,n,r,a,o){var u=this;X(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.y_=[],this.w_=new Map,this.S_=new Set,this.b_=[],this.D_=o,this.D_.Xs((function(e){r.enqueueAndForget(c(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=Ff(u),!e.t0){e.next=5;break}return so("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=c(i().mark((function e(t){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=vo(t)).S_.add(4),e.next=4,Nf(n);case 4:return n.v_.set("Unknown"),n.S_.delete(4),e.next=8,Cf(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(u);case 5:case"end":return e.stop()}}),e)}))))})),this.v_=new xf(r,a)}));function Cf(e){return If.apply(this,arguments)}function If(){return(If=c(i().mark((function e(t){var n,r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Ff(t)){e.next=18;break}n=$(t.b_),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return a=r.value,e.next=8,a(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])})))).apply(this,arguments)}function Nf(e){return Af.apply(this,arguments)}function Af(){return(Af=c(i().mark((function e(t){var n,r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=$(t.b_),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return a=r.value,e.next=7,a(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])})))).apply(this,arguments)}function Df(e,t){var n=vo(e);n.w_.has(t.targetId)||(n.w_.set(t.targetId,t),Mf(n)?Pf(n):hh(n).Go()&&Of(n,t))}function Lf(e,t){var n=vo(e),r=hh(n);n.w_.delete(t),r.Go()&&Rf(n,t),0===n.w_.size&&(r.Go()?r.Ho():Ff(n)&&n.v_.set("Unknown"))}function Of(e,t){if(e.C_.Le(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Lo.min())>0){var n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}hh(e).o_(t)}function Rf(e,t){e.C_.Le(t),hh(e).__(t)}function Pf(e){e.C_=new ql({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},lt:function(t){return e.w_.get(t)||null},st:function(){return e.datastore.serializer.databaseId}}),hh(e).start(),e.v_.V_()}function Mf(e){return Ff(e)&&!hh(e).Wo()&&e.w_.size>0}function Ff(e){return 0===vo(e).S_.size}function Vf(e){e.C_=void 0}function Uf(e){return jf.apply(this,arguments)}function jf(){return(jf=c(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.w_.forEach((function(e,n){Of(t,e)}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function zf(e,t){return Bf.apply(this,arguments)}function Bf(){return(Bf=c(i().mark((function e(t,n){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Vf(t),Mf(t)?(t.v_.g_(n),Pf(t)):t.v_.set("Unknown");case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function qf(e,t,n){return Hf.apply(this,arguments)}function Hf(){return Hf=c(i().mark((function e(t,n,r){var a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.v_.set("Online"),!(n instanceof zl&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=c(i().mark((function e(t,n){var r,a,o,u;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,a=$(n.targetIds),e.prev=2,a.s();case 4:if((o=a.n()).done){e.next=14;break}if(u=o.value,e.t0=t.w_.has(u),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(u,r);case 10:t.w_.delete(u),t.C_.removeTarget(u);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),a.e(e.t1);case 19:return e.prev=19,a.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),so("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,Kf(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof Ul?t.C_.Ge(n):n instanceof jl?t.C_.Xe(n):t.C_.He(n),r.isEqual(Lo.min())){e.next=29;break}return e.prev=14,e.next=17,Jc(t.localStore);case 17:if(a=e.sent,e.t1=r.compareTo(a)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.C_._t(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.w_.get(r);i&&e.w_.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t,n){var r=e.w_.get(t);if(r){e.w_.set(t,r.withResumeToken(hu.EMPTY_BYTE_STRING,r.snapshotVersion)),Rf(e,t);var i=new _c(r.target,t,n,r.sequenceNumber);Of(e,i)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),so("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,Kf(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),Hf.apply(this,arguments)}function Kf(e,t,n){return Qf.apply(this,arguments)}function Qf(){return(Qf=c(i().mark((function e(t,n,r){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Go(n)){e.next=2;break}throw n;case 2:return t.S_.add(1),e.next=5,Nf(t);case 5:t.v_.set("Offline"),r||(r=function(){return Jc(t.localStore)}),t.asyncQueue.enqueueRetryable(c(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return so("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.S_.delete(1),e.next=6,Cf(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Wf(e,t){return t().catch((function(n){return Kf(e,n,t)}))}function Gf(e){return Yf.apply(this,arguments)}function Yf(){return Yf=c(i().mark((function e(t){var n,r,a,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=vo(t),r=dh(n),a=n.y_.length>0?n.y_[n.y_.length-1].batchId:-1;case 2:if(!$f(n)){e.next=19;break}return e.prev=3,e.next=6,tf(n.localStore,a);case 6:if(null!==(o=e.sent)){e.next=10;break}return 0===n.y_.length&&r.Ho(),e.abrupt("break",19);case 10:a=o.batchId,Xf(n,o),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,Kf(n,e.t0);case 17:e.next=2;break;case 19:Jf(n)&&Zf(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),Yf.apply(this,arguments)}function $f(e){return Ff(e)&&e.y_.length<10}function Xf(e,t){e.y_.push(t);var n=dh(e);n.Go()&&n.u_&&n.c_(t.mutations)}function Jf(e){return Ff(e)&&!dh(e).Wo()&&e.y_.length>0}function Zf(e){dh(e).start()}function eh(e){return th.apply(this,arguments)}function th(){return(th=c(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:dh(t).P_();case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function nh(e){return rh.apply(this,arguments)}function rh(){return(rh=c(i().mark((function e(t){var n,r,a,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=dh(t),r=$(t.y_);try{for(r.s();!(a=r.n()).done;)o=a.value,n.c_(o.mutations)}catch(i){r.e(i)}finally{r.f()}case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ih(e,t,n){return ah.apply(this,arguments)}function ah(){return ah=c(i().mark((function e(t,n,r){var a,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.y_.shift(),o=xl.from(a,n,r),e.next=3,Wf(t,(function(){return t.remoteSyncer.applySuccessfulWrite(o)}));case 3:return e.next=5,Gf(t);case 5:case"end":return e.stop()}}),e)}))),ah.apply(this,arguments)}function oh(e,t){return uh.apply(this,arguments)}function uh(){return uh=c(i().mark((function e(t,n){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&dh(t).u_,!e.t0){e.next=4;break}return e.next=4,function(){var e=c(i().mark((function e(t,n){var r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!function(e){return Il(e)&&e!==mo.ABORTED}(n.code)){e.next=7;break}return r=t.y_.shift(),dh(t).jo(),e.next=5,Wf(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,Gf(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:Jf(t)&&Zf(t);case 5:case"end":return e.stop()}}),e)}))),uh.apply(this,arguments)}function sh(e,t){return lh.apply(this,arguments)}function lh(){return lh=c(i().mark((function e(t,n){var r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=vo(t)).asyncQueue.verifyOperationInProgress(),so("RemoteStore","RemoteStore received new credentials"),a=Ff(r),r.S_.add(3),e.next=6,Nf(r);case 6:return a&&r.v_.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.S_.delete(3),e.next=12,Cf(r);case 12:case"end":return e.stop()}}),e)}))),lh.apply(this,arguments)}function ch(e,t){return fh.apply(this,arguments)}function fh(){return(fh=c(i().mark((function e(t,n){var r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=vo(t),!n){e.next=7;break}return r.S_.delete(2),e.next=5,Cf(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.S_.add(2),e.next=12,Nf(r);case 12:r.v_.set("Unknown");case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function hh(e){return e.F_||(e.F_=function(e,t,n){var r=vo(e);return r.T_(),new Ef(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{uo:Uf.bind(null,e),lo:zf.bind(null,e),s_:qf.bind(null,e)}),e.b_.push(function(){var t=c(i().mark((function t(n){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.F_.jo(),Mf(e)?Pf(e):e.v_.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.F_.stop();case 6:Vf(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.F_}function dh(e){return e.M_||(e.M_=function(e,t,n){var r=vo(e);return r.T_(),new _f(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{uo:eh.bind(null,e),lo:oh.bind(null,e),h_:nh.bind(null,e),l_:ih.bind(null,e)}),e.b_.push(function(){var t=c(i().mark((function t(n){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.M_.jo(),t.next=4,Gf(e);case 4:t.next=9;break;case 6:return t.next=8,e.M_.stop();case 8:e.y_.length>0&&(so("RemoteStore","Stopping write stream with ".concat(e.y_.length," pending writes")),e.y_=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.M_}var ph=function(){function e(t,n,r,i,a){X(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new go,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return Z(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new yo(mo.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function vh(e,t){if(lo("AsyncQueue","".concat(t,": ").concat(e)),Go(e))return new yo(mo.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var mh=function(){function e(t){X(this,e),this.comparator=t?function(e,n){return t(e,n)||Fo.comparator(e.key,n.key)}:function(e,t){return Fo.comparator(e.key,t.key)},this.keyedMap=Ps(),this.sortedSet=new au(this.comparator)}return Z(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),yh=function(){function e(){X(this,e),this.x_=new au(Fo.comparator)}return Z(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.x_.get(t);n?0!==e.type&&3===n.type?this.x_=this.x_.insert(t,e):3===e.type&&1!==n.type?this.x_=this.x_.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.x_=this.x_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.x_=this.x_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.x_=this.x_.remove(t):1===e.type&&2===n.type?this.x_=this.x_.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.x_=this.x_.insert(t,{type:2,doc:e.doc}):ho():this.x_=this.x_.insert(t,e)}},{key:"O_",value:function(){var e=[];return this.x_.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),gh=function(){function e(t,n,r,i,a,o,u,s,l){X(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=s,this.hasCachedResults=l}return Z(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ss(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i,a){var o=[];return n.forEach((function(e){o.push({type:0,doc:e})})),new e(t,n,mh.emptySet(n),o,r,i,!0,!1,a)}}]),e}(),kh=Z((function e(){X(this,e),this.N_=void 0,this.listeners=[]})),bh=Z((function e(){X(this,e),this.queries=new Ds((function(e){return xs(e)}),Ss),this.onlineState="Unknown",this.B_=new Set}));function wh(e,t){return Eh.apply(this,arguments)}function Eh(){return Eh=c(i().mark((function e(t,n){var r,a,o,u,s;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=vo(t),a=n.query,o=!1,(u=r.queries.get(a))||(o=!0,u=new kh),!o){e.next=13;break}return e.prev=3,e.next=6,r.onListen(a);case 6:u.N_=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),s=vh(e.t0,"Initialization of query '".concat(Ts(n.query),"' failed")),e.abrupt("return",void n.onError(s));case 13:r.queries.set(a,u),u.listeners.push(n),n.L_(r.onlineState),u.N_&&n.k_(u.N_)&&Ch(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),Eh.apply(this,arguments)}function _h(e,t){return Sh.apply(this,arguments)}function Sh(){return Sh=c(i().mark((function e(t,n){var r,a,o,u,s;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=vo(t),a=n.query,o=!1,(u=r.queries.get(a))&&(s=u.listeners.indexOf(n))>=0&&(u.listeners.splice(s,1),o=0===u.listeners.length),!o){e.next=6;break}return e.abrupt("return",(r.queries.delete(a),r.onUnlisten(a)));case 6:case"end":return e.stop()}}),e)}))),Sh.apply(this,arguments)}function xh(e,t){var n,r=vo(e),i=!1,a=$(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,u=o.query,s=r.queries.get(u);if(s){var l,c=$(s.listeners);try{for(c.s();!(l=c.n()).done;){l.value.k_(o)&&(i=!0)}}catch(f){c.e(f)}finally{c.f()}s.N_=o}}}catch(f){a.e(f)}finally{a.f()}i&&Ch(r)}function Th(e,t,n){var r=vo(e),i=r.queries.get(t);if(i){var a,o=$(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(u){o.e(u)}finally{o.f()}}r.queries.delete(t)}function Ch(e){e.B_.forEach((function(e){e.next()}))}var Ih=function(){function e(t,n,r){X(this,e),this.query=t,this.q_=n,this.Q_=!1,this.K_=null,this.onlineState="Unknown",this.options=r||{}}return Z(e,[{key:"k_",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=$(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new gh(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}var a=!1;return this.Q_?this.U_(e)&&(this.q_.next(e),a=!0):this.W_(e,this.onlineState)&&(this.G_(e),a=!0),this.K_=e,a}},{key:"onError",value:function(e){this.q_.error(e)}},{key:"L_",value:function(e){this.onlineState=e;var t=!1;return this.K_&&!this.Q_&&this.W_(this.K_,e)&&(this.G_(this.K_),t=!0),t}},{key:"W_",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.z_||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}},{key:"U_",value:function(e){if(e.docChanges.length>0)return!0;var t=this.K_&&this.K_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"G_",value:function(e){e=gh.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Q_=!0,this.q_.next(e)}}]),e}();var Nh=Z((function e(t){X(this,e),this.key=t})),Ah=Z((function e(t){X(this,e),this.key=t})),Dh=function(){function e(t,n){X(this,e),this.query=t,this.ta=n,this.na=null,this.hasCachedResults=!1,this.current=!1,this.ra=Bs(),this.mutatedKeys=Bs(),this.ia=Ns(t),this.sa=new mh(this.ia)}return Z(e,[{key:"oa",get:function(){return this.ta}},{key:"_a",value:function(e,t){var n=this,r=t?t.aa:new yh,i=t?t.sa:this.sa,a=t?t.mutatedKeys:this.mutatedKeys,o=i,u=!1,s="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,l="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var c=i.get(e),f=Cs(n.query,t)?t:null,h=!!c&&n.mutatedKeys.has(c.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;c&&f?c.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.ua(c,f)||(r.track({type:2,doc:f}),p=!0,(s&&n.ia(f,s)>0||l&&n.ia(f,l)<0)&&(u=!0)):!c&&f?(r.track({type:0,doc:f}),p=!0):c&&!f&&(r.track({type:1,doc:c}),p=!0,(s||l)&&(u=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){var c="F"===this.query.limitType?o.last():o.first();o=o.delete(c.key),a=a.delete(c.key),r.track({type:1,doc:c})}return{sa:o,aa:r,Hi:u,mutatedKeys:a}}},{key:"ua",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.sa;this.sa=e.sa,this.mutatedKeys=e.mutatedKeys;var a=e.aa.O_();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ho()}};return n(e)-n(t)}(e.type,t.type)||r.ia(e.doc,t.doc)})),this.ca(n);var o=t?this.la():[],u=0===this.ra.size&&this.current?1:0,s=u!==this.na;return this.na=u,0!==a.length||s?{snapshot:new gh(this.query,e.sa,i,a,e.mutatedKeys,0===u,s,!1,!!n&&n.resumeToken.approximateByteSize()>0),ha:o}:{ha:o}}},{key:"L_",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({sa:this.sa,aa:new yh,mutatedKeys:this.mutatedKeys,Hi:!1},!1)):{ha:[]}}},{key:"Pa",value:function(e){return!this.ta.has(e)&&!!this.sa.has(e)&&!this.sa.get(e).hasLocalMutations}},{key:"ca",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.ta=t.ta.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.ta=t.ta.delete(e)})),this.current=e.current)}},{key:"la",value:function(){var e=this;if(!this.current)return[];var t=this.ra;this.ra=Bs(),this.sa.forEach((function(t){e.Pa(t.key)&&(e.ra=e.ra.add(t.key))}));var n=[];return t.forEach((function(t){e.ra.has(t)||n.push(new Ah(t))})),this.ra.forEach((function(e){t.has(e)||n.push(new Nh(e))})),n}},{key:"Ia",value:function(e){this.ta=e._s,this.ra=Bs();var t=this._a(e.documents);return this.applyChanges(t,!0)}},{key:"Ta",value:function(){return gh.fromInitialDocuments(this.query,this.sa,this.mutatedKeys,0===this.na,this.hasCachedResults)}}]),e}(),Lh=Z((function e(t,n,r){X(this,e),this.query=t,this.targetId=n,this.view=r})),Oh=Z((function e(t){X(this,e),this.key=t,this.Ea=!1})),Rh=function(){function e(t,n,r,i,a,o){X(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.da={},this.Aa=new Ds((function(e){return xs(e)}),Ss),this.Ra=new Map,this.Va=new Set,this.ma=new au(Fo.comparator),this.fa=new Map,this.ga=new Mc,this.pa={},this.ya=new Map,this.wa=Ac.Bn(),this.onlineState="Unknown",this.Sa=void 0}return Z(e,[{key:"isPrimaryClient",get:function(){return!0===this.Sa}}]),e}();function Ph(e,t){return Mh.apply(this,arguments)}function Mh(){return Mh=c(i().mark((function e(t,n){var r,a,o,u,s,l;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=cd(t),!(u=r.Aa.get(n))){e.next=6;break}a=u.targetId,r.sharedClientState.addLocalQueryTarget(a),o=u.view.Ta(),e.next=15;break;case 6:return e.next=8,nf(r.localStore,ws(n));case 8:return s=e.sent,l=r.sharedClientState.addLocalQueryTarget(s.targetId),a=s.targetId,e.next=13,Fh(r,n,a,"current"===l,s.resumeToken);case 13:o=e.sent,r.isPrimaryClient&&Df(r.remoteStore,s);case 15:return e.abrupt("return",o);case 16:case"end":return e.stop()}}),e)}))),Mh.apply(this,arguments)}function Fh(e,t,n,r,i){return Vh.apply(this,arguments)}function Vh(){return Vh=c(i().mark((function e(t,n,r,a,o){var u,s,l,f,h,d;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.ba=function(e,n,r){return function(){var e=c(i().mark((function e(t,n,r,a){var o,u,s;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=n.view._a(r),e.t0=o.Hi,!e.t0){e.next=6;break}return e.next=5,of(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view._a(t,o)}));case 5:o=e.sent;case 6:return u=a&&a.targetChanges.get(n.targetId),s=n.view.applyChanges(o,t.isPrimaryClient,u),e.abrupt("return",(nd(t,n.targetId,s.ha),s.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,of(t.localStore,n,!0);case 3:return u=e.sent,s=new Dh(n,u._s),l=s._a(u.documents),f=Vl.createSynthesizedTargetChangeForCurrentChange(r,a&&"Offline"!==t.onlineState,o),h=s.applyChanges(l,t.isPrimaryClient,f),nd(t,r,h.ha),d=new Lh(n,r,s),e.abrupt("return",(t.Aa.set(n,d),t.Ra.has(r)?t.Ra.get(r).push(n):t.Ra.set(r,[n]),h.snapshot));case 11:case"end":return e.stop()}}),e)}))),Vh.apply(this,arguments)}function Uh(e,t){return jh.apply(this,arguments)}function jh(){return jh=c(i().mark((function e(t,n){var r,a,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=vo(t),a=r.Aa.get(n),!((o=r.Ra.get(a.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.Ra.set(a.targetId,o.filter((function(e){return!Ss(e,n)}))),void r.Aa.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(a.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(a.targetId),e.t0){e.next=9;break}return e.next=9,rf(r.localStore,a.targetId,!1).then((function(){r.sharedClientState.clearQueryState(a.targetId),Lf(r.remoteStore,a.targetId),ed(r,a.targetId)})).catch(Ko);case 9:e.next=14;break;case 11:return ed(r,a.targetId),e.next=14,rf(r.localStore,a.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),jh.apply(this,arguments)}function zh(e,t,n){return Bh.apply(this,arguments)}function Bh(){return Bh=c(i().mark((function e(t,n,r){var a,o,u;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=fd(t),e.prev=1,e.next=4,function(e,t){var n,r,i=vo(e),a=Do.now(),o=t.reduce((function(e,t){return e.add(t.key)}),Bs());return i.persistence.runTransaction("Locally write mutations","readwrite",(function(e){var u=Os(),s=Bs();return i.ts.getEntries(e,o).next((function(e){(u=e).forEach((function(e,t){t.isValidDocument()||(s=s.add(e))}))})).next((function(){return i.localDocuments.getOverlayedDocuments(e,u)})).next((function(r){n=r;var o,u=[],s=$(t);try{for(s.s();!(o=s.n()).done;){var l=o.value,c=dl(l,n.get(l.key).overlayedDocument);null!=c&&u.push(new ml(l.key,c,Vu(c.value.mapValue),ul.exists(!0)))}}catch(f){s.e(f)}finally{s.f()}return i.mutationQueue.addMutationBatch(e,a,u,t)})).next((function(t){r=t;var a=t.applyToLocalDocumentSet(n,s);return i.documentOverlayCache.saveOverlays(e,t.batchId,a)}))})).then((function(){return{batchId:r.batchId,changes:Ms(n)}}))}(a.localStore,n);case 4:return o=e.sent,a.sharedClientState.addPendingMutation(o.batchId),function(e,t,n){var r=e.pa[e.currentUser.toKey()];r||(r=new au(No)),r=r.insert(t,n),e.pa[e.currentUser.toKey()]=r}(a,o.batchId,r),e.next=9,ad(a,o.changes);case 9:return e.next=11,Gf(a.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),u=vh(e.t0,"Failed to persist write"),r.reject(u);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),Bh.apply(this,arguments)}function qh(e,t){return Hh.apply(this,arguments)}function Hh(){return Hh=c(i().mark((function e(t,n){var r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=vo(t),e.prev=1,e.next=4,Zc(r.localStore,n);case 4:return a=e.sent,n.targetChanges.forEach((function(e,t){var n=r.fa.get(t);n&&(po(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.Ea=!0:e.modifiedDocuments.size>0?po(n.Ea):e.removedDocuments.size>0&&(po(n.Ea),n.Ea=!1))})),e.next=8,ad(r,a,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,Ko(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),Hh.apply(this,arguments)}function Kh(e,t,n){var r=vo(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Aa.forEach((function(e,n){var r=n.view.L_(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=vo(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=$(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.L_(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&Ch(n)}(r.eventManager,t),i.length&&r.da.s_(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function Qh(e,t,n){return Wh.apply(this,arguments)}function Wh(){return Wh=c(i().mark((function e(t,n,r){var a,o,u,s,l,c;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((a=vo(t)).sharedClientState.updateQueryState(n,"rejected",r),o=a.fa.get(n),!(u=o&&o.key)){e.next=14;break}return s=(s=new au(Fo.comparator)).insert(u,Uu.newNoDocument(u,Lo.min())),l=Bs().add(u),c=new Fl(Lo.min(),new Map,new au(No),s,l),e.next=9,qh(a,c);case 9:a.ma=a.ma.remove(u),a.fa.delete(n),id(a),e.next=16;break;case 14:return e.next=16,rf(a.localStore,n,!1).then((function(){return ed(a,n,r)})).catch(Ko);case 16:case"end":return e.stop()}}),e)}))),Wh.apply(this,arguments)}function Gh(e,t){return Yh.apply(this,arguments)}function Yh(){return Yh=c(i().mark((function e(t,n){var r,a,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=vo(t),a=n.batch.batchId,e.prev=1,e.next=4,Xc(r.localStore,n);case 4:return o=e.sent,Zh(r,a,null),Jh(r,a),r.sharedClientState.updateMutationState(a,"acknowledged"),e.next=10,ad(r,o);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Ko(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),Yh.apply(this,arguments)}function $h(e,t,n){return Xh.apply(this,arguments)}function Xh(){return Xh=c(i().mark((function e(t,n,r){var a,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=vo(t),e.prev=1,e.next=4,function(e,t){var n=vo(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.mutationQueue.lookupMutationBatch(e,t).next((function(t){return po(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}(a.localStore,n);case 4:return o=e.sent,Zh(a,n,r),Jh(a,n),a.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,ad(a,o);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Ko(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),Xh.apply(this,arguments)}function Jh(e,t){(e.ya.get(t)||[]).forEach((function(e){e.resolve()})),e.ya.delete(t)}function Zh(e,t,n){var r=vo(e),i=r.pa[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.pa[r.currentUser.toKey()]=i}}function ed(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=$(e.Ra.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.Aa.delete(a),n&&e.da.Da(a,n)}}catch(o){i.e(o)}finally{i.f()}e.Ra.delete(t),e.isPrimaryClient&&e.ga.Vr(t).forEach((function(t){e.ga.containsKey(t)||td(e,t)}))}function td(e,t){e.Va.delete(t.path.canonicalString());var n=e.ma.get(t);null!==n&&(Lf(e.remoteStore,n),e.ma=e.ma.remove(t),e.fa.delete(n),id(e))}function nd(e,t,n){var r,i=$(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof Nh?(e.ga.addReference(a.key,t),rd(e,a)):a instanceof Ah?(so("SyncEngine","Document no longer in limbo: "+a.key),e.ga.removeReference(a.key,t),e.ga.containsKey(a.key)||td(e,a.key)):ho()}}catch(o){i.e(o)}finally{i.f()}}function rd(e,t){var n=t.key,r=n.path.canonicalString();e.ma.get(n)||e.Va.has(r)||(so("SyncEngine","New document in limbo: "+n),e.Va.add(r),id(e))}function id(e){for(;e.Va.size>0&&e.ma.size<e.maxConcurrentLimboResolutions;){var t=e.Va.values().next().value;e.Va.delete(t);var n=new Fo(Ro.fromString(t)),r=e.wa.next();e.fa.set(r,new Oh(n)),e.ma=e.ma.insert(n,r),Df(e.remoteStore,new _c(ws(vs(n.path)),r,"TargetPurposeLimboResolution",Yo.ae))}}function ad(e,t,n){return od.apply(this,arguments)}function od(){return od=c(i().mark((function e(t,n,r){var a,o,u,s;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=vo(t),o=[],u=[],s=[],e.t0=a.Aa.isEmpty(),e.t0){e.next=9;break}return a.Aa.forEach((function(e,t){s.push(a.ba(t,n,r).then((function(e){if((e||r)&&a.isPrimaryClient&&a.sharedClientState.updateQueryState(t.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){o.push(e);var n=Kc.Ki(t.targetId,e);u.push(n)}})))})),e.next=6,Promise.all(s);case 6:return a.da.s_(o),e.next=9,function(){var e=c(i().mark((function e(t,n){var r,a,o,u,s,l,c,f;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=vo(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return Wo.forEach(n,(function(t){return Wo.forEach(t.qi,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return Wo.forEach(t.Qi,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),Go(e.t0)){e.next=10;break}throw e.t0;case 10:so("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:a=$(n);try{for(a.s();!(o=a.n()).done;)u=o.value,s=u.targetId,u.fromCache||(l=r.Zi.get(s),c=l.snapshotVersion,f=l.withLastLimboFreeSnapshotVersion(c),r.Zi=r.Zi.insert(s,f))}catch(i){a.e(i)}finally{a.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(a.localStore,u);case 9:case"end":return e.stop()}}),e)}))),od.apply(this,arguments)}function ud(e,t){return sd.apply(this,arguments)}function sd(){return(sd=c(i().mark((function e(t,n){var r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=vo(t)).currentUser.isEqual(n)){e.next=11;break}return so("SyncEngine","User change. New user:",n.toKey()),e.next=5,Yc(r.localStore,n);case 5:return a=e.sent,r.currentUser=n,function(e,t){e.ya.forEach((function(e){e.forEach((function(e){e.reject(new yo(mo.CANCELLED,t))}))})),e.ya.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(n,a.removedBatchIds,a.addedBatchIds),e.next=11,ad(r,a.rs);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ld(e,t){var n=vo(e),r=n.fa.get(t);if(r&&r.Ea)return Bs().add(r.key);var i=Bs(),a=n.Ra.get(t);if(!a)return i;var o,u=$(a);try{for(u.s();!(o=u.n()).done;){var s=o.value,l=n.Aa.get(s);i=i.unionWith(l.view.oa)}}catch(c){u.e(c)}finally{u.f()}return i}function cd(e){var t=vo(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=qh.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=ld.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Qh.bind(null,t),t.da.s_=xh.bind(null,t.eventManager),t.da.Da=Th.bind(null,t.eventManager),t}function fd(e){var t=vo(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Gh.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=$h.bind(null,t),t}var hd=function(){function e(){X(this,e),this.synchronizeTabs=!1}return Z(e,[{key:"initialize",value:function(){var e=c(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.serializer=kf(t.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(t),this.persistence=this.createPersistence(t),e.next=5,this.persistence.start();case 5:this.localStore=this.createLocalStore(t),this.gcScheduler=this.createGarbageCollectionScheduler(t,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(t,this.localStore);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createGarbageCollectionScheduler",value:function(e,t){return null}},{key:"createIndexBackfillerScheduler",value:function(e,t){return null}},{key:"createLocalStore",value:function(e){return Gc(this.persistence,new Qc,e.initialUser,this.serializer)}},{key:"createPersistence",value:function(e){return new Bc(Hc.Hr,this.serializer)}},{key:"createSharedClientState",value:function(e){return new lf}},{key:"terminate",value:function(){var e=c(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),dd=function(){function e(){X(this,e)}return Z(e,[{key:"initialize",value:function(){var e=c(i().mark((function e(t,n){var r=this;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return Kh(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=ud.bind(null,this.syncEngine),e.next=12,ch(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new bh}},{key:"createDatastore",value:function(e){var t=kf(e.databaseInfo.databaseId),n=function(e){return new yf(e)}(e.databaseInfo);return function(e,t,n,r){return new Sf(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}},{key:"createRemoteStore",value:function(e){var t=this;return function(e,t,n,r,i){return new Tf(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,(function(e){return Kh(t.syncEngine,e,0)}),ff.v()?new ff:new cf)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var u=new Rh(e,t,n,r,i,a);return o&&(u.Sa=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=c(i().mark((function e(t){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=vo(t),so("RemoteStore","RemoteStore shutting down."),n.S_.add(5),e.next=5,Nf(n);case 5:n.D_.shutdown(),n.v_.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();var pd=function(){function e(t){X(this,e),this.observer=t,this.muted=!1}return Z(e,[{key:"next",value:function(e){this.observer.next&&this.Fa(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.Fa(this.observer.error,e):lo("Uncaught Error in snapshot listener:",e.toString())}},{key:"Ma",value:function(){this.muted=!0}},{key:"Fa",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),vd=function(){function e(t,n,r,a){var o=this;X(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=a,this.user=io.UNAUTHENTICATED,this.clientId=Io.V(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=c(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return so("FirestoreClient","Received user=",t.uid),e.next=3,o.authCredentialListener(t);case 3:o.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return so("FirestoreClient","Received new app check token=",e),o.appCheckCredentialListener(e,o.user)}))}return Z(e,[{key:"getConfiguration",value:function(){var e=c(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new yo(mo.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new go;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(c(i().mark((function n(){var r;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e._onlineComponents,!n.t0){n.next=5;break}return n.next=5,e._onlineComponents.terminate();case 5:if(n.t1=e._offlineComponents,!n.t1){n.next=9;break}return n.next=9,e._offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=vh(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function md(e,t){return yd.apply(this,arguments)}function yd(){return yd=c(i().mark((function e(t,n){var r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),so("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:a=r.initialUser,t.setCredentialChangeListener(function(){var e=c(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=a.isEqual(t),e.t0){e.next=5;break}return e.next=4,Yc(n.localStore,t);case 4:a=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t._offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),yd.apply(this,arguments)}function gd(e,t){return kd.apply(this,arguments)}function kd(){return kd=c(i().mark((function e(t,n){var r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,wd(t);case 3:return r=e.sent,so("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return a=e.sent,e.next=10,n.initialize(r,a);case 10:t.setCredentialChangeListener((function(e){return sh(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return sh(n.remoteStore,t)})),t._onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),kd.apply(this,arguments)}function bd(e){return"FirebaseError"===e.name?e.code===mo.FAILED_PRECONDITION||e.code===mo.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}function wd(e){return Ed.apply(this,arguments)}function Ed(){return(Ed=c(i().mark((function e(t){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t._offlineComponents){e.next=21;break}if(!t._uninitializedComponentsProvider){e.next=18;break}return so("FirestoreClient","Using user provided OfflineComponentProvider"),e.prev=3,e.next=6,md(t,t._uninitializedComponentsProvider._offline);case 6:e.next=16;break;case 8:if(e.prev=8,e.t0=e.catch(3),bd(n=e.t0)){e.next=13;break}throw n;case 13:return co("Error using user provided cache. Falling back to memory cache: "+n),e.next=16,md(t,new hd);case 16:e.next=21;break;case 18:return so("FirestoreClient","Using default OfflineComponentProvider"),e.next=21,md(t,new hd);case 21:return e.abrupt("return",t._offlineComponents);case 22:case"end":return e.stop()}}),e,null,[[3,8]])})))).apply(this,arguments)}function _d(e){return Sd.apply(this,arguments)}function Sd(){return(Sd=c(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t._onlineComponents,e.t0){e.next=11;break}if(!t._uninitializedComponentsProvider){e.next=8;break}return so("FirestoreClient","Using user provided OnlineComponentProvider"),e.next=6,gd(t,t._uninitializedComponentsProvider._online);case 6:e.next=11;break;case 8:return so("FirestoreClient","Using default OnlineComponentProvider"),e.next=11,gd(t,new dd);case 11:return e.abrupt("return",t._onlineComponents);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function xd(e){return _d(e).then((function(e){return e.syncEngine}))}function Td(e){return Cd.apply(this,arguments)}function Cd(){return(Cd=c(i().mark((function e(t){var n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_d(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=Ph.bind(null,n.syncEngine),r.onUnlisten=Uh.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Id(e){var t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}var Nd=new Map;function Ad(e,t,n){if(!n)throw new yo(mo.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function Dd(e){if(!Fo.isDocumentKey(e))throw new yo(mo.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function Ld(e){if(Fo.isDocumentKey(e))throw new yo(mo.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function Od(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":ho()}function Rd(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new yo(mo.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Od(e);throw new yo(mo.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}var Pd=function(){function e(t){var n,r;if(X(this,e),void 0===t.host){if(void 0!==t.ssl)throw new yo(mo.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new yo(mo.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new yo(mo.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))})("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===t.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Id(null!==(r=t.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new yo(mo.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new yo(mo.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new yo(mo.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}return Z(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),Md=function(){function e(t,n,r,i){X(this,e),this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Pd({}),this._settingsFrozen=!1}return Z(e,[{key:"app",get:function(){if(!this._app)throw new yo(mo.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new yo(mo.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Pd(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new bo;switch(e.type){case"firstParty":return new So(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new yo(mo.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=Nd.get(e);t&&(so("ComponentProvider","Removing Datastore"),Nd.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function Fd(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=Rd(e,Md))._getSettings(),o="".concat(t,":").concat(n);if("firestore.googleapis.com"!==a.host&&a.host!==o&&co("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},a),{host:o,ssl:!1})),i.mockUserToken){var u,s;if("string"==typeof i.mockUserToken)u=i.mockUserToken,s=io.MOCK_USER;else{u=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[fe(JSON.stringify({alg:"none",type:"JWT"})),fe(JSON.stringify(a)),""].join(".")}(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var l=i.mockUserToken.sub||i.mockUserToken.user_id;if(!l)throw new yo(mo.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");s=new io(l)}e._authCredentials=new wo(new ko(u,s))}}var Vd=function(){function e(t,n,r){X(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return Z(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),Ud=function(){function e(t,n,r){X(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return Z(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new jd(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),jd=function(e){ne(n,e);var t=ae(n);function n(e,r,i){var a;return X(this,n),(a=t.call(this,e,r,vs(i)))._path=i,a.type="collection",a}return Z(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new Ud(this.firestore,null,new Fo(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(Vd);function zd(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Se(e),Ad("collection","path",t),e instanceof Md){var a=Ro.fromString.apply(Ro,[t].concat(r));return Ld(a),new jd(e,null,a)}if(!(e instanceof Ud||e instanceof jd))throw new yo(mo.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Ro.fromString.apply(Ro,[t].concat(r)));return Ld(o),new jd(e.firestore,null,o)}function Bd(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Se(e),1===arguments.length&&(t=Io.V()),Ad("doc","path",t),e instanceof Md){var a=Ro.fromString.apply(Ro,[t].concat(r));return Dd(a),new Ud(e,null,new Fo(a))}if(!(e instanceof Ud||e instanceof jd))throw new yo(mo.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Ro.fromString.apply(Ro,[t].concat(r)));return Dd(o),new Ud(e.firestore,e instanceof jd?e.converter:null,new Fo(o))}var qd=function(){function e(){var t=this;X(this,e),this.za=Promise.resolve(),this.ja=[],this.Ha=!1,this.Ja=[],this.Ya=null,this.Za=!1,this.Xa=!1,this.eu=[],this.Uo=new bf(this,"async_queue_retry"),this.tu=function(){var e=gf();e&&so("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Uo.Lo()};var n=gf();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.tu)}return Z(e,[{key:"isShuttingDown",get:function(){return this.Ha}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.nu(),this.ru(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.Ha){this.Ha=!0,this.Xa=e||!1;var t=gf();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.tu)}}},{key:"enqueue",value:function(e){var t=this;if(this.nu(),this.Ha)return new Promise((function(){}));var n=new go;return this.ru((function(){return t.Ha&&t.Xa?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.ja.push(e),t.iu()}))}},{key:"iu",value:function(){var e=c(i().mark((function e(){var t=this;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.ja.length){e.next=14;break}return e.prev=1,e.next=4,this.ja[0]();case 4:this.ja.shift(),this.Uo.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),Go(e.t0)){e.next=12;break}throw e.t0;case 12:so("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.ja.length>0&&this.Uo.No((function(){return t.iu()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"ru",value:function(e){var t=this,n=this.za.then((function(){return t.Za=!0,e().catch((function(e){t.Ya=e,t.Za=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw lo("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.Za=!1,e}))}));return this.za=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.nu(),this.eu.indexOf(e)>-1&&(t=0);var i=ph.createAndSchedule(this,e,t,n,(function(e){return r.su(e)}));return this.Ja.push(i),i}},{key:"nu",value:function(){this.Ya&&ho()}},{key:"verifyOperationInProgress",value:function(){}},{key:"ou",value:function(){var e=c(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.za,e.next=3,t;case 3:if(t!==this.za){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_u",value:function(e){var t,n=$(this.Ja);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"au",value:function(e){var t=this;return this.ou().then((function(){t.Ja.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=$(t.Ja);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.ou()}))}},{key:"uu",value:function(e){this.eu.push(e)}},{key:"su",value:function(e){var t=this.Ja.indexOf(e);this.Ja.splice(t,1)}}]),e}();function Hd(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=$(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var Kd=function(e){ne(n,e);var t=ae(n);function n(e,r,i,a){var o;return X(this,n),(o=t.call(this,e,r,i,a)).type="firestore",o._queue=new qd,o._persistenceKey=(null==a?void 0:a.name)||"[DEFAULT]",o}return Z(n,[{key:"_terminate",value:function(){return this._firestoreClient||Wd(this),this._firestoreClient.terminate()}}]),n}(Md);function Qd(e){return e._firestoreClient||Wd(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function Wd(e){var t,n,r,i=e._freezeSettings(),a=function(e,t,n,r){return new bu(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,Id(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new vd(e._authCredentials,e._appCheckCredentials,e._queue,a),(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}var Gd=function(){function e(t){X(this,e),this._byteString=t}return Z(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(hu.fromBase64String(t))}catch(t){throw new yo(mo.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(hu.fromUint8Array(t))}}]),e}(),Yd=function(){function e(){X(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new yo(mo.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Mo(n)}return Z(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var $d=Z((function e(t){X(this,e),this._methodName=t})),Xd=function(){function e(t,n){if(X(this,e),!isFinite(t)||t<-90||t>90)throw new yo(mo.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new yo(mo.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return Z(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return No(this._lat,e._lat)||No(this._long,e._long)}}]),e}(),Jd=/^__.*__$/,Zd=function(){function e(t,n,r){X(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return Z(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new ml(e,this.data,this.fieldMask,t,this.fieldTransforms):new vl(e,this.data,t,this.fieldTransforms)}}]),e}(),ep=function(){function e(t,n,r){X(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return Z(e,[{key:"toMutation",value:function(e,t){return new ml(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function tp(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ho()}}var np=function(){function e(t,n,r,i,a,o){X(this,e),this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===a&&this.cu(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return Z(e,[{key:"path",get:function(){return this.settings.path}},{key:"lu",get:function(){return this.settings.lu}},{key:"hu",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"Pu",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.hu({path:n,Iu:!1});return r.Tu(e),r}},{key:"Eu",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.hu({path:n,Iu:!1});return r.cu(),r}},{key:"du",value:function(e){return this.hu({path:void 0,Iu:!0})}},{key:"Au",value:function(e){return mp(e,this.settings.methodName,this.settings.Ru||!1,this.path,this.settings.Vu)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"cu",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.Tu(this.path.get(e))}},{key:"Tu",value:function(e){if(0===e.length)throw this.Au("Document fields must not be empty");if(tp(this.lu)&&Jd.test(e))throw this.Au('Document fields cannot begin and end with "__"')}}]),e}(),rp=function(){function e(t,n,r){X(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||kf(t)}return Z(e,[{key:"mu",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new np({lu:e,methodName:t,Vu:n,path:Mo.emptyPath(),Iu:!1,Ru:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}]),e}();function ip(e){var t=e._freezeSettings(),n=kf(e._databaseId);return new rp(e._databaseId,!!t.ignoreUndefinedProperties,n)}function ap(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.mu(a.merge||a.mergeFields?2:0,t,n,i);hp("Data must be an object, but it was:",o,r);var u,s,l=cp(r,o);if(a.merge)u=new cu(o.fieldMask),s=o.fieldTransforms;else if(a.mergeFields){var c,f=[],h=$(a.mergeFields);try{for(h.s();!(c=h.n()).done;){var d=dp(t,c.value,n);if(!o.contains(d))throw new yo(mo.INVALID_ARGUMENT,"Field '".concat(d,"' is specified in your field mask but missing from your input data."));yp(f,d)||f.push(d)}}catch(p){h.e(p)}finally{h.f()}u=new cu(f),s=o.fieldTransforms.filter((function(e){return u.covers(e.field)}))}else u=null,s=o.fieldTransforms;return new Zd(new Fu(l),u,s)}var op=function(e){ne(n,e);var t=ae(n);function n(){return X(this,n),t.apply(this,arguments)}return Z(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.lu)throw 1===e.lu?e.Au("".concat(this._methodName,"() can only appear at the top level of your update data")):e.Au("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}($d);function up(e,t,n,r){var i=e.mu(1,t,n);hp("Data must be an object, but it was:",i,r);var a=[],o=Fu.empty();ru(r,(function(e,r){var u=vp(t,e,n);r=Se(r);var s=i.Eu(u);if(r instanceof op)a.push(u);else{var l=lp(r,s);null!=l&&(a.push(u),o.set(u,l))}}));var u=new cu(a);return new ep(o,u,i.fieldTransforms)}function sp(e,t,n,r,i,a){var o=e.mu(1,t,n),u=[dp(t,r,n)],s=[i];if(a.length%2!=0)throw new yo(mo.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var l=0;l<a.length;l+=2)u.push(dp(t,a[l])),s.push(a[l+1]);for(var c=[],f=Fu.empty(),h=u.length-1;h>=0;--h)if(!yp(c,u[h])){var d=u[h],p=s[h];p=Se(p);var v=o.Eu(d);if(p instanceof op)c.push(d);else{var m=lp(p,v);null!=m&&(c.push(d),f.set(d,m))}}var y=new cu(c);return new ep(f,y,o.fieldTransforms)}function lp(e,t){if(fp(e=Se(e)))return hp("Unsupported field value:",t,e),cp(e,t);if(e instanceof $d)return function(e,t){if(!tp(t.lu))throw t.Au("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.Au("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Iu&&4!==t.lu)throw t.Au("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=$(e);try{for(a.s();!(n=a.n()).done;){var o=lp(n.value,t.du(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(u){a.e(u)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=Se(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Ws(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=Do.fromDate(e);return{timestampValue:Xl(t.serializer,n)}}if(e instanceof Do){var r=new Do(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Xl(t.serializer,r)}}if(e instanceof Xd)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Gd)return{bytesValue:Jl(t.serializer,e._byteString)};if(e instanceof Ud){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.Au("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:tc(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.Au("Unsupported field value: ".concat(Od(e)))}(e,t)}function cp(e,t){var n={};return iu(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ru(e,(function(e,r){var i=lp(r,t.Pu(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function fp(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Do||e instanceof Xd||e instanceof Gd||e instanceof Ud||e instanceof $d)}function hp(e,t,n){if(!fp(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=Od(n);throw"an object"===r?t.Au(e+" a custom object"):t.Au(e+" "+r)}}function dp(e,t,n){if((t=Se(t))instanceof Yd)return t._internalPath;if("string"==typeof t)return vp(e,t);throw mp("Field path arguments must be of type string or ",e,!1,void 0,n)}var pp=new RegExp("[~\\*/\\[\\]]");function vp(e,t,n){if(t.search(pp)>=0)throw mp("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return oe(Yd,p(t.split(".")))._internalPath}catch(Gt){throw mp("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function mp(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,u="Function ".concat(t,"() called with invalid data");n&&(u+=" (via `toFirestore()`)"),u+=". ";var s="";return(a||o)&&(s+=" (found",a&&(s+=" in field ".concat(r)),o&&(s+=" in document ".concat(i)),s+=")"),new yo(mo.INVALID_ARGUMENT,u+e+s)}function yp(e,t){return e.some((function(e){return e.isEqual(t)}))}var gp=function(){function e(t,n,r,i,a){X(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return Z(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new Ud(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new kp(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(bp("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),kp=function(e){ne(n,e);var t=ae(n);function n(){return X(this,n),t.apply(this,arguments)}return Z(n,[{key:"data",value:function(){return Rt(re(n.prototype),"data",this).call(this)}}]),n}(gp);function bp(e,t){return"string"==typeof t?vp(e,t):t instanceof Yd?t._internalPath:t._delegate._internalPath}function wp(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new yo(mo.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Ep=function(){function e(){X(this,e)}return Z(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(_u(e)){case 0:return null;case 1:return e.booleanValue;case 2:return vu(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(mu(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw ho()}}},{key:"convertObject",value:function(e,t){return this.convertObjectMap(e.fields,t)}},{key:"convertObjectMap",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none",r={};return ru(e,(function(e,i){r[e]=t.convertValue(i,n)})),r}},{key:"convertGeoPoint",value:function(e){return new Xd(vu(e.latitude),vu(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=gu(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(ku(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=pu(e);return new Do(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=Ro.fromString(e);po(Ec(n));var r=new wu(n.get(1),n.get(3)),i=new Fo(n.popFirst(5));return r.isEqual(t)||lo("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function _p(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var Sp=function(){function e(t,n){X(this,e),this.hasPendingWrites=t,this.fromCache=n}return Z(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),xp=function(e){ne(n,e);var t=ae(n);function n(e,r,i,a,o,u){var s;return X(this,n),(s=t.call(this,e,r,i,a,u))._firestore=e,s._firestoreImpl=e,s.metadata=o,s}return Z(n,[{key:"exists",value:function(){return Rt(re(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new Tp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(bp("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(gp),Tp=function(e){ne(n,e);var t=ae(n);function n(){return X(this,n),t.apply(this,arguments)}return Z(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Rt(re(n.prototype),"data",this).call(this,e)}}]),n}(xp),Cp=function(){function e(t,n,r,i){X(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new Sp(i.hasPendingWrites,i.fromCache),this.query=r}return Z(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new Tp(n._firestore,n._userDataWriter,r.key,r,new Sp(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new yo(mo.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){var r=new Tp(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Sp(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);return t.doc,{type:"added",doc:r,oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new Tp(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Sp(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:Ip(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}]),e}();function Ip(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ho()}}var Np=function(e){ne(n,e);var t=ae(n);function n(e){var r;return X(this,n),(r=t.call(this)).firestore=e,r}return Z(n,[{key:"convertBytes",value:function(e){return new Gd(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ud(this.firestore,null,t)}}]),n}(Ep);function Ap(e,t,n){e=Rd(e,Ud);var r=Rd(e.firestore,Kd),i=_p(e.converter,t,n);return Rp(r,[ap(ip(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,ul.none())])}function Dp(e,t,n){e=Rd(e,Ud);for(var r=Rd(e.firestore,Kd),i=ip(r),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return Rp(r,[("string"==typeof(t=Se(t))||t instanceof Yd?sp(i,"updateDoc",e._key,t,n,o):up(i,"updateDoc",e._key,t)).toMutation(e._key,ul.exists(!0))])}function Lp(e,t){var n=Rd(e.firestore,Kd),r=Bd(e),i=_p(e.converter,t);return Rp(n,[ap(ip(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,ul.exists(!1))]).then((function(){return r}))}function Op(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var a,o,u;e=Se(e);var s={includeMetadataChanges:!1},l=0;"object"!=typeof n[l]||Hd(n[l])||(s=n[l],l++);var f,h,d,p={includeMetadataChanges:s.includeMetadataChanges};if(Hd(n[l])){var v=n[l];n[l]=null===(a=v.next)||void 0===a?void 0:a.bind(v),n[l+1]=null===(o=v.error)||void 0===o?void 0:o.bind(v),n[l+2]=null===(u=v.complete)||void 0===u?void 0:u.bind(v)}if(e instanceof Ud)h=Rd(e.firestore,Kd),d=vs(e._key.path),f={next:function(t){n[l]&&n[l](Pp(h,e,t))},error:n[l+1],complete:n[l+2]};else{var m=Rd(e,Vd);h=Rd(m.firestore,Kd),d=m._query;var y=new Np(h);f={next:function(e){n[l]&&n[l](new Cp(h,y,m,e))},error:n[l+1],complete:n[l+2]},wp(e._query)}return function(e,t,n,r){var a=new pd(r),o=new Ih(t,a,n);return e.asyncQueue.enqueueAndForget(c(i().mark((function t(){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=wh,t.next=3,Td(e);case 3:return t.t1=t.sent,t.t2=o,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){a.Ma(),e.asyncQueue.enqueueAndForget(c(i().mark((function t(){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=_h,t.next=3,Td(e);case 3:return t.t1=t.sent,t.t2=o,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(Qd(h),d,p,f)}function Rp(e,t){return function(e,t){var n=new go;return e.asyncQueue.enqueueAndForget(c(i().mark((function r(){return i().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=zh,r.next=3,xd(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(Qd(e),t)}function Pp(e,t,n){var r=n.docs.get(t._key),i=new Np(e);return new xp(e,i,t._key,r,new Sp(n.hasPendingWrites,n.fromCache),t.converter)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){ao=e}("10.3.0"),ft(new xe("firestore",(function(e,n){var r=n.instanceIdentifier,i=n.options,a=e.getProvider("app").getImmediate(),o=new Kd(new Eo(e.getProvider("auth-internal")),new To(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new yo(mo.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new wu(e.options.projectId,t)}(a,r),a);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o}),"PUBLIC").setMultipleInstances(!0)),yt(ro,"4.1.2",e),yt(ro,"4.1.2","esm2017")}();var Mp=function(e,t){var n="object"==typeof e?e:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ot,t=st.get(e);if(!t&&e===ot&&me())return mt();if(!t)throw pt.create("no-app",{appName:e});return t}(),r="string"==typeof e?e:t||"(default)",i=ht(n,"firestore").getImmediate({identifier:r});if(!i._initialized){var a=ve("firestore");a&&Fd.apply(void 0,[i].concat(p(a)))}return i}(mt({apiKey:"AIzaSyAyyUNOnyf0YJnU0zjybSugOcLspA-Z8fo",authDomain:"photo-folio-5dbb9.firebaseapp.com",projectId:"photo-folio-5dbb9",storageBucket:"photo-folio-5dbb9.appspot.com",messagingSenderId:"187159925256",appId:"1:187159925256:web:5ce57751b2b8f3923fb7bd"}));function Fp(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Vp(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=Vp(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}var Up=function(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=Vp(e))&&(r&&(r+=" "),r+=t);return r},jp=["theme","type"],zp=["delay","staleId"],Bp=function(e){return"number"==typeof e&&!isNaN(e)},qp=function(e){return"string"==typeof e},Hp=function(e){return"function"==typeof e},Kp=function(e){return qp(e)||Hp(e)?e:null},Qp=function(t){return(0,e.isValidElement)(t)||qp(t)||Hp(t)||Bp(t)};function Wp(t){var n=t.enter,r=t.exit,i=t.appendPosition,a=void 0!==i&&i,o=t.collapse,u=void 0===o||o,s=t.collapseDuration,l=void 0===s?300:s;return function(t){var i=t.children,o=t.position,s=t.preventExitTransition,c=t.done,f=t.nodeRef,h=t.isIn,d=a?"".concat(n,"--").concat(o):n,v=a?"".concat(r,"--").concat(o):r,m=(0,e.useRef)(0);return(0,e.useLayoutEffect)((function(){var e,t=f.current,n=d.split(" "),r=function e(r){var i;r.target===f.current&&(t.dispatchEvent(new Event("d")),t.removeEventListener("animationend",e),t.removeEventListener("animationcancel",e),0===m.current&&"animationcancel"!==r.type&&(i=t.classList).remove.apply(i,p(n)))};(e=t.classList).add.apply(e,p(n)),t.addEventListener("animationend",r),t.addEventListener("animationcancel",r)}),[]),(0,e.useEffect)((function(){var e=f.current,t=function t(){e.removeEventListener("animationend",t),u?function(e,t,n){void 0===n&&(n=300);var r=e.scrollHeight,i=e.style;requestAnimationFrame((function(){i.minHeight="initial",i.height=r+"px",i.transition="all ".concat(n,"ms"),requestAnimationFrame((function(){i.height="0",i.padding="0",i.margin="0",setTimeout(t,n)}))}))}(e,c,l):c()};h||(s?t():(m.current=1,e.className+=" ".concat(v),e.addEventListener("animationend",t)))}),[h]),e.createElement(e.Fragment,null,i)}}function Gp(e,t){return null!=e?{content:e.content,containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,status:t}:{}}var Yp={list:new Map,emitQueue:new Map,on:function(e,t){return this.list.has(e)||this.list.set(e,[]),this.list.get(e).push(t),this},off:function(e,t){if(t){var n=this.list.get(e).filter((function(e){return e!==t}));return this.list.set(e,n),this}return this.list.delete(e),this},cancelEmit:function(e){var t=this.emitQueue.get(e);return t&&(t.forEach(clearTimeout),this.emitQueue.delete(e)),this},emit:function(e){var t=arguments,n=this;this.list.has(e)&&this.list.get(e).forEach((function(r){var i=setTimeout((function(){r.apply(void 0,p([].slice.call(t,1)))}),0);n.emitQueue.has(e)||n.emitQueue.set(e,[]),n.emitQueue.get(e).push(i)}))}},$p=function(t){var n=t.theme,r=t.type,i=Fp(t,jp);return e.createElement("svg",s({viewBox:"0 0 24 24",width:"100%",height:"100%",fill:"colored"===n?"currentColor":"var(--toastify-icon-color-".concat(r,")")},i))},Xp={info:function(t){return e.createElement($p,s({},t),e.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(t){return e.createElement($p,s({},t),e.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(t){return e.createElement($p,s({},t),e.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(t){return e.createElement($p,s({},t),e.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return e.createElement("div",{className:"Toastify__spinner"})}};function Jp(t){var n=(0,e.useReducer)((function(e){return e+1}),0),r=d(n,2)[1],i=d((0,e.useState)([]),2),a=i[0],o=i[1],u=(0,e.useRef)(null),l=(0,e.useRef)(new Map).current,c=function(e){return-1!==a.indexOf(e)},f=(0,e.useRef)({toastKey:1,displayedToast:0,count:0,queue:[],props:t,containerId:null,isToastActive:c,getToast:function(e){return l.get(e)}}).current;function h(e){var t=e.containerId;!f.props.limit||t&&f.containerId!==t||(f.count-=f.queue.length,f.queue=[])}function v(e){o((function(t){return null==e?[]:t.filter((function(t){return t!==e}))}))}function m(){var e=f.queue.shift();g(e.toastContent,e.toastProps,e.staleId)}function y(t,n){var i=n.delay,a=n.staleId,o=Fp(n,zp);if(Qp(t)&&!function(e){return!u.current||f.props.enableMultiContainer&&e.containerId!==f.props.containerId||l.has(e.toastId)&&null==e.updateId}(o)){var c=o.toastId,h=o.updateId,p=o.data,y=f.props,k=function(){return v(c)},b=null==h;b&&f.count++;var w,E,_=s(s(s({},y),{},{style:y.toastStyle,key:f.toastKey++},Object.fromEntries(Object.entries(o).filter((function(e){var t=d(e,2);t[0];return null!=t[1]})))),{},{toastId:c,updateId:h,data:p,closeToast:k,isIn:!1,className:Kp(o.className||y.toastClassName),bodyClassName:Kp(o.bodyClassName||y.bodyClassName),progressClassName:Kp(o.progressClassName||y.progressClassName),autoClose:!o.isLoading&&(w=o.autoClose,E=y.autoClose,!1===w||Bp(w)&&w>0?w:E),deleteToast:function(){var e=Gp(l.get(c),"removed");l.delete(c),Yp.emit(4,e);var t=f.queue.length;if(f.count=null==c?f.count-f.displayedToast:f.count-1,f.count<0&&(f.count=0),t>0){var n=null==c?f.props.limit:1;if(1===t||1===n)f.displayedToast++,m();else{var i=n>t?t:n;f.displayedToast=i;for(var a=0;a<i;a++)m()}}else r()}});_.iconOut=function(t){var n=t.theme,r=t.type,i=t.isLoading,a=t.icon,o=null,u={theme:n,type:r};return!1===a||(Hp(a)?o=a(u):(0,e.isValidElement)(a)?o=(0,e.cloneElement)(a,u):qp(a)||Bp(a)?o=a:i?o=Xp.spinner():function(e){return e in Xp}(r)&&(o=Xp[r](u))),o}(_),Hp(o.onOpen)&&(_.onOpen=o.onOpen),Hp(o.onClose)&&(_.onClose=o.onClose),_.closeButton=y.closeButton,!1===o.closeButton||Qp(o.closeButton)?_.closeButton=o.closeButton:!0===o.closeButton&&(_.closeButton=!Qp(y.closeButton)||y.closeButton);var S=t;(0,e.isValidElement)(t)&&!qp(t.type)?S=(0,e.cloneElement)(t,{closeToast:k,toastProps:_,data:p}):Hp(t)&&(S=t({closeToast:k,toastProps:_,data:p})),y.limit&&y.limit>0&&f.count>y.limit&&b?f.queue.push({toastContent:S,toastProps:_,staleId:a}):Bp(i)?setTimeout((function(){g(S,_,a)}),i):g(S,_,a)}}function g(e,t,n){var r=t.toastId;n&&l.delete(n);var i={content:e,props:t};l.set(r,i),o((function(e){return[].concat(p(e),[r]).filter((function(e){return e!==n}))})),Yp.emit(4,Gp(i,null==i.props.updateId?"added":"updated"))}return(0,e.useEffect)((function(){return f.containerId=t.containerId,Yp.cancelEmit(3).on(0,y).on(1,(function(e){return u.current&&v(e)})).on(5,h).emit(2,f),function(){l.clear(),Yp.emit(3,f)}}),[]),(0,e.useEffect)((function(){f.props=t,f.isToastActive=c,f.displayedToast=a.length})),{getToastToRender:function(e){var n=new Map,r=Array.from(l.values());return t.newestOnTop&&r.reverse(),r.forEach((function(e){var t=e.props.position;n.has(t)||n.set(t,[]),n.get(t).push(e)})),Array.from(n,(function(t){return e(t[0],t[1])}))},containerRef:u,isToastActive:c}}function Zp(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientX:e.clientX}function ev(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientY:e.clientY}function tv(t){var n=t.closeToast,r=t.theme,i=t.ariaLabel,a=void 0===i?"close":i;return e.createElement("button",{className:"Toastify__close-button Toastify__close-button--".concat(r),type:"button",onClick:function(e){e.stopPropagation(),n(e)},"aria-label":a},e.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},e.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function nv(t){var n=t.delay,r=t.isRunning,i=t.closeToast,a=t.type,u=void 0===a?"default":a,l=t.hide,c=t.className,f=t.style,h=t.controlledProgress,d=t.progress,p=t.rtl,v=t.isIn,m=t.theme,y=l||h&&0===d,g=s(s({},f),{},{animationDuration:"".concat(n,"ms"),animationPlayState:r?"running":"paused",opacity:y?0:1});h&&(g.transform="scaleX(".concat(d,")"));var k=Up("Toastify__progress-bar",h?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated","Toastify__progress-bar-theme--".concat(m),"Toastify__progress-bar--".concat(u),{"Toastify__progress-bar--rtl":p}),b=Hp(c)?c({rtl:p,type:u,defaultClassName:k}):Up(k,c);return e.createElement("div",o({role:"progressbar","aria-hidden":y?"true":"false","aria-label":"notification timer",className:b,style:g},h&&d>=1?"onTransitionEnd":"onAnimationEnd",h&&d<1?null:function(){v&&i()}))}var rv=function(t){var n=function(t){var n=d((0,e.useState)(!1),2),r=n[0],i=n[1],a=d((0,e.useState)(!1),2),o=a[0],u=a[1],s=(0,e.useRef)(null),l=(0,e.useRef)({start:0,x:0,y:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,boundingRect:null,didMove:!1}).current,c=(0,e.useRef)(t),f=t.autoClose,h=t.pauseOnHover,p=t.closeToast,v=t.onClick,m=t.closeOnClick;function y(e){if(t.draggable){"touchstart"===e.nativeEvent.type&&e.nativeEvent.preventDefault(),l.didMove=!1,document.addEventListener("mousemove",w),document.addEventListener("mouseup",E),document.addEventListener("touchmove",w),document.addEventListener("touchend",E);var n=s.current;l.canCloseOnClick=!0,l.canDrag=!0,l.boundingRect=n.getBoundingClientRect(),n.style.transition="",l.x=Zp(e.nativeEvent),l.y=ev(e.nativeEvent),"x"===t.draggableDirection?(l.start=l.x,l.removalDistance=n.offsetWidth*(t.draggablePercent/100)):(l.start=l.y,l.removalDistance=n.offsetHeight*(80===t.draggablePercent?1.5*t.draggablePercent:t.draggablePercent/100))}}function g(e){if(l.boundingRect){var n=l.boundingRect,r=n.top,i=n.bottom,a=n.left,o=n.right;"touchend"!==e.nativeEvent.type&&t.pauseOnHover&&l.x>=a&&l.x<=o&&l.y>=r&&l.y<=i?b():k()}}function k(){i(!0)}function b(){i(!1)}function w(e){var n=s.current;l.canDrag&&n&&(l.didMove=!0,r&&b(),l.x=Zp(e),l.y=ev(e),l.delta="x"===t.draggableDirection?l.x-l.start:l.y-l.start,l.start!==l.x&&(l.canCloseOnClick=!1),n.style.transform="translate".concat(t.draggableDirection,"(").concat(l.delta,"px)"),n.style.opacity=""+(1-Math.abs(l.delta/l.removalDistance)))}function E(){document.removeEventListener("mousemove",w),document.removeEventListener("mouseup",E),document.removeEventListener("touchmove",w),document.removeEventListener("touchend",E);var e=s.current;if(l.canDrag&&l.didMove&&e){if(l.canDrag=!1,Math.abs(l.delta)>l.removalDistance)return u(!0),void t.closeToast();e.style.transition="transform 0.2s, opacity 0.2s",e.style.transform="translate".concat(t.draggableDirection,"(0)"),e.style.opacity="1"}}(0,e.useEffect)((function(){c.current=t})),(0,e.useEffect)((function(){return s.current&&s.current.addEventListener("d",k,{once:!0}),Hp(t.onOpen)&&t.onOpen((0,e.isValidElement)(t.children)&&t.children.props),function(){var t=c.current;Hp(t.onClose)&&t.onClose((0,e.isValidElement)(t.children)&&t.children.props)}}),[]),(0,e.useEffect)((function(){return t.pauseOnFocusLoss&&(document.hasFocus()||b(),window.addEventListener("focus",k),window.addEventListener("blur",b)),function(){t.pauseOnFocusLoss&&(window.removeEventListener("focus",k),window.removeEventListener("blur",b))}}),[t.pauseOnFocusLoss]);var _={onMouseDown:y,onTouchStart:y,onMouseUp:g,onTouchEnd:g};return f&&h&&(_.onMouseEnter=b,_.onMouseLeave=k),m&&(_.onClick=function(e){v&&v(e),l.canCloseOnClick&&p()}),{playToast:k,pauseToast:b,isRunning:r,preventExitTransition:o,toastRef:s,eventHandlers:_}}(t),r=n.isRunning,i=n.preventExitTransition,a=n.toastRef,o=n.eventHandlers,u=t.closeButton,l=t.children,c=t.autoClose,f=t.onClick,h=t.type,p=t.hideProgressBar,v=t.closeToast,m=t.transition,y=t.position,g=t.className,k=t.style,b=t.bodyClassName,w=t.bodyStyle,E=t.progressClassName,_=t.progressStyle,S=t.updateId,x=t.role,T=t.progress,C=t.rtl,I=t.toastId,N=t.deleteToast,A=t.isIn,D=t.isLoading,L=t.iconOut,O=t.closeOnClick,R=t.theme,P=Up("Toastify__toast","Toastify__toast-theme--".concat(R),"Toastify__toast--".concat(h),{"Toastify__toast--rtl":C},{"Toastify__toast--close-on-click":O}),M=Hp(g)?g({rtl:C,position:y,type:h,defaultClassName:P}):Up(P,g),F=!!T||!c,V={closeToast:v,type:h,theme:R},U=null;return!1===u||(U=Hp(u)?u(V):(0,e.isValidElement)(u)?(0,e.cloneElement)(u,V):tv(V)),e.createElement(m,{isIn:A,done:N,position:y,preventExitTransition:i,nodeRef:a},e.createElement("div",s(s({id:I,onClick:f,className:M},o),{},{style:k,ref:a}),e.createElement("div",s(s({},A&&{role:x}),{},{className:Hp(b)?b({type:h}):Up("Toastify__toast-body",b),style:w}),null!=L&&e.createElement("div",{className:Up("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!D})},L),e.createElement("div",null,l)),U,e.createElement(nv,s(s({},S&&!F?{key:"pb-".concat(S)}:{}),{},{rtl:C,theme:R,delay:c,isRunning:r,isIn:A,closeToast:v,hide:p,type:h,style:_,className:E,controlledProgress:F,progress:T||0}))))},iv=function(e,t){return void 0===t&&(t=!1),{enter:"Toastify--animate Toastify__".concat(e,"-enter"),exit:"Toastify--animate Toastify__".concat(e,"-exit"),appendPosition:t}},av=Wp(iv("bounce",!0)),ov=(Wp(iv("slide",!0)),Wp(iv("zoom")),Wp(iv("flip")),(0,e.forwardRef)((function(t,n){var r=Jp(t),i=r.getToastToRender,a=r.containerRef,o=r.isToastActive,u=t.className,l=t.style,c=t.rtl,f=t.containerId;function h(e){var t=Up("Toastify__toast-container","Toastify__toast-container--".concat(e),{"Toastify__toast-container--rtl":c});return Hp(u)?u({position:e,rtl:c,defaultClassName:t}):Up(t,Kp(u))}return(0,e.useEffect)((function(){n&&(n.current=a.current)}),[]),e.createElement("div",{ref:a,className:"Toastify",id:f},i((function(t,n){var r=n.length?s({},l):s(s({},l),{},{pointerEvents:"none"});return e.createElement("div",{className:h(t),style:r,key:"container-".concat(t)},n.map((function(t,r){var i=t.content,a=t.props;return e.createElement(rv,s(s({},a),{},{isIn:o(a.toastId),style:s(s({},a.style),{},{"--nth":r+1,"--len":n.length}),key:"toast-".concat(a.key)}),i)})))})))})));ov.displayName="ToastContainer",ov.defaultProps={position:"top-right",transition:av,autoClose:5e3,closeButton:tv,pauseOnHover:!0,pauseOnFocusLoss:!0,closeOnClick:!0,draggable:!0,draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};var uv,sv=new Map,lv=[],cv=1;function fv(){return""+cv++}function hv(e){return e&&(qp(e.toastId)||Bp(e.toastId))?e.toastId:fv()}function dv(e,t){return sv.size>0?Yp.emit(0,e,t):lv.push({content:e,options:t}),t.toastId}function pv(e,t){return s(s({},t),{},{type:t&&t.type||e,toastId:hv(t)})}function vv(e){return function(t,n){return dv(t,pv(e,n))}}function mv(e,t){return dv(e,pv("default",t))}mv.loading=function(e,t){return dv(e,pv("default",s({isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1},t)))},mv.promise=function(e,t,n){var r,i=t.pending,a=t.error,o=t.success;i&&(r=qp(i)?mv.loading(i,n):mv.loading(i.render,s(s({},n),i)));var u={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},l=function(e,t,i){if(null!=t){var a=s(s(s({type:e},u),n),{},{data:i}),o=qp(t)?{render:t}:t;return r?mv.update(r,s(s({},a),o)):mv(o.render,s(s({},a),o)),i}mv.dismiss(r)},c=Hp(e)?e():e;return c.then((function(e){return l("success",o,e)})).catch((function(e){return l("error",a,e)})),c},mv.success=vv("success"),mv.info=vv("info"),mv.error=vv("error"),mv.warning=vv("warning"),mv.warn=mv.warning,mv.dark=function(e,t){return dv(e,pv("default",s({theme:"dark"},t)))},mv.dismiss=function(e){sv.size>0?Yp.emit(1,e):lv=lv.filter((function(t){return null!=e&&t.options.toastId!==e}))},mv.clearWaitingQueue=function(e){return void 0===e&&(e={}),Yp.emit(5,e)},mv.isActive=function(e){var t=!1;return sv.forEach((function(n){n.isToastActive&&n.isToastActive(e)&&(t=!0)})),t},mv.update=function(e,t){void 0===t&&(t={}),setTimeout((function(){var n=function(e,t){var n=t.containerId,r=sv.get(n||uv);return r&&r.getToast(e)}(e,t);if(n){var r=n.props,i=n.content,a=s(s(s({delay:100},r),t),{},{toastId:t.toastId||e,updateId:fv()});a.toastId!==e&&(a.staleId=e);var o=a.render||i;delete a.render,dv(o,a)}}),0)},mv.done=function(e){mv.update(e,{progress:1})},mv.onChange=function(e){return Yp.on(4,e),function(){Yp.off(4,e)}},mv.POSITION={TOP_LEFT:"top-left",TOP_RIGHT:"top-right",TOP_CENTER:"top-center",BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",BOTTOM_CENTER:"bottom-center"},mv.TYPE={INFO:"info",SUCCESS:"success",WARNING:"warning",ERROR:"error",DEFAULT:"default"},Yp.on(2,(function(e){uv=e.containerId||e,sv.set(uv,e),lv.forEach((function(e){Yp.emit(0,e.content,e.options)})),lv=[]})).on(3,(function(e){sv.delete(e.containerId||e),0===sv.size&&Yp.off(0).off(1).off(5)}));var yv=function(t){var n=t.toggleIsImgList,r=t.selectedAlbum,a=d((0,e.useState)(!1),2),o=a[0],u=a[1],s=d((0,e.useState)([]),2),l=s[0],f=s[1],h=d((0,e.useState)(null),2),v=h[0],y=h[1],g=d((0,e.useState)({carousel:!1,index:null}),2),k=g[0],b=g[1],w=(0,e.useRef)(),E=(0,e.useRef)();(0,e.useEffect)((function(){var e=function(){var e=c(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Op(Bd(Mp,"photofolio",r.id),(function(e){f(e.data().images)}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[r]),(0,e.useEffect)((function(){v&&(w.current.value=v.title,E.current.value=v.url)}),[v]);var _=function(){var e=c(i().mark((function e(t){var n,a,o,u;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),n=w.current.value,a=E.current.value,v){e.next=11;break}return o={id:Date.now(),title:n,url:a},f([o].concat(p(l))),e.next=8,Ap(Bd(Mp,"photofolio",r.id),{name:r.name,images:[o].concat(p(l))});case 8:return C(),mv.success("Image added successfully."),e.abrupt("return");case 11:if(u={id:v.id,title:n,url:a},x(u)){e.next=15;break}return e.abrupt("return");case 15:C(),y(null),mv.success("Image updated successfully.");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=function(){var e=c(i().mark((function e(t){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l.splice(t,1),f(l),n=Bd(Mp,"photofolio",r.id),e.next=5,Dp(n,{images:l});case 5:mv.success("Image  deleted successfully.");case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),x=function(){var e=c(i().mark((function e(t){var n,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=l.indexOf(v),l[n]=t,f(p(l)),a=Bd(Mp,"photofolio",r.id),e.next=6,Dp(a,{images:l});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),T=function(e){u(!0),y(e)},C=function(){w.current.value="",E.current.value=""};return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(ov,{}),k.carousel?(0,m.jsx)(M,{images:l,isCarousel:k,setIsCarousel:b}):(0,m.jsxs)("div",{className:B,children:[(0,m.jsxs)("div",{className:K,children:[(0,m.jsx)("div",{className:G,onClick:n,children:(0,m.jsx)("img",{src:"https://cdn-icons-png.flaticon.com/128/2099/2099238.png",alt:"back"})}),(0,m.jsx)("div",{children:(0,m.jsx)("h1",{children:0===l.length?"No images found in this album...":null})}),(0,m.jsx)("div",{className:o?W:Q,children:(0,m.jsx)("button",{onClick:function(){u(!o),y(null)},children:o?"Cancel":"Add Image"})})]}),o?(0,m.jsxs)("div",{className:q,children:[(0,m.jsxs)("span",{children:["Add Image to ",r.name]}),(0,m.jsxs)("form",{onSubmit:_,children:[(0,m.jsx)("input",{placeholder:"Title",ref:w,required:!0}),(0,m.jsx)("input",{placeholder:"Image URL",ref:E,required:!0}),(0,m.jsxs)("div",{className:H,children:[(0,m.jsx)("button",{children:null==v?"Create":"Update"}),(0,m.jsx)("button",{onClick:C,children:"Clear"})]})]})]}):null,(0,m.jsx)("div",{className:Y,children:l.map((function(e,t){return(0,m.jsx)(z,{setIsCarousel:b,image:e,index:t,deleteImg:S,setUpdateImg:T},e.id)}))})]})]})},gv=function(e,t){var n=t.payload;switch(t.type){case"SET_ALBUM":return{albums:p(n.albums)};case"ADD_ALBUM":return{albums:[n.album].concat(p(e.albums))};default:return e}};var kv=function(){var t=d((0,e.useReducer)(gv,{albums:[]}),2),n=t[0],r=t[1],a=d((0,e.useState)(!1),2),o=a[0],u=a[1],l=d((0,e.useState)(null),2),f=l[0],h=l[1];(0,e.useEffect)((function(){function e(){return(e=c(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Op(zd(Mp,"photofolio"),(function(e){var t=e.docs.map((function(e){return s({id:e.id},e.data())}));r({type:"SET_ALBUM",payload:{albums:t}})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var p=function(){var e=c(i().mark((function e(t){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={name:t,images:[]},mv.success("Album created successfully."),e.next=4,Lp(zd(Mp,"photofolio"),n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=function(e){u(!o),h(e)};return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(ov,{}),(0,m.jsxs)("div",{className:"App",children:[(0,m.jsx)(y,{}),o?(0,m.jsx)(yv,{toggleIsImgList:v,selectedAlbum:f}):(0,m.jsx)(C,{toggleIsImgList:v,addAlbum:p,albums:n.albums})]})]})};t.createRoot(document.getElementById("root")).render((0,m.jsx)(e.StrictMode,{children:(0,m.jsx)(kv,{})}))}()}();
//# sourceMappingURL=main.c319fc33.js.map